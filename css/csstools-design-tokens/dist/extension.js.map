{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://csstools-design-tokens/../../node_modules/picocolors/picocolors.js","webpack://csstools-design-tokens/../../node_modules/postcss-value-parser/lib/index.js","webpack://csstools-design-tokens/../../node_modules/postcss-value-parser/lib/parse.js","webpack://csstools-design-tokens/../../node_modules/postcss-value-parser/lib/stringify.js","webpack://csstools-design-tokens/../../node_modules/postcss-value-parser/lib/unit.js","webpack://csstools-design-tokens/../../node_modules/postcss-value-parser/lib/walk.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/at-rule.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/comment.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/container.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/css-syntax-error.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/declaration.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/document.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/fromJSON.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/input.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/lazy-result.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/list.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/map-generator.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/no-work-result.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/node.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/parse.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/parser.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/postcss.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/previous-map.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/processor.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/result.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/root.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/rule.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/stringifier.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/stringify.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/symbols.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/terminal-highlight.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/tokenize.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/warn-once.js","webpack://csstools-design-tokens/../../node_modules/postcss/lib/warning.js","webpack://csstools-design-tokens/../../node_modules/source-map-js/lib/array-set.js","webpack://csstools-design-tokens/../../node_modules/source-map-js/lib/base64-vlq.js","webpack://csstools-design-tokens/../../node_modules/source-map-js/lib/base64.js","webpack://csstools-design-tokens/../../node_modules/source-map-js/lib/binary-search.js","webpack://csstools-design-tokens/../../node_modules/source-map-js/lib/mapping-list.js","webpack://csstools-design-tokens/../../node_modules/source-map-js/lib/quick-sort.js","webpack://csstools-design-tokens/../../node_modules/source-map-js/lib/source-map-consumer.js","webpack://csstools-design-tokens/../../node_modules/source-map-js/lib/source-map-generator.js","webpack://csstools-design-tokens/../../node_modules/source-map-js/lib/source-node.js","webpack://csstools-design-tokens/../../node_modules/source-map-js/lib/util.js","webpack://csstools-design-tokens/../../node_modules/source-map-js/source-map.js","webpack://csstools-design-tokens/./src/extension.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/parse-import.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/style-dictionary/style-dictionary.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/style-dictionary/v3/dereference.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/style-dictionary/v3/group.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/style-dictionary/v3/value.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/token.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/toposort/toposort.ts","webpack://csstools-design-tokens/./src/postcss/index.ts","webpack://csstools-design-tokens/external commonjs \"vscode\"","webpack://csstools-design-tokens/external node-commonjs \"fs\"","webpack://csstools-design-tokens/external node-commonjs \"path\"","webpack://csstools-design-tokens/external node-commonjs \"tty\"","webpack://csstools-design-tokens/external node-commonjs \"url\"","webpack://csstools-design-tokens/../../node_modules/postcss/node_modules/nanoid/non-secure/index.cjs","webpack://csstools-design-tokens/webpack/bootstrap","webpack://csstools-design-tokens/webpack/startup"],"sourcesContent":["let tty = require(\"tty\")\n\nlet isColorSupported =\n\t!(\"NO_COLOR\" in process.env || process.argv.includes(\"--no-color\")) &&\n\t(\"FORCE_COLOR\" in process.env ||\n\t\tprocess.argv.includes(\"--color\") ||\n\t\tprocess.platform === \"win32\" ||\n\t\t(tty.isatty(1) && process.env.TERM !== \"dumb\") ||\n\t\t\"CI\" in process.env)\n\nlet formatter =\n\t(open, close, replace = open) =>\n\tinput => {\n\t\tlet string = \"\" + input\n\t\tlet index = string.indexOf(close, open.length)\n\t\treturn ~index\n\t\t\t? open + replaceClose(string, close, replace, index) + close\n\t\t\t: open + string + close\n\t}\n\nlet replaceClose = (string, close, replace, index) => {\n\tlet start = string.substring(0, index) + replace\n\tlet end = string.substring(index + close.length)\n\tlet nextIndex = end.indexOf(close)\n\treturn ~nextIndex ? start + replaceClose(end, close, replace, nextIndex) : start + end\n}\n\nlet createColors = (enabled = isColorSupported) => ({\n\tisColorSupported: enabled,\n\treset: enabled ? s => `\\x1b[0m${s}\\x1b[0m` : String,\n\tbold: enabled ? formatter(\"\\x1b[1m\", \"\\x1b[22m\", \"\\x1b[22m\\x1b[1m\") : String,\n\tdim: enabled ? formatter(\"\\x1b[2m\", \"\\x1b[22m\", \"\\x1b[22m\\x1b[2m\") : String,\n\titalic: enabled ? formatter(\"\\x1b[3m\", \"\\x1b[23m\") : String,\n\tunderline: enabled ? formatter(\"\\x1b[4m\", \"\\x1b[24m\") : String,\n\tinverse: enabled ? formatter(\"\\x1b[7m\", \"\\x1b[27m\") : String,\n\thidden: enabled ? formatter(\"\\x1b[8m\", \"\\x1b[28m\") : String,\n\tstrikethrough: enabled ? formatter(\"\\x1b[9m\", \"\\x1b[29m\") : String,\n\tblack: enabled ? formatter(\"\\x1b[30m\", \"\\x1b[39m\") : String,\n\tred: enabled ? formatter(\"\\x1b[31m\", \"\\x1b[39m\") : String,\n\tgreen: enabled ? formatter(\"\\x1b[32m\", \"\\x1b[39m\") : String,\n\tyellow: enabled ? formatter(\"\\x1b[33m\", \"\\x1b[39m\") : String,\n\tblue: enabled ? formatter(\"\\x1b[34m\", \"\\x1b[39m\") : String,\n\tmagenta: enabled ? formatter(\"\\x1b[35m\", \"\\x1b[39m\") : String,\n\tcyan: enabled ? formatter(\"\\x1b[36m\", \"\\x1b[39m\") : String,\n\twhite: enabled ? formatter(\"\\x1b[37m\", \"\\x1b[39m\") : String,\n\tgray: enabled ? formatter(\"\\x1b[90m\", \"\\x1b[39m\") : String,\n\tbgBlack: enabled ? formatter(\"\\x1b[40m\", \"\\x1b[49m\") : String,\n\tbgRed: enabled ? formatter(\"\\x1b[41m\", \"\\x1b[49m\") : String,\n\tbgGreen: enabled ? formatter(\"\\x1b[42m\", \"\\x1b[49m\") : String,\n\tbgYellow: enabled ? formatter(\"\\x1b[43m\", \"\\x1b[49m\") : String,\n\tbgBlue: enabled ? formatter(\"\\x1b[44m\", \"\\x1b[49m\") : String,\n\tbgMagenta: enabled ? formatter(\"\\x1b[45m\", \"\\x1b[49m\") : String,\n\tbgCyan: enabled ? formatter(\"\\x1b[46m\", \"\\x1b[49m\") : String,\n\tbgWhite: enabled ? formatter(\"\\x1b[47m\", \"\\x1b[49m\") : String,\n})\n\nmodule.exports = createColors()\nmodule.exports.createColors = createColors\n","var parse = require(\"./parse\");\nvar walk = require(\"./walk\");\nvar stringify = require(\"./stringify\");\n\nfunction ValueParser(value) {\n  if (this instanceof ValueParser) {\n    this.nodes = parse(value);\n    return this;\n  }\n  return new ValueParser(value);\n}\n\nValueParser.prototype.toString = function() {\n  return Array.isArray(this.nodes) ? stringify(this.nodes) : \"\";\n};\n\nValueParser.prototype.walk = function(cb, bubble) {\n  walk(this.nodes, cb, bubble);\n  return this;\n};\n\nValueParser.unit = require(\"./unit\");\n\nValueParser.walk = walk;\n\nValueParser.stringify = stringify;\n\nmodule.exports = ValueParser;\n","var openParentheses = \"(\".charCodeAt(0);\nvar closeParentheses = \")\".charCodeAt(0);\nvar singleQuote = \"'\".charCodeAt(0);\nvar doubleQuote = '\"'.charCodeAt(0);\nvar backslash = \"\\\\\".charCodeAt(0);\nvar slash = \"/\".charCodeAt(0);\nvar comma = \",\".charCodeAt(0);\nvar colon = \":\".charCodeAt(0);\nvar star = \"*\".charCodeAt(0);\nvar uLower = \"u\".charCodeAt(0);\nvar uUpper = \"U\".charCodeAt(0);\nvar plus = \"+\".charCodeAt(0);\nvar isUnicodeRange = /^[a-f0-9?-]+$/i;\n\nmodule.exports = function(input) {\n  var tokens = [];\n  var value = input;\n\n  var next,\n    quote,\n    prev,\n    token,\n    escape,\n    escapePos,\n    whitespacePos,\n    parenthesesOpenPos;\n  var pos = 0;\n  var code = value.charCodeAt(pos);\n  var max = value.length;\n  var stack = [{ nodes: tokens }];\n  var balanced = 0;\n  var parent;\n\n  var name = \"\";\n  var before = \"\";\n  var after = \"\";\n\n  while (pos < max) {\n    // Whitespaces\n    if (code <= 32) {\n      next = pos;\n      do {\n        next += 1;\n        code = value.charCodeAt(next);\n      } while (code <= 32);\n      token = value.slice(pos, next);\n\n      prev = tokens[tokens.length - 1];\n      if (code === closeParentheses && balanced) {\n        after = token;\n      } else if (prev && prev.type === \"div\") {\n        prev.after = token;\n        prev.sourceEndIndex += token.length;\n      } else if (\n        code === comma ||\n        code === colon ||\n        (code === slash &&\n          value.charCodeAt(next + 1) !== star &&\n          (!parent ||\n            (parent && parent.type === \"function\" && parent.value !== \"calc\")))\n      ) {\n        before = token;\n      } else {\n        tokens.push({\n          type: \"space\",\n          sourceIndex: pos,\n          sourceEndIndex: next,\n          value: token\n        });\n      }\n\n      pos = next;\n\n      // Quotes\n    } else if (code === singleQuote || code === doubleQuote) {\n      next = pos;\n      quote = code === singleQuote ? \"'\" : '\"';\n      token = {\n        type: \"string\",\n        sourceIndex: pos,\n        quote: quote\n      };\n      do {\n        escape = false;\n        next = value.indexOf(quote, next + 1);\n        if (~next) {\n          escapePos = next;\n          while (value.charCodeAt(escapePos - 1) === backslash) {\n            escapePos -= 1;\n            escape = !escape;\n          }\n        } else {\n          value += quote;\n          next = value.length - 1;\n          token.unclosed = true;\n        }\n      } while (escape);\n      token.value = value.slice(pos + 1, next);\n      token.sourceEndIndex = token.unclosed ? next : next + 1;\n      tokens.push(token);\n      pos = next + 1;\n      code = value.charCodeAt(pos);\n\n      // Comments\n    } else if (code === slash && value.charCodeAt(pos + 1) === star) {\n      next = value.indexOf(\"*/\", pos);\n\n      token = {\n        type: \"comment\",\n        sourceIndex: pos,\n        sourceEndIndex: next + 2\n      };\n\n      if (next === -1) {\n        token.unclosed = true;\n        next = value.length;\n        token.sourceEndIndex = next;\n      }\n\n      token.value = value.slice(pos + 2, next);\n      tokens.push(token);\n\n      pos = next + 2;\n      code = value.charCodeAt(pos);\n\n      // Operation within calc\n    } else if (\n      (code === slash || code === star) &&\n      parent &&\n      parent.type === \"function\" &&\n      parent.value === \"calc\"\n    ) {\n      token = value[pos];\n      tokens.push({\n        type: \"word\",\n        sourceIndex: pos - before.length,\n        sourceEndIndex: pos + token.length,\n        value: token\n      });\n      pos += 1;\n      code = value.charCodeAt(pos);\n\n      // Dividers\n    } else if (code === slash || code === comma || code === colon) {\n      token = value[pos];\n\n      tokens.push({\n        type: \"div\",\n        sourceIndex: pos - before.length,\n        sourceEndIndex: pos + token.length,\n        value: token,\n        before: before,\n        after: \"\"\n      });\n      before = \"\";\n\n      pos += 1;\n      code = value.charCodeAt(pos);\n\n      // Open parentheses\n    } else if (openParentheses === code) {\n      // Whitespaces after open parentheses\n      next = pos;\n      do {\n        next += 1;\n        code = value.charCodeAt(next);\n      } while (code <= 32);\n      parenthesesOpenPos = pos;\n      token = {\n        type: \"function\",\n        sourceIndex: pos - name.length,\n        value: name,\n        before: value.slice(parenthesesOpenPos + 1, next)\n      };\n      pos = next;\n\n      if (name === \"url\" && code !== singleQuote && code !== doubleQuote) {\n        next -= 1;\n        do {\n          escape = false;\n          next = value.indexOf(\")\", next + 1);\n          if (~next) {\n            escapePos = next;\n            while (value.charCodeAt(escapePos - 1) === backslash) {\n              escapePos -= 1;\n              escape = !escape;\n            }\n          } else {\n            value += \")\";\n            next = value.length - 1;\n            token.unclosed = true;\n          }\n        } while (escape);\n        // Whitespaces before closed\n        whitespacePos = next;\n        do {\n          whitespacePos -= 1;\n          code = value.charCodeAt(whitespacePos);\n        } while (code <= 32);\n        if (parenthesesOpenPos < whitespacePos) {\n          if (pos !== whitespacePos + 1) {\n            token.nodes = [\n              {\n                type: \"word\",\n                sourceIndex: pos,\n                sourceEndIndex: whitespacePos + 1,\n                value: value.slice(pos, whitespacePos + 1)\n              }\n            ];\n          } else {\n            token.nodes = [];\n          }\n          if (token.unclosed && whitespacePos + 1 !== next) {\n            token.after = \"\";\n            token.nodes.push({\n              type: \"space\",\n              sourceIndex: whitespacePos + 1,\n              sourceEndIndex: next,\n              value: value.slice(whitespacePos + 1, next)\n            });\n          } else {\n            token.after = value.slice(whitespacePos + 1, next);\n            token.sourceEndIndex = next;\n          }\n        } else {\n          token.after = \"\";\n          token.nodes = [];\n        }\n        pos = next + 1;\n        token.sourceEndIndex = token.unclosed ? next : pos;\n        code = value.charCodeAt(pos);\n        tokens.push(token);\n      } else {\n        balanced += 1;\n        token.after = \"\";\n        token.sourceEndIndex = pos + 1;\n        tokens.push(token);\n        stack.push(token);\n        tokens = token.nodes = [];\n        parent = token;\n      }\n      name = \"\";\n\n      // Close parentheses\n    } else if (closeParentheses === code && balanced) {\n      pos += 1;\n      code = value.charCodeAt(pos);\n\n      parent.after = after;\n      parent.sourceEndIndex += after.length;\n      after = \"\";\n      balanced -= 1;\n      stack[stack.length - 1].sourceEndIndex = pos;\n      stack.pop();\n      parent = stack[balanced];\n      tokens = parent.nodes;\n\n      // Words\n    } else {\n      next = pos;\n      do {\n        if (code === backslash) {\n          next += 1;\n        }\n        next += 1;\n        code = value.charCodeAt(next);\n      } while (\n        next < max &&\n        !(\n          code <= 32 ||\n          code === singleQuote ||\n          code === doubleQuote ||\n          code === comma ||\n          code === colon ||\n          code === slash ||\n          code === openParentheses ||\n          (code === star &&\n            parent &&\n            parent.type === \"function\" &&\n            parent.value === \"calc\") ||\n          (code === slash &&\n            parent.type === \"function\" &&\n            parent.value === \"calc\") ||\n          (code === closeParentheses && balanced)\n        )\n      );\n      token = value.slice(pos, next);\n\n      if (openParentheses === code) {\n        name = token;\n      } else if (\n        (uLower === token.charCodeAt(0) || uUpper === token.charCodeAt(0)) &&\n        plus === token.charCodeAt(1) &&\n        isUnicodeRange.test(token.slice(2))\n      ) {\n        tokens.push({\n          type: \"unicode-range\",\n          sourceIndex: pos,\n          sourceEndIndex: next,\n          value: token\n        });\n      } else {\n        tokens.push({\n          type: \"word\",\n          sourceIndex: pos,\n          sourceEndIndex: next,\n          value: token\n        });\n      }\n\n      pos = next;\n    }\n  }\n\n  for (pos = stack.length - 1; pos; pos -= 1) {\n    stack[pos].unclosed = true;\n    stack[pos].sourceEndIndex = value.length;\n  }\n\n  return stack[0].nodes;\n};\n","function stringifyNode(node, custom) {\n  var type = node.type;\n  var value = node.value;\n  var buf;\n  var customResult;\n\n  if (custom && (customResult = custom(node)) !== undefined) {\n    return customResult;\n  } else if (type === \"word\" || type === \"space\") {\n    return value;\n  } else if (type === \"string\") {\n    buf = node.quote || \"\";\n    return buf + value + (node.unclosed ? \"\" : buf);\n  } else if (type === \"comment\") {\n    return \"/*\" + value + (node.unclosed ? \"\" : \"*/\");\n  } else if (type === \"div\") {\n    return (node.before || \"\") + value + (node.after || \"\");\n  } else if (Array.isArray(node.nodes)) {\n    buf = stringify(node.nodes, custom);\n    if (type !== \"function\") {\n      return buf;\n    }\n    return (\n      value +\n      \"(\" +\n      (node.before || \"\") +\n      buf +\n      (node.after || \"\") +\n      (node.unclosed ? \"\" : \")\")\n    );\n  }\n  return value;\n}\n\nfunction stringify(nodes, custom) {\n  var result, i;\n\n  if (Array.isArray(nodes)) {\n    result = \"\";\n    for (i = nodes.length - 1; ~i; i -= 1) {\n      result = stringifyNode(nodes[i], custom) + result;\n    }\n    return result;\n  }\n  return stringifyNode(nodes, custom);\n}\n\nmodule.exports = stringify;\n","var minus = \"-\".charCodeAt(0);\nvar plus = \"+\".charCodeAt(0);\nvar dot = \".\".charCodeAt(0);\nvar exp = \"e\".charCodeAt(0);\nvar EXP = \"E\".charCodeAt(0);\n\n// Check if three code points would start a number\n// https://www.w3.org/TR/css-syntax-3/#starts-with-a-number\nfunction likeNumber(value) {\n  var code = value.charCodeAt(0);\n  var nextCode;\n\n  if (code === plus || code === minus) {\n    nextCode = value.charCodeAt(1);\n\n    if (nextCode >= 48 && nextCode <= 57) {\n      return true;\n    }\n\n    var nextNextCode = value.charCodeAt(2);\n\n    if (nextCode === dot && nextNextCode >= 48 && nextNextCode <= 57) {\n      return true;\n    }\n\n    return false;\n  }\n\n  if (code === dot) {\n    nextCode = value.charCodeAt(1);\n\n    if (nextCode >= 48 && nextCode <= 57) {\n      return true;\n    }\n\n    return false;\n  }\n\n  if (code >= 48 && code <= 57) {\n    return true;\n  }\n\n  return false;\n}\n\n// Consume a number\n// https://www.w3.org/TR/css-syntax-3/#consume-number\nmodule.exports = function(value) {\n  var pos = 0;\n  var length = value.length;\n  var code;\n  var nextCode;\n  var nextNextCode;\n\n  if (length === 0 || !likeNumber(value)) {\n    return false;\n  }\n\n  code = value.charCodeAt(pos);\n\n  if (code === plus || code === minus) {\n    pos++;\n  }\n\n  while (pos < length) {\n    code = value.charCodeAt(pos);\n\n    if (code < 48 || code > 57) {\n      break;\n    }\n\n    pos += 1;\n  }\n\n  code = value.charCodeAt(pos);\n  nextCode = value.charCodeAt(pos + 1);\n\n  if (code === dot && nextCode >= 48 && nextCode <= 57) {\n    pos += 2;\n\n    while (pos < length) {\n      code = value.charCodeAt(pos);\n\n      if (code < 48 || code > 57) {\n        break;\n      }\n\n      pos += 1;\n    }\n  }\n\n  code = value.charCodeAt(pos);\n  nextCode = value.charCodeAt(pos + 1);\n  nextNextCode = value.charCodeAt(pos + 2);\n\n  if (\n    (code === exp || code === EXP) &&\n    ((nextCode >= 48 && nextCode <= 57) ||\n      ((nextCode === plus || nextCode === minus) &&\n        nextNextCode >= 48 &&\n        nextNextCode <= 57))\n  ) {\n    pos += nextCode === plus || nextCode === minus ? 3 : 2;\n\n    while (pos < length) {\n      code = value.charCodeAt(pos);\n\n      if (code < 48 || code > 57) {\n        break;\n      }\n\n      pos += 1;\n    }\n  }\n\n  return {\n    number: value.slice(0, pos),\n    unit: value.slice(pos)\n  };\n};\n","module.exports = function walk(nodes, cb, bubble) {\n  var i, max, node, result;\n\n  for (i = 0, max = nodes.length; i < max; i += 1) {\n    node = nodes[i];\n    if (!bubble) {\n      result = cb(node, i, nodes);\n    }\n\n    if (\n      result !== false &&\n      node.type === \"function\" &&\n      Array.isArray(node.nodes)\n    ) {\n      walk(node.nodes, cb, bubble);\n    }\n\n    if (bubble) {\n      cb(node, i, nodes);\n    }\n  }\n};\n","'use strict'\n\nlet Container = require('./container')\n\nclass AtRule extends Container {\n  constructor(defaults) {\n    super(defaults)\n    this.type = 'atrule'\n  }\n\n  append(...children) {\n    if (!this.proxyOf.nodes) this.nodes = []\n    return super.append(...children)\n  }\n\n  prepend(...children) {\n    if (!this.proxyOf.nodes) this.nodes = []\n    return super.prepend(...children)\n  }\n}\n\nmodule.exports = AtRule\nAtRule.default = AtRule\n\nContainer.registerAtRule(AtRule)\n","'use strict'\n\nlet Node = require('./node')\n\nclass Comment extends Node {\n  constructor(defaults) {\n    super(defaults)\n    this.type = 'comment'\n  }\n}\n\nmodule.exports = Comment\nComment.default = Comment\n","'use strict'\n\nlet { isClean, my } = require('./symbols')\nlet Declaration = require('./declaration')\nlet Comment = require('./comment')\nlet Node = require('./node')\n\nlet parse, Rule, AtRule, Root\n\nfunction cleanSource(nodes) {\n  return nodes.map(i => {\n    if (i.nodes) i.nodes = cleanSource(i.nodes)\n    delete i.source\n    return i\n  })\n}\n\nfunction markDirtyUp(node) {\n  node[isClean] = false\n  if (node.proxyOf.nodes) {\n    for (let i of node.proxyOf.nodes) {\n      markDirtyUp(i)\n    }\n  }\n}\n\nclass Container extends Node {\n  push(child) {\n    child.parent = this\n    this.proxyOf.nodes.push(child)\n    return this\n  }\n\n  each(callback) {\n    if (!this.proxyOf.nodes) return undefined\n    let iterator = this.getIterator()\n\n    let index, result\n    while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n      index = this.indexes[iterator]\n      result = callback(this.proxyOf.nodes[index], index)\n      if (result === false) break\n\n      this.indexes[iterator] += 1\n    }\n\n    delete this.indexes[iterator]\n    return result\n  }\n\n  walk(callback) {\n    return this.each((child, i) => {\n      let result\n      try {\n        result = callback(child, i)\n      } catch (e) {\n        throw child.addToError(e)\n      }\n      if (result !== false && child.walk) {\n        result = child.walk(callback)\n      }\n\n      return result\n    })\n  }\n\n  walkDecls(prop, callback) {\n    if (!callback) {\n      callback = prop\n      return this.walk((child, i) => {\n        if (child.type === 'decl') {\n          return callback(child, i)\n        }\n      })\n    }\n    if (prop instanceof RegExp) {\n      return this.walk((child, i) => {\n        if (child.type === 'decl' && prop.test(child.prop)) {\n          return callback(child, i)\n        }\n      })\n    }\n    return this.walk((child, i) => {\n      if (child.type === 'decl' && child.prop === prop) {\n        return callback(child, i)\n      }\n    })\n  }\n\n  walkRules(selector, callback) {\n    if (!callback) {\n      callback = selector\n\n      return this.walk((child, i) => {\n        if (child.type === 'rule') {\n          return callback(child, i)\n        }\n      })\n    }\n    if (selector instanceof RegExp) {\n      return this.walk((child, i) => {\n        if (child.type === 'rule' && selector.test(child.selector)) {\n          return callback(child, i)\n        }\n      })\n    }\n    return this.walk((child, i) => {\n      if (child.type === 'rule' && child.selector === selector) {\n        return callback(child, i)\n      }\n    })\n  }\n\n  walkAtRules(name, callback) {\n    if (!callback) {\n      callback = name\n      return this.walk((child, i) => {\n        if (child.type === 'atrule') {\n          return callback(child, i)\n        }\n      })\n    }\n    if (name instanceof RegExp) {\n      return this.walk((child, i) => {\n        if (child.type === 'atrule' && name.test(child.name)) {\n          return callback(child, i)\n        }\n      })\n    }\n    return this.walk((child, i) => {\n      if (child.type === 'atrule' && child.name === name) {\n        return callback(child, i)\n      }\n    })\n  }\n\n  walkComments(callback) {\n    return this.walk((child, i) => {\n      if (child.type === 'comment') {\n        return callback(child, i)\n      }\n    })\n  }\n\n  append(...children) {\n    for (let child of children) {\n      let nodes = this.normalize(child, this.last)\n      for (let node of nodes) this.proxyOf.nodes.push(node)\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  prepend(...children) {\n    children = children.reverse()\n    for (let child of children) {\n      let nodes = this.normalize(child, this.first, 'prepend').reverse()\n      for (let node of nodes) this.proxyOf.nodes.unshift(node)\n      for (let id in this.indexes) {\n        this.indexes[id] = this.indexes[id] + nodes.length\n      }\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  cleanRaws(keepBetween) {\n    super.cleanRaws(keepBetween)\n    if (this.nodes) {\n      for (let node of this.nodes) node.cleanRaws(keepBetween)\n    }\n  }\n\n  insertBefore(exist, add) {\n    exist = this.index(exist)\n\n    let type = exist === 0 ? 'prepend' : false\n    let nodes = this.normalize(add, this.proxyOf.nodes[exist], type).reverse()\n    for (let node of nodes) this.proxyOf.nodes.splice(exist, 0, node)\n\n    let index\n    for (let id in this.indexes) {\n      index = this.indexes[id]\n      if (exist <= index) {\n        this.indexes[id] = index + nodes.length\n      }\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  insertAfter(exist, add) {\n    exist = this.index(exist)\n\n    let nodes = this.normalize(add, this.proxyOf.nodes[exist]).reverse()\n    for (let node of nodes) this.proxyOf.nodes.splice(exist + 1, 0, node)\n\n    let index\n    for (let id in this.indexes) {\n      index = this.indexes[id]\n      if (exist < index) {\n        this.indexes[id] = index + nodes.length\n      }\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  removeChild(child) {\n    child = this.index(child)\n    this.proxyOf.nodes[child].parent = undefined\n    this.proxyOf.nodes.splice(child, 1)\n\n    let index\n    for (let id in this.indexes) {\n      index = this.indexes[id]\n      if (index >= child) {\n        this.indexes[id] = index - 1\n      }\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  removeAll() {\n    for (let node of this.proxyOf.nodes) node.parent = undefined\n    this.proxyOf.nodes = []\n\n    this.markDirty()\n\n    return this\n  }\n\n  replaceValues(pattern, opts, callback) {\n    if (!callback) {\n      callback = opts\n      opts = {}\n    }\n\n    this.walkDecls(decl => {\n      if (opts.props && !opts.props.includes(decl.prop)) return\n      if (opts.fast && !decl.value.includes(opts.fast)) return\n\n      decl.value = decl.value.replace(pattern, callback)\n    })\n\n    this.markDirty()\n\n    return this\n  }\n\n  every(condition) {\n    return this.nodes.every(condition)\n  }\n\n  some(condition) {\n    return this.nodes.some(condition)\n  }\n\n  index(child) {\n    if (typeof child === 'number') return child\n    if (child.proxyOf) child = child.proxyOf\n    return this.proxyOf.nodes.indexOf(child)\n  }\n\n  get first() {\n    if (!this.proxyOf.nodes) return undefined\n    return this.proxyOf.nodes[0]\n  }\n\n  get last() {\n    if (!this.proxyOf.nodes) return undefined\n    return this.proxyOf.nodes[this.proxyOf.nodes.length - 1]\n  }\n\n  normalize(nodes, sample) {\n    if (typeof nodes === 'string') {\n      nodes = cleanSource(parse(nodes).nodes)\n    } else if (Array.isArray(nodes)) {\n      nodes = nodes.slice(0)\n      for (let i of nodes) {\n        if (i.parent) i.parent.removeChild(i, 'ignore')\n      }\n    } else if (nodes.type === 'root' && this.type !== 'document') {\n      nodes = nodes.nodes.slice(0)\n      for (let i of nodes) {\n        if (i.parent) i.parent.removeChild(i, 'ignore')\n      }\n    } else if (nodes.type) {\n      nodes = [nodes]\n    } else if (nodes.prop) {\n      if (typeof nodes.value === 'undefined') {\n        throw new Error('Value field is missed in node creation')\n      } else if (typeof nodes.value !== 'string') {\n        nodes.value = String(nodes.value)\n      }\n      nodes = [new Declaration(nodes)]\n    } else if (nodes.selector) {\n      nodes = [new Rule(nodes)]\n    } else if (nodes.name) {\n      nodes = [new AtRule(nodes)]\n    } else if (nodes.text) {\n      nodes = [new Comment(nodes)]\n    } else {\n      throw new Error('Unknown node type in node creation')\n    }\n\n    let processed = nodes.map(i => {\n      /* c8 ignore next */\n      if (!i[my]) Container.rebuild(i)\n      i = i.proxyOf\n      if (i.parent) i.parent.removeChild(i)\n      if (i[isClean]) markDirtyUp(i)\n      if (typeof i.raws.before === 'undefined') {\n        if (sample && typeof sample.raws.before !== 'undefined') {\n          i.raws.before = sample.raws.before.replace(/\\S/g, '')\n        }\n      }\n      i.parent = this.proxyOf\n      return i\n    })\n\n    return processed\n  }\n\n  getProxyProcessor() {\n    return {\n      set(node, prop, value) {\n        if (node[prop] === value) return true\n        node[prop] = value\n        if (prop === 'name' || prop === 'params' || prop === 'selector') {\n          node.markDirty()\n        }\n        return true\n      },\n\n      get(node, prop) {\n        if (prop === 'proxyOf') {\n          return node\n        } else if (!node[prop]) {\n          return node[prop]\n        } else if (\n          prop === 'each' ||\n          (typeof prop === 'string' && prop.startsWith('walk'))\n        ) {\n          return (...args) => {\n            return node[prop](\n              ...args.map(i => {\n                if (typeof i === 'function') {\n                  return (child, index) => i(child.toProxy(), index)\n                } else {\n                  return i\n                }\n              })\n            )\n          }\n        } else if (prop === 'every' || prop === 'some') {\n          return cb => {\n            return node[prop]((child, ...other) =>\n              cb(child.toProxy(), ...other)\n            )\n          }\n        } else if (prop === 'root') {\n          return () => node.root().toProxy()\n        } else if (prop === 'nodes') {\n          return node.nodes.map(i => i.toProxy())\n        } else if (prop === 'first' || prop === 'last') {\n          return node[prop].toProxy()\n        } else {\n          return node[prop]\n        }\n      }\n    }\n  }\n\n  getIterator() {\n    if (!this.lastEach) this.lastEach = 0\n    if (!this.indexes) this.indexes = {}\n\n    this.lastEach += 1\n    let iterator = this.lastEach\n    this.indexes[iterator] = 0\n\n    return iterator\n  }\n}\n\nContainer.registerParse = dependant => {\n  parse = dependant\n}\n\nContainer.registerRule = dependant => {\n  Rule = dependant\n}\n\nContainer.registerAtRule = dependant => {\n  AtRule = dependant\n}\n\nContainer.registerRoot = dependant => {\n  Root = dependant\n}\n\nmodule.exports = Container\nContainer.default = Container\n\n/* c8 ignore start */\nContainer.rebuild = node => {\n  if (node.type === 'atrule') {\n    Object.setPrototypeOf(node, AtRule.prototype)\n  } else if (node.type === 'rule') {\n    Object.setPrototypeOf(node, Rule.prototype)\n  } else if (node.type === 'decl') {\n    Object.setPrototypeOf(node, Declaration.prototype)\n  } else if (node.type === 'comment') {\n    Object.setPrototypeOf(node, Comment.prototype)\n  } else if (node.type === 'root') {\n    Object.setPrototypeOf(node, Root.prototype)\n  }\n\n  node[my] = true\n\n  if (node.nodes) {\n    node.nodes.forEach(child => {\n      Container.rebuild(child)\n    })\n  }\n}\n/* c8 ignore stop */\n","'use strict'\n\nlet pico = require('picocolors')\n\nlet terminalHighlight = require('./terminal-highlight')\n\nclass CssSyntaxError extends Error {\n  constructor(message, line, column, source, file, plugin) {\n    super(message)\n    this.name = 'CssSyntaxError'\n    this.reason = message\n\n    if (file) {\n      this.file = file\n    }\n    if (source) {\n      this.source = source\n    }\n    if (plugin) {\n      this.plugin = plugin\n    }\n    if (typeof line !== 'undefined' && typeof column !== 'undefined') {\n      if (typeof line === 'number') {\n        this.line = line\n        this.column = column\n      } else {\n        this.line = line.line\n        this.column = line.column\n        this.endLine = column.line\n        this.endColumn = column.column\n      }\n    }\n\n    this.setMessage()\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, CssSyntaxError)\n    }\n  }\n\n  setMessage() {\n    this.message = this.plugin ? this.plugin + ': ' : ''\n    this.message += this.file ? this.file : '<css input>'\n    if (typeof this.line !== 'undefined') {\n      this.message += ':' + this.line + ':' + this.column\n    }\n    this.message += ': ' + this.reason\n  }\n\n  showSourceCode(color) {\n    if (!this.source) return ''\n\n    let css = this.source\n    if (color == null) color = pico.isColorSupported\n    if (terminalHighlight) {\n      if (color) css = terminalHighlight(css)\n    }\n\n    let lines = css.split(/\\r?\\n/)\n    let start = Math.max(this.line - 3, 0)\n    let end = Math.min(this.line + 2, lines.length)\n\n    let maxWidth = String(end).length\n\n    let mark, aside\n    if (color) {\n      let { bold, red, gray } = pico.createColors(true)\n      mark = text => bold(red(text))\n      aside = text => gray(text)\n    } else {\n      mark = aside = str => str\n    }\n\n    return lines\n      .slice(start, end)\n      .map((line, index) => {\n        let number = start + 1 + index\n        let gutter = ' ' + (' ' + number).slice(-maxWidth) + ' | '\n        if (number === this.line) {\n          let spacing =\n            aside(gutter.replace(/\\d/g, ' ')) +\n            line.slice(0, this.column - 1).replace(/[^\\t]/g, ' ')\n          return mark('>') + aside(gutter) + line + '\\n ' + spacing + mark('^')\n        }\n        return ' ' + aside(gutter) + line\n      })\n      .join('\\n')\n  }\n\n  toString() {\n    let code = this.showSourceCode()\n    if (code) {\n      code = '\\n\\n' + code + '\\n'\n    }\n    return this.name + ': ' + this.message + code\n  }\n}\n\nmodule.exports = CssSyntaxError\nCssSyntaxError.default = CssSyntaxError\n","'use strict'\n\nlet Node = require('./node')\n\nclass Declaration extends Node {\n  constructor(defaults) {\n    if (\n      defaults &&\n      typeof defaults.value !== 'undefined' &&\n      typeof defaults.value !== 'string'\n    ) {\n      defaults = { ...defaults, value: String(defaults.value) }\n    }\n    super(defaults)\n    this.type = 'decl'\n  }\n\n  get variable() {\n    return this.prop.startsWith('--') || this.prop[0] === '$'\n  }\n}\n\nmodule.exports = Declaration\nDeclaration.default = Declaration\n","'use strict'\n\nlet Container = require('./container')\n\nlet LazyResult, Processor\n\nclass Document extends Container {\n  constructor(defaults) {\n    // type needs to be passed to super, otherwise child roots won't be normalized correctly\n    super({ type: 'document', ...defaults })\n\n    if (!this.nodes) {\n      this.nodes = []\n    }\n  }\n\n  toResult(opts = {}) {\n    let lazy = new LazyResult(new Processor(), this, opts)\n\n    return lazy.stringify()\n  }\n}\n\nDocument.registerLazyResult = dependant => {\n  LazyResult = dependant\n}\n\nDocument.registerProcessor = dependant => {\n  Processor = dependant\n}\n\nmodule.exports = Document\nDocument.default = Document\n","'use strict'\n\nlet Declaration = require('./declaration')\nlet PreviousMap = require('./previous-map')\nlet Comment = require('./comment')\nlet AtRule = require('./at-rule')\nlet Input = require('./input')\nlet Root = require('./root')\nlet Rule = require('./rule')\n\nfunction fromJSON(json, inputs) {\n  if (Array.isArray(json)) return json.map(n => fromJSON(n))\n\n  let { inputs: ownInputs, ...defaults } = json\n  if (ownInputs) {\n    inputs = []\n    for (let input of ownInputs) {\n      let inputHydrated = { ...input, __proto__: Input.prototype }\n      if (inputHydrated.map) {\n        inputHydrated.map = {\n          ...inputHydrated.map,\n          __proto__: PreviousMap.prototype\n        }\n      }\n      inputs.push(inputHydrated)\n    }\n  }\n  if (defaults.nodes) {\n    defaults.nodes = json.nodes.map(n => fromJSON(n, inputs))\n  }\n  if (defaults.source) {\n    let { inputId, ...source } = defaults.source\n    defaults.source = source\n    if (inputId != null) {\n      defaults.source.input = inputs[inputId]\n    }\n  }\n  if (defaults.type === 'root') {\n    return new Root(defaults)\n  } else if (defaults.type === 'decl') {\n    return new Declaration(defaults)\n  } else if (defaults.type === 'rule') {\n    return new Rule(defaults)\n  } else if (defaults.type === 'comment') {\n    return new Comment(defaults)\n  } else if (defaults.type === 'atrule') {\n    return new AtRule(defaults)\n  } else {\n    throw new Error('Unknown node type: ' + json.type)\n  }\n}\n\nmodule.exports = fromJSON\nfromJSON.default = fromJSON\n","'use strict'\n\nlet { SourceMapConsumer, SourceMapGenerator } = require('source-map-js')\nlet { fileURLToPath, pathToFileURL } = require('url')\nlet { resolve, isAbsolute } = require('path')\nlet { nanoid } = require('nanoid/non-secure')\n\nlet terminalHighlight = require('./terminal-highlight')\nlet CssSyntaxError = require('./css-syntax-error')\nlet PreviousMap = require('./previous-map')\n\nlet fromOffsetCache = Symbol('fromOffsetCache')\n\nlet sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator)\nlet pathAvailable = Boolean(resolve && isAbsolute)\n\nclass Input {\n  constructor(css, opts = {}) {\n    if (\n      css === null ||\n      typeof css === 'undefined' ||\n      (typeof css === 'object' && !css.toString)\n    ) {\n      throw new Error(`PostCSS received ${css} instead of CSS string`)\n    }\n\n    this.css = css.toString()\n\n    if (this.css[0] === '\\uFEFF' || this.css[0] === '\\uFFFE') {\n      this.hasBOM = true\n      this.css = this.css.slice(1)\n    } else {\n      this.hasBOM = false\n    }\n\n    if (opts.from) {\n      if (\n        !pathAvailable ||\n        /^\\w+:\\/\\//.test(opts.from) ||\n        isAbsolute(opts.from)\n      ) {\n        this.file = opts.from\n      } else {\n        this.file = resolve(opts.from)\n      }\n    }\n\n    if (pathAvailable && sourceMapAvailable) {\n      let map = new PreviousMap(this.css, opts)\n      if (map.text) {\n        this.map = map\n        let file = map.consumer().file\n        if (!this.file && file) this.file = this.mapResolve(file)\n      }\n    }\n\n    if (!this.file) {\n      this.id = '<input css ' + nanoid(6) + '>'\n    }\n    if (this.map) this.map.file = this.from\n  }\n\n  fromOffset(offset) {\n    let lastLine, lineToIndex\n    if (!this[fromOffsetCache]) {\n      let lines = this.css.split('\\n')\n      lineToIndex = new Array(lines.length)\n      let prevIndex = 0\n\n      for (let i = 0, l = lines.length; i < l; i++) {\n        lineToIndex[i] = prevIndex\n        prevIndex += lines[i].length + 1\n      }\n\n      this[fromOffsetCache] = lineToIndex\n    } else {\n      lineToIndex = this[fromOffsetCache]\n    }\n    lastLine = lineToIndex[lineToIndex.length - 1]\n\n    let min = 0\n    if (offset >= lastLine) {\n      min = lineToIndex.length - 1\n    } else {\n      let max = lineToIndex.length - 2\n      let mid\n      while (min < max) {\n        mid = min + ((max - min) >> 1)\n        if (offset < lineToIndex[mid]) {\n          max = mid - 1\n        } else if (offset >= lineToIndex[mid + 1]) {\n          min = mid + 1\n        } else {\n          min = mid\n          break\n        }\n      }\n    }\n    return {\n      line: min + 1,\n      col: offset - lineToIndex[min] + 1\n    }\n  }\n\n  error(message, line, column, opts = {}) {\n    let result, endLine, endColumn\n\n    if (line && typeof line === 'object') {\n      let start = line\n      let end = column\n      if (typeof line.offset === 'number') {\n        let pos = this.fromOffset(start.offset)\n        line = pos.line\n        column = pos.col\n      } else {\n        line = start.line\n        column = start.column\n      }\n      if (typeof end.offset === 'number') {\n        let pos = this.fromOffset(end.offset)\n        endLine = pos.line\n        endColumn = pos.col\n      } else {\n        endLine = end.line\n        endColumn = end.column\n      }\n    } else if (!column) {\n      let pos = this.fromOffset(line)\n      line = pos.line\n      column = pos.col\n    }\n\n    let origin = this.origin(line, column, endLine, endColumn)\n    if (origin) {\n      result = new CssSyntaxError(\n        message,\n        origin.endLine === undefined\n          ? origin.line\n          : { line: origin.line, column: origin.column },\n        origin.endLine === undefined\n          ? origin.column\n          : { line: origin.endLine, column: origin.endColumn },\n        origin.source,\n        origin.file,\n        opts.plugin\n      )\n    } else {\n      result = new CssSyntaxError(\n        message,\n        endLine === undefined ? line : { line, column },\n        endLine === undefined ? column : { line: endLine, column: endColumn },\n        this.css,\n        this.file,\n        opts.plugin\n      )\n    }\n\n    result.input = { line, column, endLine, endColumn, source: this.css }\n    if (this.file) {\n      if (pathToFileURL) {\n        result.input.url = pathToFileURL(this.file).toString()\n      }\n      result.input.file = this.file\n    }\n\n    return result\n  }\n\n  origin(line, column, endLine, endColumn) {\n    if (!this.map) return false\n    let consumer = this.map.consumer()\n\n    let from = consumer.originalPositionFor({ line, column })\n    if (!from.source) return false\n\n    let to\n    if (typeof endLine === 'number') {\n      to = consumer.originalPositionFor({ line: endLine, column: endColumn })\n    }\n\n    let fromUrl\n\n    if (isAbsolute(from.source)) {\n      fromUrl = pathToFileURL(from.source)\n    } else {\n      fromUrl = new URL(\n        from.source,\n        this.map.consumer().sourceRoot || pathToFileURL(this.map.mapFile)\n      )\n    }\n\n    let result = {\n      url: fromUrl.toString(),\n      line: from.line,\n      column: from.column,\n      endLine: to && to.line,\n      endColumn: to && to.column\n    }\n\n    if (fromUrl.protocol === 'file:') {\n      if (fileURLToPath) {\n        result.file = fileURLToPath(fromUrl)\n      } else {\n        /* c8 ignore next 2 */\n        throw new Error(`file: protocol is not available in this PostCSS build`)\n      }\n    }\n\n    let source = consumer.sourceContentFor(from.source)\n    if (source) result.source = source\n\n    return result\n  }\n\n  mapResolve(file) {\n    if (/^\\w+:\\/\\//.test(file)) {\n      return file\n    }\n    return resolve(this.map.consumer().sourceRoot || this.map.root || '.', file)\n  }\n\n  get from() {\n    return this.file || this.id\n  }\n\n  toJSON() {\n    let json = {}\n    for (let name of ['hasBOM', 'css', 'file', 'id']) {\n      if (this[name] != null) {\n        json[name] = this[name]\n      }\n    }\n    if (this.map) {\n      json.map = { ...this.map }\n      if (json.map.consumerCache) {\n        json.map.consumerCache = undefined\n      }\n    }\n    return json\n  }\n}\n\nmodule.exports = Input\nInput.default = Input\n\nif (terminalHighlight && terminalHighlight.registerInput) {\n  terminalHighlight.registerInput(Input)\n}\n","'use strict'\n\nlet { isClean, my } = require('./symbols')\nlet MapGenerator = require('./map-generator')\nlet stringify = require('./stringify')\nlet Container = require('./container')\nlet Document = require('./document')\nlet warnOnce = require('./warn-once')\nlet Result = require('./result')\nlet parse = require('./parse')\nlet Root = require('./root')\n\nconst TYPE_TO_CLASS_NAME = {\n  document: 'Document',\n  root: 'Root',\n  atrule: 'AtRule',\n  rule: 'Rule',\n  decl: 'Declaration',\n  comment: 'Comment'\n}\n\nconst PLUGIN_PROPS = {\n  postcssPlugin: true,\n  prepare: true,\n  Once: true,\n  Document: true,\n  Root: true,\n  Declaration: true,\n  Rule: true,\n  AtRule: true,\n  Comment: true,\n  DeclarationExit: true,\n  RuleExit: true,\n  AtRuleExit: true,\n  CommentExit: true,\n  RootExit: true,\n  DocumentExit: true,\n  OnceExit: true\n}\n\nconst NOT_VISITORS = {\n  postcssPlugin: true,\n  prepare: true,\n  Once: true\n}\n\nconst CHILDREN = 0\n\nfunction isPromise(obj) {\n  return typeof obj === 'object' && typeof obj.then === 'function'\n}\n\nfunction getEvents(node) {\n  let key = false\n  let type = TYPE_TO_CLASS_NAME[node.type]\n  if (node.type === 'decl') {\n    key = node.prop.toLowerCase()\n  } else if (node.type === 'atrule') {\n    key = node.name.toLowerCase()\n  }\n\n  if (key && node.append) {\n    return [\n      type,\n      type + '-' + key,\n      CHILDREN,\n      type + 'Exit',\n      type + 'Exit-' + key\n    ]\n  } else if (key) {\n    return [type, type + '-' + key, type + 'Exit', type + 'Exit-' + key]\n  } else if (node.append) {\n    return [type, CHILDREN, type + 'Exit']\n  } else {\n    return [type, type + 'Exit']\n  }\n}\n\nfunction toStack(node) {\n  let events\n  if (node.type === 'document') {\n    events = ['Document', CHILDREN, 'DocumentExit']\n  } else if (node.type === 'root') {\n    events = ['Root', CHILDREN, 'RootExit']\n  } else {\n    events = getEvents(node)\n  }\n\n  return {\n    node,\n    events,\n    eventIndex: 0,\n    visitors: [],\n    visitorIndex: 0,\n    iterator: 0\n  }\n}\n\nfunction cleanMarks(node) {\n  node[isClean] = false\n  if (node.nodes) node.nodes.forEach(i => cleanMarks(i))\n  return node\n}\n\nlet postcss = {}\n\nclass LazyResult {\n  constructor(processor, css, opts) {\n    this.stringified = false\n    this.processed = false\n\n    let root\n    if (\n      typeof css === 'object' &&\n      css !== null &&\n      (css.type === 'root' || css.type === 'document')\n    ) {\n      root = cleanMarks(css)\n    } else if (css instanceof LazyResult || css instanceof Result) {\n      root = cleanMarks(css.root)\n      if (css.map) {\n        if (typeof opts.map === 'undefined') opts.map = {}\n        if (!opts.map.inline) opts.map.inline = false\n        opts.map.prev = css.map\n      }\n    } else {\n      let parser = parse\n      if (opts.syntax) parser = opts.syntax.parse\n      if (opts.parser) parser = opts.parser\n      if (parser.parse) parser = parser.parse\n\n      try {\n        root = parser(css, opts)\n      } catch (error) {\n        this.processed = true\n        this.error = error\n      }\n\n      if (root && !root[my]) {\n        /* c8 ignore next 2 */\n        Container.rebuild(root)\n      }\n    }\n\n    this.result = new Result(processor, root, opts)\n    this.helpers = { ...postcss, result: this.result, postcss }\n    this.plugins = this.processor.plugins.map(plugin => {\n      if (typeof plugin === 'object' && plugin.prepare) {\n        return { ...plugin, ...plugin.prepare(this.result) }\n      } else {\n        return plugin\n      }\n    })\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'LazyResult'\n  }\n\n  get processor() {\n    return this.result.processor\n  }\n\n  get opts() {\n    return this.result.opts\n  }\n\n  get css() {\n    return this.stringify().css\n  }\n\n  get content() {\n    return this.stringify().content\n  }\n\n  get map() {\n    return this.stringify().map\n  }\n\n  get root() {\n    return this.sync().root\n  }\n\n  get messages() {\n    return this.sync().messages\n  }\n\n  warnings() {\n    return this.sync().warnings()\n  }\n\n  toString() {\n    return this.css\n  }\n\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!('from' in this.opts)) {\n        warnOnce(\n          'Without `from` option PostCSS could generate wrong source map ' +\n            'and will not find Browserslist config. Set it to CSS file path ' +\n            'or to `undefined` to prevent this warning.'\n        )\n      }\n    }\n    return this.async().then(onFulfilled, onRejected)\n  }\n\n  catch(onRejected) {\n    return this.async().catch(onRejected)\n  }\n\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally)\n  }\n\n  async() {\n    if (this.error) return Promise.reject(this.error)\n    if (this.processed) return Promise.resolve(this.result)\n    if (!this.processing) {\n      this.processing = this.runAsync()\n    }\n    return this.processing\n  }\n\n  sync() {\n    if (this.error) throw this.error\n    if (this.processed) return this.result\n    this.processed = true\n\n    if (this.processing) {\n      throw this.getAsyncError()\n    }\n\n    for (let plugin of this.plugins) {\n      let promise = this.runOnRoot(plugin)\n      if (isPromise(promise)) {\n        throw this.getAsyncError()\n      }\n    }\n\n    this.prepareVisitors()\n    if (this.hasListener) {\n      let root = this.result.root\n      while (!root[isClean]) {\n        root[isClean] = true\n        this.walkSync(root)\n      }\n      if (this.listeners.OnceExit) {\n        if (root.type === 'document') {\n          for (let subRoot of root.nodes) {\n            this.visitSync(this.listeners.OnceExit, subRoot)\n          }\n        } else {\n          this.visitSync(this.listeners.OnceExit, root)\n        }\n      }\n    }\n\n    return this.result\n  }\n\n  stringify() {\n    if (this.error) throw this.error\n    if (this.stringified) return this.result\n    this.stringified = true\n\n    this.sync()\n\n    let opts = this.result.opts\n    let str = stringify\n    if (opts.syntax) str = opts.syntax.stringify\n    if (opts.stringifier) str = opts.stringifier\n    if (str.stringify) str = str.stringify\n\n    let map = new MapGenerator(str, this.result.root, this.result.opts)\n    let data = map.generate()\n    this.result.css = data[0]\n    this.result.map = data[1]\n\n    return this.result\n  }\n\n  walkSync(node) {\n    node[isClean] = true\n    let events = getEvents(node)\n    for (let event of events) {\n      if (event === CHILDREN) {\n        if (node.nodes) {\n          node.each(child => {\n            if (!child[isClean]) this.walkSync(child)\n          })\n        }\n      } else {\n        let visitors = this.listeners[event]\n        if (visitors) {\n          if (this.visitSync(visitors, node.toProxy())) return\n        }\n      }\n    }\n  }\n\n  visitSync(visitors, node) {\n    for (let [plugin, visitor] of visitors) {\n      this.result.lastPlugin = plugin\n      let promise\n      try {\n        promise = visitor(node, this.helpers)\n      } catch (e) {\n        throw this.handleError(e, node.proxyOf)\n      }\n      if (node.type !== 'root' && node.type !== 'document' && !node.parent) {\n        return true\n      }\n      if (isPromise(promise)) {\n        throw this.getAsyncError()\n      }\n    }\n  }\n\n  runOnRoot(plugin) {\n    this.result.lastPlugin = plugin\n    try {\n      if (typeof plugin === 'object' && plugin.Once) {\n        if (this.result.root.type === 'document') {\n          let roots = this.result.root.nodes.map(root =>\n            plugin.Once(root, this.helpers)\n          )\n\n          if (isPromise(roots[0])) {\n            return Promise.all(roots)\n          }\n\n          return roots\n        }\n\n        return plugin.Once(this.result.root, this.helpers)\n      } else if (typeof plugin === 'function') {\n        return plugin(this.result.root, this.result)\n      }\n    } catch (error) {\n      throw this.handleError(error)\n    }\n  }\n\n  getAsyncError() {\n    throw new Error('Use process(css).then(cb) to work with async plugins')\n  }\n\n  handleError(error, node) {\n    let plugin = this.result.lastPlugin\n    try {\n      if (node) node.addToError(error)\n      this.error = error\n      if (error.name === 'CssSyntaxError' && !error.plugin) {\n        error.plugin = plugin.postcssPlugin\n        error.setMessage()\n      } else if (plugin.postcssVersion) {\n        if (process.env.NODE_ENV !== 'production') {\n          let pluginName = plugin.postcssPlugin\n          let pluginVer = plugin.postcssVersion\n          let runtimeVer = this.result.processor.version\n          let a = pluginVer.split('.')\n          let b = runtimeVer.split('.')\n\n          if (a[0] !== b[0] || parseInt(a[1]) > parseInt(b[1])) {\n            // eslint-disable-next-line no-console\n            console.error(\n              'Unknown error from PostCSS plugin. Your current PostCSS ' +\n                'version is ' +\n                runtimeVer +\n                ', but ' +\n                pluginName +\n                ' uses ' +\n                pluginVer +\n                '. Perhaps this is the source of the error below.'\n            )\n          }\n        }\n      }\n    } catch (err) {\n      /* c8 ignore next 3 */\n      // eslint-disable-next-line no-console\n      if (console && console.error) console.error(err)\n    }\n    return error\n  }\n\n  async runAsync() {\n    this.plugin = 0\n    for (let i = 0; i < this.plugins.length; i++) {\n      let plugin = this.plugins[i]\n      let promise = this.runOnRoot(plugin)\n      if (isPromise(promise)) {\n        try {\n          await promise\n        } catch (error) {\n          throw this.handleError(error)\n        }\n      }\n    }\n\n    this.prepareVisitors()\n    if (this.hasListener) {\n      let root = this.result.root\n      while (!root[isClean]) {\n        root[isClean] = true\n        let stack = [toStack(root)]\n        while (stack.length > 0) {\n          let promise = this.visitTick(stack)\n          if (isPromise(promise)) {\n            try {\n              await promise\n            } catch (e) {\n              let node = stack[stack.length - 1].node\n              throw this.handleError(e, node)\n            }\n          }\n        }\n      }\n\n      if (this.listeners.OnceExit) {\n        for (let [plugin, visitor] of this.listeners.OnceExit) {\n          this.result.lastPlugin = plugin\n          try {\n            if (root.type === 'document') {\n              let roots = root.nodes.map(subRoot =>\n                visitor(subRoot, this.helpers)\n              )\n\n              await Promise.all(roots)\n            } else {\n              await visitor(root, this.helpers)\n            }\n          } catch (e) {\n            throw this.handleError(e)\n          }\n        }\n      }\n    }\n\n    this.processed = true\n    return this.stringify()\n  }\n\n  prepareVisitors() {\n    this.listeners = {}\n    let add = (plugin, type, cb) => {\n      if (!this.listeners[type]) this.listeners[type] = []\n      this.listeners[type].push([plugin, cb])\n    }\n    for (let plugin of this.plugins) {\n      if (typeof plugin === 'object') {\n        for (let event in plugin) {\n          if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n            throw new Error(\n              `Unknown event ${event} in ${plugin.postcssPlugin}. ` +\n                `Try to update PostCSS (${this.processor.version} now).`\n            )\n          }\n          if (!NOT_VISITORS[event]) {\n            if (typeof plugin[event] === 'object') {\n              for (let filter in plugin[event]) {\n                if (filter === '*') {\n                  add(plugin, event, plugin[event][filter])\n                } else {\n                  add(\n                    plugin,\n                    event + '-' + filter.toLowerCase(),\n                    plugin[event][filter]\n                  )\n                }\n              }\n            } else if (typeof plugin[event] === 'function') {\n              add(plugin, event, plugin[event])\n            }\n          }\n        }\n      }\n    }\n    this.hasListener = Object.keys(this.listeners).length > 0\n  }\n\n  visitTick(stack) {\n    let visit = stack[stack.length - 1]\n    let { node, visitors } = visit\n\n    if (node.type !== 'root' && node.type !== 'document' && !node.parent) {\n      stack.pop()\n      return\n    }\n\n    if (visitors.length > 0 && visit.visitorIndex < visitors.length) {\n      let [plugin, visitor] = visitors[visit.visitorIndex]\n      visit.visitorIndex += 1\n      if (visit.visitorIndex === visitors.length) {\n        visit.visitors = []\n        visit.visitorIndex = 0\n      }\n      this.result.lastPlugin = plugin\n      try {\n        return visitor(node.toProxy(), this.helpers)\n      } catch (e) {\n        throw this.handleError(e, node)\n      }\n    }\n\n    if (visit.iterator !== 0) {\n      let iterator = visit.iterator\n      let child\n      while ((child = node.nodes[node.indexes[iterator]])) {\n        node.indexes[iterator] += 1\n        if (!child[isClean]) {\n          child[isClean] = true\n          stack.push(toStack(child))\n          return\n        }\n      }\n      visit.iterator = 0\n      delete node.indexes[iterator]\n    }\n\n    let events = visit.events\n    while (visit.eventIndex < events.length) {\n      let event = events[visit.eventIndex]\n      visit.eventIndex += 1\n      if (event === CHILDREN) {\n        if (node.nodes && node.nodes.length) {\n          node[isClean] = true\n          visit.iterator = node.getIterator()\n        }\n        return\n      } else if (this.listeners[event]) {\n        visit.visitors = this.listeners[event]\n        return\n      }\n    }\n    stack.pop()\n  }\n}\n\nLazyResult.registerPostcss = dependant => {\n  postcss = dependant\n}\n\nmodule.exports = LazyResult\nLazyResult.default = LazyResult\n\nRoot.registerLazyResult(LazyResult)\nDocument.registerLazyResult(LazyResult)\n","'use strict'\n\nlet list = {\n  split(string, separators, last) {\n    let array = []\n    let current = ''\n    let split = false\n\n    let func = 0\n    let inQuote = false\n    let prevQuote = ''\n    let escape = false\n\n    for (let letter of string) {\n      if (escape) {\n        escape = false\n      } else if (letter === '\\\\') {\n        escape = true\n      } else if (inQuote) {\n        if (letter === prevQuote) {\n          inQuote = false\n        }\n      } else if (letter === '\"' || letter === \"'\") {\n        inQuote = true\n        prevQuote = letter\n      } else if (letter === '(') {\n        func += 1\n      } else if (letter === ')') {\n        if (func > 0) func -= 1\n      } else if (func === 0) {\n        if (separators.includes(letter)) split = true\n      }\n\n      if (split) {\n        if (current !== '') array.push(current.trim())\n        current = ''\n        split = false\n      } else {\n        current += letter\n      }\n    }\n\n    if (last || current !== '') array.push(current.trim())\n    return array\n  },\n\n  space(string) {\n    let spaces = [' ', '\\n', '\\t']\n    return list.split(string, spaces)\n  },\n\n  comma(string) {\n    return list.split(string, [','], true)\n  }\n}\n\nmodule.exports = list\nlist.default = list\n","'use strict'\n\nlet { SourceMapConsumer, SourceMapGenerator } = require('source-map-js')\nlet { dirname, resolve, relative, sep } = require('path')\nlet { pathToFileURL } = require('url')\n\nlet Input = require('./input')\n\nlet sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator)\nlet pathAvailable = Boolean(dirname && resolve && relative && sep)\n\nclass MapGenerator {\n  constructor(stringify, root, opts, cssString) {\n    this.stringify = stringify\n    this.mapOpts = opts.map || {}\n    this.root = root\n    this.opts = opts\n    this.css = cssString\n  }\n\n  isMap() {\n    if (typeof this.opts.map !== 'undefined') {\n      return !!this.opts.map\n    }\n    return this.previous().length > 0\n  }\n\n  previous() {\n    if (!this.previousMaps) {\n      this.previousMaps = []\n      if (this.root) {\n        this.root.walk(node => {\n          if (node.source && node.source.input.map) {\n            let map = node.source.input.map\n            if (!this.previousMaps.includes(map)) {\n              this.previousMaps.push(map)\n            }\n          }\n        })\n      } else {\n        let input = new Input(this.css, this.opts)\n        if (input.map) this.previousMaps.push(input.map)\n      }\n    }\n\n    return this.previousMaps\n  }\n\n  isInline() {\n    if (typeof this.mapOpts.inline !== 'undefined') {\n      return this.mapOpts.inline\n    }\n\n    let annotation = this.mapOpts.annotation\n    if (typeof annotation !== 'undefined' && annotation !== true) {\n      return false\n    }\n\n    if (this.previous().length) {\n      return this.previous().some(i => i.inline)\n    }\n    return true\n  }\n\n  isSourcesContent() {\n    if (typeof this.mapOpts.sourcesContent !== 'undefined') {\n      return this.mapOpts.sourcesContent\n    }\n    if (this.previous().length) {\n      return this.previous().some(i => i.withContent())\n    }\n    return true\n  }\n\n  clearAnnotation() {\n    if (this.mapOpts.annotation === false) return\n\n    if (this.root) {\n      let node\n      for (let i = this.root.nodes.length - 1; i >= 0; i--) {\n        node = this.root.nodes[i]\n        if (node.type !== 'comment') continue\n        if (node.text.indexOf('# sourceMappingURL=') === 0) {\n          this.root.removeChild(i)\n        }\n      }\n    } else if (this.css) {\n      this.css = this.css.replace(/(\\n)?\\/\\*#[\\S\\s]*?\\*\\/$/gm, '')\n    }\n  }\n\n  setSourcesContent() {\n    let already = {}\n    if (this.root) {\n      this.root.walk(node => {\n        if (node.source) {\n          let from = node.source.input.from\n          if (from && !already[from]) {\n            already[from] = true\n            this.map.setSourceContent(\n              this.toUrl(this.path(from)),\n              node.source.input.css\n            )\n          }\n        }\n      })\n    } else if (this.css) {\n      let from = this.opts.from\n        ? this.toUrl(this.path(this.opts.from))\n        : '<no source>'\n      this.map.setSourceContent(from, this.css)\n    }\n  }\n\n  applyPrevMaps() {\n    for (let prev of this.previous()) {\n      let from = this.toUrl(this.path(prev.file))\n      let root = prev.root || dirname(prev.file)\n      let map\n\n      if (this.mapOpts.sourcesContent === false) {\n        map = new SourceMapConsumer(prev.text)\n        if (map.sourcesContent) {\n          map.sourcesContent = map.sourcesContent.map(() => null)\n        }\n      } else {\n        map = prev.consumer()\n      }\n\n      this.map.applySourceMap(map, from, this.toUrl(this.path(root)))\n    }\n  }\n\n  isAnnotation() {\n    if (this.isInline()) {\n      return true\n    }\n    if (typeof this.mapOpts.annotation !== 'undefined') {\n      return this.mapOpts.annotation\n    }\n    if (this.previous().length) {\n      return this.previous().some(i => i.annotation)\n    }\n    return true\n  }\n\n  toBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str).toString('base64')\n    } else {\n      return window.btoa(unescape(encodeURIComponent(str)))\n    }\n  }\n\n  addAnnotation() {\n    let content\n\n    if (this.isInline()) {\n      content =\n        'data:application/json;base64,' + this.toBase64(this.map.toString())\n    } else if (typeof this.mapOpts.annotation === 'string') {\n      content = this.mapOpts.annotation\n    } else if (typeof this.mapOpts.annotation === 'function') {\n      content = this.mapOpts.annotation(this.opts.to, this.root)\n    } else {\n      content = this.outputFile() + '.map'\n    }\n    let eol = '\\n'\n    if (this.css.includes('\\r\\n')) eol = '\\r\\n'\n\n    this.css += eol + '/*# sourceMappingURL=' + content + ' */'\n  }\n\n  outputFile() {\n    if (this.opts.to) {\n      return this.path(this.opts.to)\n    } else if (this.opts.from) {\n      return this.path(this.opts.from)\n    } else {\n      return 'to.css'\n    }\n  }\n\n  generateMap() {\n    if (this.root) {\n      this.generateString()\n    } else if (this.previous().length === 1) {\n      let prev = this.previous()[0].consumer()\n      prev.file = this.outputFile()\n      this.map = SourceMapGenerator.fromSourceMap(prev)\n    } else {\n      this.map = new SourceMapGenerator({ file: this.outputFile() })\n      this.map.addMapping({\n        source: this.opts.from\n          ? this.toUrl(this.path(this.opts.from))\n          : '<no source>',\n        generated: { line: 1, column: 0 },\n        original: { line: 1, column: 0 }\n      })\n    }\n\n    if (this.isSourcesContent()) this.setSourcesContent()\n    if (this.root && this.previous().length > 0) this.applyPrevMaps()\n    if (this.isAnnotation()) this.addAnnotation()\n\n    if (this.isInline()) {\n      return [this.css]\n    } else {\n      return [this.css, this.map]\n    }\n  }\n\n  path(file) {\n    if (file.indexOf('<') === 0) return file\n    if (/^\\w+:\\/\\//.test(file)) return file\n    if (this.mapOpts.absolute) return file\n\n    let from = this.opts.to ? dirname(this.opts.to) : '.'\n\n    if (typeof this.mapOpts.annotation === 'string') {\n      from = dirname(resolve(from, this.mapOpts.annotation))\n    }\n\n    file = relative(from, file)\n    return file\n  }\n\n  toUrl(path) {\n    if (sep === '\\\\') {\n      path = path.replace(/\\\\/g, '/')\n    }\n    return encodeURI(path).replace(/[#?]/g, encodeURIComponent)\n  }\n\n  sourcePath(node) {\n    if (this.mapOpts.from) {\n      return this.toUrl(this.mapOpts.from)\n    } else if (this.mapOpts.absolute) {\n      if (pathToFileURL) {\n        return pathToFileURL(node.source.input.from).toString()\n      } else {\n        throw new Error(\n          '`map.absolute` option is not available in this PostCSS build'\n        )\n      }\n    } else {\n      return this.toUrl(this.path(node.source.input.from))\n    }\n  }\n\n  generateString() {\n    this.css = ''\n    this.map = new SourceMapGenerator({ file: this.outputFile() })\n\n    let line = 1\n    let column = 1\n\n    let noSource = '<no source>'\n    let mapping = {\n      source: '',\n      generated: { line: 0, column: 0 },\n      original: { line: 0, column: 0 }\n    }\n\n    let lines, last\n    this.stringify(this.root, (str, node, type) => {\n      this.css += str\n\n      if (node && type !== 'end') {\n        mapping.generated.line = line\n        mapping.generated.column = column - 1\n        if (node.source && node.source.start) {\n          mapping.source = this.sourcePath(node)\n          mapping.original.line = node.source.start.line\n          mapping.original.column = node.source.start.column - 1\n          this.map.addMapping(mapping)\n        } else {\n          mapping.source = noSource\n          mapping.original.line = 1\n          mapping.original.column = 0\n          this.map.addMapping(mapping)\n        }\n      }\n\n      lines = str.match(/\\n/g)\n      if (lines) {\n        line += lines.length\n        last = str.lastIndexOf('\\n')\n        column = str.length - last\n      } else {\n        column += str.length\n      }\n\n      if (node && type !== 'start') {\n        let p = node.parent || { raws: {} }\n        if (node.type !== 'decl' || node !== p.last || p.raws.semicolon) {\n          if (node.source && node.source.end) {\n            mapping.source = this.sourcePath(node)\n            mapping.original.line = node.source.end.line\n            mapping.original.column = node.source.end.column - 1\n            mapping.generated.line = line\n            mapping.generated.column = column - 2\n            this.map.addMapping(mapping)\n          } else {\n            mapping.source = noSource\n            mapping.original.line = 1\n            mapping.original.column = 0\n            mapping.generated.line = line\n            mapping.generated.column = column - 1\n            this.map.addMapping(mapping)\n          }\n        }\n      }\n    })\n  }\n\n  generate() {\n    this.clearAnnotation()\n    if (pathAvailable && sourceMapAvailable && this.isMap()) {\n      return this.generateMap()\n    } else {\n      let result = ''\n      this.stringify(this.root, i => {\n        result += i\n      })\n      return [result]\n    }\n  }\n}\n\nmodule.exports = MapGenerator\n","'use strict'\n\nlet MapGenerator = require('./map-generator')\nlet stringify = require('./stringify')\nlet warnOnce = require('./warn-once')\nlet parse = require('./parse')\nconst Result = require('./result')\n\nclass NoWorkResult {\n  constructor(processor, css, opts) {\n    css = css.toString()\n    this.stringified = false\n\n    this._processor = processor\n    this._css = css\n    this._opts = opts\n    this._map = undefined\n    let root\n\n    let str = stringify\n    this.result = new Result(this._processor, root, this._opts)\n    this.result.css = css\n\n    let self = this\n    Object.defineProperty(this.result, 'root', {\n      get() {\n        return self.root\n      }\n    })\n\n    let map = new MapGenerator(str, root, this._opts, css)\n    if (map.isMap()) {\n      let [generatedCSS, generatedMap] = map.generate()\n      if (generatedCSS) {\n        this.result.css = generatedCSS\n      }\n      if (generatedMap) {\n        this.result.map = generatedMap\n      }\n    }\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'NoWorkResult'\n  }\n\n  get processor() {\n    return this.result.processor\n  }\n\n  get opts() {\n    return this.result.opts\n  }\n\n  get css() {\n    return this.result.css\n  }\n\n  get content() {\n    return this.result.css\n  }\n\n  get map() {\n    return this.result.map\n  }\n\n  get root() {\n    if (this._root) {\n      return this._root\n    }\n\n    let root\n    let parser = parse\n\n    try {\n      root = parser(this._css, this._opts)\n    } catch (error) {\n      this.error = error\n    }\n\n    if (this.error) {\n      throw this.error\n    } else {\n      this._root = root\n      return root\n    }\n  }\n\n  get messages() {\n    return []\n  }\n\n  warnings() {\n    return []\n  }\n\n  toString() {\n    return this._css\n  }\n\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!('from' in this._opts)) {\n        warnOnce(\n          'Without `from` option PostCSS could generate wrong source map ' +\n            'and will not find Browserslist config. Set it to CSS file path ' +\n            'or to `undefined` to prevent this warning.'\n        )\n      }\n    }\n\n    return this.async().then(onFulfilled, onRejected)\n  }\n\n  catch(onRejected) {\n    return this.async().catch(onRejected)\n  }\n\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally)\n  }\n\n  async() {\n    if (this.error) return Promise.reject(this.error)\n    return Promise.resolve(this.result)\n  }\n\n  sync() {\n    if (this.error) throw this.error\n    return this.result\n  }\n}\n\nmodule.exports = NoWorkResult\nNoWorkResult.default = NoWorkResult\n","'use strict'\n\nlet { isClean, my } = require('./symbols')\nlet CssSyntaxError = require('./css-syntax-error')\nlet Stringifier = require('./stringifier')\nlet stringify = require('./stringify')\n\nfunction cloneNode(obj, parent) {\n  let cloned = new obj.constructor()\n\n  for (let i in obj) {\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) {\n      /* c8 ignore next 2 */\n      continue\n    }\n    if (i === 'proxyCache') continue\n    let value = obj[i]\n    let type = typeof value\n\n    if (i === 'parent' && type === 'object') {\n      if (parent) cloned[i] = parent\n    } else if (i === 'source') {\n      cloned[i] = value\n    } else if (Array.isArray(value)) {\n      cloned[i] = value.map(j => cloneNode(j, cloned))\n    } else {\n      if (type === 'object' && value !== null) value = cloneNode(value)\n      cloned[i] = value\n    }\n  }\n\n  return cloned\n}\n\nclass Node {\n  constructor(defaults = {}) {\n    this.raws = {}\n    this[isClean] = false\n    this[my] = true\n\n    for (let name in defaults) {\n      if (name === 'nodes') {\n        this.nodes = []\n        for (let node of defaults[name]) {\n          if (typeof node.clone === 'function') {\n            this.append(node.clone())\n          } else {\n            this.append(node)\n          }\n        }\n      } else {\n        this[name] = defaults[name]\n      }\n    }\n  }\n\n  error(message, opts = {}) {\n    if (this.source) {\n      let { start, end } = this.rangeBy(opts)\n      return this.source.input.error(\n        message,\n        { line: start.line, column: start.column },\n        { line: end.line, column: end.column },\n        opts\n      )\n    }\n    return new CssSyntaxError(message)\n  }\n\n  warn(result, text, opts) {\n    let data = { node: this }\n    for (let i in opts) data[i] = opts[i]\n    return result.warn(text, data)\n  }\n\n  remove() {\n    if (this.parent) {\n      this.parent.removeChild(this)\n    }\n    this.parent = undefined\n    return this\n  }\n\n  toString(stringifier = stringify) {\n    if (stringifier.stringify) stringifier = stringifier.stringify\n    let result = ''\n    stringifier(this, i => {\n      result += i\n    })\n    return result\n  }\n\n  assign(overrides = {}) {\n    for (let name in overrides) {\n      this[name] = overrides[name]\n    }\n    return this\n  }\n\n  clone(overrides = {}) {\n    let cloned = cloneNode(this)\n    for (let name in overrides) {\n      cloned[name] = overrides[name]\n    }\n    return cloned\n  }\n\n  cloneBefore(overrides = {}) {\n    let cloned = this.clone(overrides)\n    this.parent.insertBefore(this, cloned)\n    return cloned\n  }\n\n  cloneAfter(overrides = {}) {\n    let cloned = this.clone(overrides)\n    this.parent.insertAfter(this, cloned)\n    return cloned\n  }\n\n  replaceWith(...nodes) {\n    if (this.parent) {\n      let bookmark = this\n      let foundSelf = false\n      for (let node of nodes) {\n        if (node === this) {\n          foundSelf = true\n        } else if (foundSelf) {\n          this.parent.insertAfter(bookmark, node)\n          bookmark = node\n        } else {\n          this.parent.insertBefore(bookmark, node)\n        }\n      }\n\n      if (!foundSelf) {\n        this.remove()\n      }\n    }\n\n    return this\n  }\n\n  next() {\n    if (!this.parent) return undefined\n    let index = this.parent.index(this)\n    return this.parent.nodes[index + 1]\n  }\n\n  prev() {\n    if (!this.parent) return undefined\n    let index = this.parent.index(this)\n    return this.parent.nodes[index - 1]\n  }\n\n  before(add) {\n    this.parent.insertBefore(this, add)\n    return this\n  }\n\n  after(add) {\n    this.parent.insertAfter(this, add)\n    return this\n  }\n\n  root() {\n    let result = this\n    while (result.parent && result.parent.type !== 'document') {\n      result = result.parent\n    }\n    return result\n  }\n\n  raw(prop, defaultType) {\n    let str = new Stringifier()\n    return str.raw(this, prop, defaultType)\n  }\n\n  cleanRaws(keepBetween) {\n    delete this.raws.before\n    delete this.raws.after\n    if (!keepBetween) delete this.raws.between\n  }\n\n  toJSON(_, inputs) {\n    let fixed = {}\n    let emitInputs = inputs == null\n    inputs = inputs || new Map()\n    let inputsNextIndex = 0\n\n    for (let name in this) {\n      if (!Object.prototype.hasOwnProperty.call(this, name)) {\n        /* c8 ignore next 2 */\n        continue\n      }\n      if (name === 'parent' || name === 'proxyCache') continue\n      let value = this[name]\n\n      if (Array.isArray(value)) {\n        fixed[name] = value.map(i => {\n          if (typeof i === 'object' && i.toJSON) {\n            return i.toJSON(null, inputs)\n          } else {\n            return i\n          }\n        })\n      } else if (typeof value === 'object' && value.toJSON) {\n        fixed[name] = value.toJSON(null, inputs)\n      } else if (name === 'source') {\n        let inputId = inputs.get(value.input)\n        if (inputId == null) {\n          inputId = inputsNextIndex\n          inputs.set(value.input, inputsNextIndex)\n          inputsNextIndex++\n        }\n        fixed[name] = {\n          inputId,\n          start: value.start,\n          end: value.end\n        }\n      } else {\n        fixed[name] = value\n      }\n    }\n\n    if (emitInputs) {\n      fixed.inputs = [...inputs.keys()].map(input => input.toJSON())\n    }\n\n    return fixed\n  }\n\n  positionInside(index) {\n    let string = this.toString()\n    let column = this.source.start.column\n    let line = this.source.start.line\n\n    for (let i = 0; i < index; i++) {\n      if (string[i] === '\\n') {\n        column = 1\n        line += 1\n      } else {\n        column += 1\n      }\n    }\n\n    return { line, column }\n  }\n\n  positionBy(opts) {\n    let pos = this.source.start\n    if (opts.index) {\n      pos = this.positionInside(opts.index)\n    } else if (opts.word) {\n      let index = this.toString().indexOf(opts.word)\n      if (index !== -1) pos = this.positionInside(index)\n    }\n    return pos\n  }\n\n  rangeBy(opts) {\n    let start = {\n      line: this.source.start.line,\n      column: this.source.start.column\n    }\n    let end = this.source.end\n      ? {\n          line: this.source.end.line,\n          column: this.source.end.column + 1\n        }\n      : {\n          line: start.line,\n          column: start.column + 1\n        }\n\n    if (opts.word) {\n      let index = this.toString().indexOf(opts.word)\n      if (index !== -1) {\n        start = this.positionInside(index)\n        end = this.positionInside(index + opts.word.length)\n      }\n    } else {\n      if (opts.start) {\n        start = {\n          line: opts.start.line,\n          column: opts.start.column\n        }\n      } else if (opts.index) {\n        start = this.positionInside(opts.index)\n      }\n\n      if (opts.end) {\n        end = {\n          line: opts.end.line,\n          column: opts.end.column\n        }\n      } else if (opts.endIndex) {\n        end = this.positionInside(opts.endIndex)\n      } else if (opts.index) {\n        end = this.positionInside(opts.index + 1)\n      }\n    }\n\n    if (\n      end.line < start.line ||\n      (end.line === start.line && end.column <= start.column)\n    ) {\n      end = { line: start.line, column: start.column + 1 }\n    }\n\n    return { start, end }\n  }\n\n  getProxyProcessor() {\n    return {\n      set(node, prop, value) {\n        if (node[prop] === value) return true\n        node[prop] = value\n        if (\n          prop === 'prop' ||\n          prop === 'value' ||\n          prop === 'name' ||\n          prop === 'params' ||\n          prop === 'important' ||\n          /* c8 ignore next */\n          prop === 'text'\n        ) {\n          node.markDirty()\n        }\n        return true\n      },\n\n      get(node, prop) {\n        if (prop === 'proxyOf') {\n          return node\n        } else if (prop === 'root') {\n          return () => node.root().toProxy()\n        } else {\n          return node[prop]\n        }\n      }\n    }\n  }\n\n  toProxy() {\n    if (!this.proxyCache) {\n      this.proxyCache = new Proxy(this, this.getProxyProcessor())\n    }\n    return this.proxyCache\n  }\n\n  addToError(error) {\n    error.postcssNode = this\n    if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n      let s = this.source\n      error.stack = error.stack.replace(\n        /\\n\\s{4}at /,\n        `$&${s.input.from}:${s.start.line}:${s.start.column}$&`\n      )\n    }\n    return error\n  }\n\n  markDirty() {\n    if (this[isClean]) {\n      this[isClean] = false\n      let next = this\n      while ((next = next.parent)) {\n        next[isClean] = false\n      }\n    }\n  }\n\n  get proxyOf() {\n    return this\n  }\n}\n\nmodule.exports = Node\nNode.default = Node\n","'use strict'\n\nlet Container = require('./container')\nlet Parser = require('./parser')\nlet Input = require('./input')\n\nfunction parse(css, opts) {\n  let input = new Input(css, opts)\n  let parser = new Parser(input)\n  try {\n    parser.parse()\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (e.name === 'CssSyntaxError' && opts && opts.from) {\n        if (/\\.scss$/i.test(opts.from)) {\n          e.message +=\n            '\\nYou tried to parse SCSS with ' +\n            'the standard CSS parser; ' +\n            'try again with the postcss-scss parser'\n        } else if (/\\.sass/i.test(opts.from)) {\n          e.message +=\n            '\\nYou tried to parse Sass with ' +\n            'the standard CSS parser; ' +\n            'try again with the postcss-sass parser'\n        } else if (/\\.less$/i.test(opts.from)) {\n          e.message +=\n            '\\nYou tried to parse Less with ' +\n            'the standard CSS parser; ' +\n            'try again with the postcss-less parser'\n        }\n      }\n    }\n    throw e\n  }\n\n  return parser.root\n}\n\nmodule.exports = parse\nparse.default = parse\n\nContainer.registerParse(parse)\n","'use strict'\n\nlet Declaration = require('./declaration')\nlet tokenizer = require('./tokenize')\nlet Comment = require('./comment')\nlet AtRule = require('./at-rule')\nlet Root = require('./root')\nlet Rule = require('./rule')\n\nconst SAFE_COMMENT_NEIGHBOR = {\n  empty: true,\n  space: true\n}\n\nfunction findLastWithPosition(tokens) {\n  for (let i = tokens.length - 1; i >= 0; i--) {\n    let token = tokens[i]\n    let pos = token[3] || token[2]\n    if (pos) return pos\n  }\n}\n\nclass Parser {\n  constructor(input) {\n    this.input = input\n\n    this.root = new Root()\n    this.current = this.root\n    this.spaces = ''\n    this.semicolon = false\n    this.customProperty = false\n\n    this.createTokenizer()\n    this.root.source = { input, start: { offset: 0, line: 1, column: 1 } }\n  }\n\n  createTokenizer() {\n    this.tokenizer = tokenizer(this.input)\n  }\n\n  parse() {\n    let token\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken()\n\n      switch (token[0]) {\n        case 'space':\n          this.spaces += token[1]\n          break\n\n        case ';':\n          this.freeSemicolon(token)\n          break\n\n        case '}':\n          this.end(token)\n          break\n\n        case 'comment':\n          this.comment(token)\n          break\n\n        case 'at-word':\n          this.atrule(token)\n          break\n\n        case '{':\n          this.emptyRule(token)\n          break\n\n        default:\n          this.other(token)\n          break\n      }\n    }\n    this.endFile()\n  }\n\n  comment(token) {\n    let node = new Comment()\n    this.init(node, token[2])\n    node.source.end = this.getPosition(token[3] || token[2])\n\n    let text = token[1].slice(2, -2)\n    if (/^\\s*$/.test(text)) {\n      node.text = ''\n      node.raws.left = text\n      node.raws.right = ''\n    } else {\n      let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/)\n      node.text = match[2]\n      node.raws.left = match[1]\n      node.raws.right = match[3]\n    }\n  }\n\n  emptyRule(token) {\n    let node = new Rule()\n    this.init(node, token[2])\n    node.selector = ''\n    node.raws.between = ''\n    this.current = node\n  }\n\n  other(start) {\n    let end = false\n    let type = null\n    let colon = false\n    let bracket = null\n    let brackets = []\n    let customProperty = start[1].startsWith('--')\n\n    let tokens = []\n    let token = start\n    while (token) {\n      type = token[0]\n      tokens.push(token)\n\n      if (type === '(' || type === '[') {\n        if (!bracket) bracket = token\n        brackets.push(type === '(' ? ')' : ']')\n      } else if (customProperty && colon && type === '{') {\n        if (!bracket) bracket = token\n        brackets.push('}')\n      } else if (brackets.length === 0) {\n        if (type === ';') {\n          if (colon) {\n            this.decl(tokens, customProperty)\n            return\n          } else {\n            break\n          }\n        } else if (type === '{') {\n          this.rule(tokens)\n          return\n        } else if (type === '}') {\n          this.tokenizer.back(tokens.pop())\n          end = true\n          break\n        } else if (type === ':') {\n          colon = true\n        }\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop()\n        if (brackets.length === 0) bracket = null\n      }\n\n      token = this.tokenizer.nextToken()\n    }\n\n    if (this.tokenizer.endOfFile()) end = true\n    if (brackets.length > 0) this.unclosedBracket(bracket)\n\n    if (end && colon) {\n      if (!customProperty) {\n        while (tokens.length) {\n          token = tokens[tokens.length - 1][0]\n          if (token !== 'space' && token !== 'comment') break\n          this.tokenizer.back(tokens.pop())\n        }\n      }\n      this.decl(tokens, customProperty)\n    } else {\n      this.unknownWord(tokens)\n    }\n  }\n\n  rule(tokens) {\n    tokens.pop()\n\n    let node = new Rule()\n    this.init(node, tokens[0][2])\n\n    node.raws.between = this.spacesAndCommentsFromEnd(tokens)\n    this.raw(node, 'selector', tokens)\n    this.current = node\n  }\n\n  decl(tokens, customProperty) {\n    let node = new Declaration()\n    this.init(node, tokens[0][2])\n\n    let last = tokens[tokens.length - 1]\n    if (last[0] === ';') {\n      this.semicolon = true\n      tokens.pop()\n    }\n\n    node.source.end = this.getPosition(\n      last[3] || last[2] || findLastWithPosition(tokens)\n    )\n\n    while (tokens[0][0] !== 'word') {\n      if (tokens.length === 1) this.unknownWord(tokens)\n      node.raws.before += tokens.shift()[1]\n    }\n    node.source.start = this.getPosition(tokens[0][2])\n\n    node.prop = ''\n    while (tokens.length) {\n      let type = tokens[0][0]\n      if (type === ':' || type === 'space' || type === 'comment') {\n        break\n      }\n      node.prop += tokens.shift()[1]\n    }\n\n    node.raws.between = ''\n\n    let token\n    while (tokens.length) {\n      token = tokens.shift()\n\n      if (token[0] === ':') {\n        node.raws.between += token[1]\n        break\n      } else {\n        if (token[0] === 'word' && /\\w/.test(token[1])) {\n          this.unknownWord([token])\n        }\n        node.raws.between += token[1]\n      }\n    }\n\n    if (node.prop[0] === '_' || node.prop[0] === '*') {\n      node.raws.before += node.prop[0]\n      node.prop = node.prop.slice(1)\n    }\n\n    let firstSpaces = []\n    let next\n    while (tokens.length) {\n      next = tokens[0][0]\n      if (next !== 'space' && next !== 'comment') break\n      firstSpaces.push(tokens.shift())\n    }\n\n    this.precheckMissedSemicolon(tokens)\n\n    for (let i = tokens.length - 1; i >= 0; i--) {\n      token = tokens[i]\n      if (token[1].toLowerCase() === '!important') {\n        node.important = true\n        let string = this.stringFrom(tokens, i)\n        string = this.spacesFromEnd(tokens) + string\n        if (string !== ' !important') node.raws.important = string\n        break\n      } else if (token[1].toLowerCase() === 'important') {\n        let cache = tokens.slice(0)\n        let str = ''\n        for (let j = i; j > 0; j--) {\n          let type = cache[j][0]\n          if (str.trim().indexOf('!') === 0 && type !== 'space') {\n            break\n          }\n          str = cache.pop()[1] + str\n        }\n        if (str.trim().indexOf('!') === 0) {\n          node.important = true\n          node.raws.important = str\n          tokens = cache\n        }\n      }\n\n      if (token[0] !== 'space' && token[0] !== 'comment') {\n        break\n      }\n    }\n\n    let hasWord = tokens.some(i => i[0] !== 'space' && i[0] !== 'comment')\n\n    if (hasWord) {\n      node.raws.between += firstSpaces.map(i => i[1]).join('')\n      firstSpaces = []\n    }\n    this.raw(node, 'value', firstSpaces.concat(tokens), customProperty)\n\n    if (node.value.includes(':') && !customProperty) {\n      this.checkMissedSemicolon(tokens)\n    }\n  }\n\n  atrule(token) {\n    let node = new AtRule()\n    node.name = token[1].slice(1)\n    if (node.name === '') {\n      this.unnamedAtrule(node, token)\n    }\n    this.init(node, token[2])\n\n    let type\n    let prev\n    let shift\n    let last = false\n    let open = false\n    let params = []\n    let brackets = []\n\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken()\n      type = token[0]\n\n      if (type === '(' || type === '[') {\n        brackets.push(type === '(' ? ')' : ']')\n      } else if (type === '{' && brackets.length > 0) {\n        brackets.push('}')\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop()\n      }\n\n      if (brackets.length === 0) {\n        if (type === ';') {\n          node.source.end = this.getPosition(token[2])\n          this.semicolon = true\n          break\n        } else if (type === '{') {\n          open = true\n          break\n        } else if (type === '}') {\n          if (params.length > 0) {\n            shift = params.length - 1\n            prev = params[shift]\n            while (prev && prev[0] === 'space') {\n              prev = params[--shift]\n            }\n            if (prev) {\n              node.source.end = this.getPosition(prev[3] || prev[2])\n            }\n          }\n          this.end(token)\n          break\n        } else {\n          params.push(token)\n        }\n      } else {\n        params.push(token)\n      }\n\n      if (this.tokenizer.endOfFile()) {\n        last = true\n        break\n      }\n    }\n\n    node.raws.between = this.spacesAndCommentsFromEnd(params)\n    if (params.length) {\n      node.raws.afterName = this.spacesAndCommentsFromStart(params)\n      this.raw(node, 'params', params)\n      if (last) {\n        token = params[params.length - 1]\n        node.source.end = this.getPosition(token[3] || token[2])\n        this.spaces = node.raws.between\n        node.raws.between = ''\n      }\n    } else {\n      node.raws.afterName = ''\n      node.params = ''\n    }\n\n    if (open) {\n      node.nodes = []\n      this.current = node\n    }\n  }\n\n  end(token) {\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon\n    }\n    this.semicolon = false\n\n    this.current.raws.after = (this.current.raws.after || '') + this.spaces\n    this.spaces = ''\n\n    if (this.current.parent) {\n      this.current.source.end = this.getPosition(token[2])\n      this.current = this.current.parent\n    } else {\n      this.unexpectedClose(token)\n    }\n  }\n\n  endFile() {\n    if (this.current.parent) this.unclosedBlock()\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon\n    }\n    this.current.raws.after = (this.current.raws.after || '') + this.spaces\n  }\n\n  freeSemicolon(token) {\n    this.spaces += token[1]\n    if (this.current.nodes) {\n      let prev = this.current.nodes[this.current.nodes.length - 1]\n      if (prev && prev.type === 'rule' && !prev.raws.ownSemicolon) {\n        prev.raws.ownSemicolon = this.spaces\n        this.spaces = ''\n      }\n    }\n  }\n\n  // Helpers\n\n  getPosition(offset) {\n    let pos = this.input.fromOffset(offset)\n    return {\n      offset,\n      line: pos.line,\n      column: pos.col\n    }\n  }\n\n  init(node, offset) {\n    this.current.push(node)\n    node.source = {\n      start: this.getPosition(offset),\n      input: this.input\n    }\n    node.raws.before = this.spaces\n    this.spaces = ''\n    if (node.type !== 'comment') this.semicolon = false\n  }\n\n  raw(node, prop, tokens, customProperty) {\n    let token, type\n    let length = tokens.length\n    let value = ''\n    let clean = true\n    let next, prev\n\n    for (let i = 0; i < length; i += 1) {\n      token = tokens[i]\n      type = token[0]\n      if (type === 'space' && i === length - 1 && !customProperty) {\n        clean = false\n      } else if (type === 'comment') {\n        prev = tokens[i - 1] ? tokens[i - 1][0] : 'empty'\n        next = tokens[i + 1] ? tokens[i + 1][0] : 'empty'\n        if (!SAFE_COMMENT_NEIGHBOR[prev] && !SAFE_COMMENT_NEIGHBOR[next]) {\n          if (value.slice(-1) === ',') {\n            clean = false\n          } else {\n            value += token[1]\n          }\n        } else {\n          clean = false\n        }\n      } else {\n        value += token[1]\n      }\n    }\n    if (!clean) {\n      let raw = tokens.reduce((all, i) => all + i[1], '')\n      node.raws[prop] = { value, raw }\n    }\n    node[prop] = value\n  }\n\n  spacesAndCommentsFromEnd(tokens) {\n    let lastTokenType\n    let spaces = ''\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0]\n      if (lastTokenType !== 'space' && lastTokenType !== 'comment') break\n      spaces = tokens.pop()[1] + spaces\n    }\n    return spaces\n  }\n\n  spacesAndCommentsFromStart(tokens) {\n    let next\n    let spaces = ''\n    while (tokens.length) {\n      next = tokens[0][0]\n      if (next !== 'space' && next !== 'comment') break\n      spaces += tokens.shift()[1]\n    }\n    return spaces\n  }\n\n  spacesFromEnd(tokens) {\n    let lastTokenType\n    let spaces = ''\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0]\n      if (lastTokenType !== 'space') break\n      spaces = tokens.pop()[1] + spaces\n    }\n    return spaces\n  }\n\n  stringFrom(tokens, from) {\n    let result = ''\n    for (let i = from; i < tokens.length; i++) {\n      result += tokens[i][1]\n    }\n    tokens.splice(from, tokens.length - from)\n    return result\n  }\n\n  colon(tokens) {\n    let brackets = 0\n    let token, type, prev\n    for (let [i, element] of tokens.entries()) {\n      token = element\n      type = token[0]\n\n      if (type === '(') {\n        brackets += 1\n      }\n      if (type === ')') {\n        brackets -= 1\n      }\n      if (brackets === 0 && type === ':') {\n        if (!prev) {\n          this.doubleColon(token)\n        } else if (prev[0] === 'word' && prev[1] === 'progid') {\n          continue\n        } else {\n          return i\n        }\n      }\n\n      prev = token\n    }\n    return false\n  }\n\n  // Errors\n\n  unclosedBracket(bracket) {\n    throw this.input.error(\n      'Unclosed bracket',\n      { offset: bracket[2] },\n      { offset: bracket[2] + 1 }\n    )\n  }\n\n  unknownWord(tokens) {\n    throw this.input.error(\n      'Unknown word',\n      { offset: tokens[0][2] },\n      { offset: tokens[0][2] + tokens[0][1].length }\n    )\n  }\n\n  unexpectedClose(token) {\n    throw this.input.error(\n      'Unexpected }',\n      { offset: token[2] },\n      { offset: token[2] + 1 }\n    )\n  }\n\n  unclosedBlock() {\n    let pos = this.current.source.start\n    throw this.input.error('Unclosed block', pos.line, pos.column)\n  }\n\n  doubleColon(token) {\n    throw this.input.error(\n      'Double colon',\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    )\n  }\n\n  unnamedAtrule(node, token) {\n    throw this.input.error(\n      'At-rule without name',\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    )\n  }\n\n  precheckMissedSemicolon(/* tokens */) {\n    // Hook for Safe Parser\n  }\n\n  checkMissedSemicolon(tokens) {\n    let colon = this.colon(tokens)\n    if (colon === false) return\n\n    let founded = 0\n    let token\n    for (let j = colon - 1; j >= 0; j--) {\n      token = tokens[j]\n      if (token[0] !== 'space') {\n        founded += 1\n        if (founded === 2) break\n      }\n    }\n    // If the token is a word, e.g. `!important`, `red` or any other valid property's value.\n    // Then we need to return the colon after that word token. [3] is the \"end\" colon of that word.\n    // And because we need it after that one we do +1 to get the next one.\n    throw this.input.error(\n      'Missed semicolon',\n      token[0] === 'word' ? token[3] + 1 : token[2]\n    )\n  }\n}\n\nmodule.exports = Parser\n","'use strict'\n\nlet CssSyntaxError = require('./css-syntax-error')\nlet Declaration = require('./declaration')\nlet LazyResult = require('./lazy-result')\nlet Container = require('./container')\nlet Processor = require('./processor')\nlet stringify = require('./stringify')\nlet fromJSON = require('./fromJSON')\nlet Document = require('./document')\nlet Warning = require('./warning')\nlet Comment = require('./comment')\nlet AtRule = require('./at-rule')\nlet Result = require('./result.js')\nlet Input = require('./input')\nlet parse = require('./parse')\nlet list = require('./list')\nlet Rule = require('./rule')\nlet Root = require('./root')\nlet Node = require('./node')\n\nfunction postcss(...plugins) {\n  if (plugins.length === 1 && Array.isArray(plugins[0])) {\n    plugins = plugins[0]\n  }\n  return new Processor(plugins)\n}\n\npostcss.plugin = function plugin(name, initializer) {\n  let warningPrinted = false\n  function creator(...args) {\n    // eslint-disable-next-line no-console\n    if (console && console.warn && !warningPrinted) {\n      warningPrinted = true\n      // eslint-disable-next-line no-console\n      console.warn(\n        name +\n          ': postcss.plugin was deprecated. Migration guide:\\n' +\n          'https://evilmartians.com/chronicles/postcss-8-plugin-migration'\n      )\n      if (process.env.LANG && process.env.LANG.startsWith('cn')) {\n        /* c8 ignore next 7 */\n        // eslint-disable-next-line no-console\n        console.warn(\n          name +\n            ': 里面 postcss.plugin 被弃用. 迁移指南:\\n' +\n            'https://www.w3ctech.com/topic/2226'\n        )\n      }\n    }\n    let transformer = initializer(...args)\n    transformer.postcssPlugin = name\n    transformer.postcssVersion = new Processor().version\n    return transformer\n  }\n\n  let cache\n  Object.defineProperty(creator, 'postcss', {\n    get() {\n      if (!cache) cache = creator()\n      return cache\n    }\n  })\n\n  creator.process = function (css, processOpts, pluginOpts) {\n    return postcss([creator(pluginOpts)]).process(css, processOpts)\n  }\n\n  return creator\n}\n\npostcss.stringify = stringify\npostcss.parse = parse\npostcss.fromJSON = fromJSON\npostcss.list = list\n\npostcss.comment = defaults => new Comment(defaults)\npostcss.atRule = defaults => new AtRule(defaults)\npostcss.decl = defaults => new Declaration(defaults)\npostcss.rule = defaults => new Rule(defaults)\npostcss.root = defaults => new Root(defaults)\npostcss.document = defaults => new Document(defaults)\n\npostcss.CssSyntaxError = CssSyntaxError\npostcss.Declaration = Declaration\npostcss.Container = Container\npostcss.Processor = Processor\npostcss.Document = Document\npostcss.Comment = Comment\npostcss.Warning = Warning\npostcss.AtRule = AtRule\npostcss.Result = Result\npostcss.Input = Input\npostcss.Rule = Rule\npostcss.Root = Root\npostcss.Node = Node\n\nLazyResult.registerPostcss(postcss)\n\nmodule.exports = postcss\npostcss.default = postcss\n","'use strict'\n\nlet { SourceMapConsumer, SourceMapGenerator } = require('source-map-js')\nlet { existsSync, readFileSync } = require('fs')\nlet { dirname, join } = require('path')\n\nfunction fromBase64(str) {\n  if (Buffer) {\n    return Buffer.from(str, 'base64').toString()\n  } else {\n    /* c8 ignore next 2 */\n    return window.atob(str)\n  }\n}\n\nclass PreviousMap {\n  constructor(css, opts) {\n    if (opts.map === false) return\n    this.loadAnnotation(css)\n    this.inline = this.startWith(this.annotation, 'data:')\n\n    let prev = opts.map ? opts.map.prev : undefined\n    let text = this.loadMap(opts.from, prev)\n    if (!this.mapFile && opts.from) {\n      this.mapFile = opts.from\n    }\n    if (this.mapFile) this.root = dirname(this.mapFile)\n    if (text) this.text = text\n  }\n\n  consumer() {\n    if (!this.consumerCache) {\n      this.consumerCache = new SourceMapConsumer(this.text)\n    }\n    return this.consumerCache\n  }\n\n  withContent() {\n    return !!(\n      this.consumer().sourcesContent &&\n      this.consumer().sourcesContent.length > 0\n    )\n  }\n\n  startWith(string, start) {\n    if (!string) return false\n    return string.substr(0, start.length) === start\n  }\n\n  getAnnotationURL(sourceMapString) {\n    return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, '').trim()\n  }\n\n  loadAnnotation(css) {\n    let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/gm)\n    if (!comments) return\n\n    // sourceMappingURLs from comments, strings, etc.\n    let start = css.lastIndexOf(comments.pop())\n    let end = css.indexOf('*/', start)\n\n    if (start > -1 && end > -1) {\n      // Locate the last sourceMappingURL to avoid pickin\n      this.annotation = this.getAnnotationURL(css.substring(start, end))\n    }\n  }\n\n  decodeInline(text) {\n    let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/\n    let baseUri = /^data:application\\/json;base64,/\n    let charsetUri = /^data:application\\/json;charset=utf-?8,/\n    let uri = /^data:application\\/json,/\n\n    if (charsetUri.test(text) || uri.test(text)) {\n      return decodeURIComponent(text.substr(RegExp.lastMatch.length))\n    }\n\n    if (baseCharsetUri.test(text) || baseUri.test(text)) {\n      return fromBase64(text.substr(RegExp.lastMatch.length))\n    }\n\n    let encoding = text.match(/data:application\\/json;([^,]+),/)[1]\n    throw new Error('Unsupported source map encoding ' + encoding)\n  }\n\n  loadFile(path) {\n    this.root = dirname(path)\n    if (existsSync(path)) {\n      this.mapFile = path\n      return readFileSync(path, 'utf-8').toString().trim()\n    }\n  }\n\n  loadMap(file, prev) {\n    if (prev === false) return false\n\n    if (prev) {\n      if (typeof prev === 'string') {\n        return prev\n      } else if (typeof prev === 'function') {\n        let prevPath = prev(file)\n        if (prevPath) {\n          let map = this.loadFile(prevPath)\n          if (!map) {\n            throw new Error(\n              'Unable to load previous source map: ' + prevPath.toString()\n            )\n          }\n          return map\n        }\n      } else if (prev instanceof SourceMapConsumer) {\n        return SourceMapGenerator.fromSourceMap(prev).toString()\n      } else if (prev instanceof SourceMapGenerator) {\n        return prev.toString()\n      } else if (this.isMap(prev)) {\n        return JSON.stringify(prev)\n      } else {\n        throw new Error(\n          'Unsupported previous source map format: ' + prev.toString()\n        )\n      }\n    } else if (this.inline) {\n      return this.decodeInline(this.annotation)\n    } else if (this.annotation) {\n      let map = this.annotation\n      if (file) map = join(dirname(file), map)\n      return this.loadFile(map)\n    }\n  }\n\n  isMap(map) {\n    if (typeof map !== 'object') return false\n    return (\n      typeof map.mappings === 'string' ||\n      typeof map._mappings === 'string' ||\n      Array.isArray(map.sections)\n    )\n  }\n}\n\nmodule.exports = PreviousMap\nPreviousMap.default = PreviousMap\n","'use strict'\n\nlet NoWorkResult = require('./no-work-result')\nlet LazyResult = require('./lazy-result')\nlet Document = require('./document')\nlet Root = require('./root')\n\nclass Processor {\n  constructor(plugins = []) {\n    this.version = '8.4.16'\n    this.plugins = this.normalize(plugins)\n  }\n\n  use(plugin) {\n    this.plugins = this.plugins.concat(this.normalize([plugin]))\n    return this\n  }\n\n  process(css, opts = {}) {\n    if (\n      this.plugins.length === 0 &&\n      typeof opts.parser === 'undefined' &&\n      typeof opts.stringifier === 'undefined' &&\n      typeof opts.syntax === 'undefined'\n    ) {\n      return new NoWorkResult(this, css, opts)\n    } else {\n      return new LazyResult(this, css, opts)\n    }\n  }\n\n  normalize(plugins) {\n    let normalized = []\n    for (let i of plugins) {\n      if (i.postcss === true) {\n        i = i()\n      } else if (i.postcss) {\n        i = i.postcss\n      }\n\n      if (typeof i === 'object' && Array.isArray(i.plugins)) {\n        normalized = normalized.concat(i.plugins)\n      } else if (typeof i === 'object' && i.postcssPlugin) {\n        normalized.push(i)\n      } else if (typeof i === 'function') {\n        normalized.push(i)\n      } else if (typeof i === 'object' && (i.parse || i.stringify)) {\n        if (process.env.NODE_ENV !== 'production') {\n          throw new Error(\n            'PostCSS syntaxes cannot be used as plugins. Instead, please use ' +\n              'one of the syntax/parser/stringifier options as outlined ' +\n              'in your PostCSS runner documentation.'\n          )\n        }\n      } else {\n        throw new Error(i + ' is not a PostCSS plugin')\n      }\n    }\n    return normalized\n  }\n}\n\nmodule.exports = Processor\nProcessor.default = Processor\n\nRoot.registerProcessor(Processor)\nDocument.registerProcessor(Processor)\n","'use strict'\n\nlet Warning = require('./warning')\n\nclass Result {\n  constructor(processor, root, opts) {\n    this.processor = processor\n    this.messages = []\n    this.root = root\n    this.opts = opts\n    this.css = undefined\n    this.map = undefined\n  }\n\n  toString() {\n    return this.css\n  }\n\n  warn(text, opts = {}) {\n    if (!opts.plugin) {\n      if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n        opts.plugin = this.lastPlugin.postcssPlugin\n      }\n    }\n\n    let warning = new Warning(text, opts)\n    this.messages.push(warning)\n\n    return warning\n  }\n\n  warnings() {\n    return this.messages.filter(i => i.type === 'warning')\n  }\n\n  get content() {\n    return this.css\n  }\n}\n\nmodule.exports = Result\nResult.default = Result\n","'use strict'\n\nlet Container = require('./container')\n\nlet LazyResult, Processor\n\nclass Root extends Container {\n  constructor(defaults) {\n    super(defaults)\n    this.type = 'root'\n    if (!this.nodes) this.nodes = []\n  }\n\n  removeChild(child, ignore) {\n    let index = this.index(child)\n\n    if (!ignore && index === 0 && this.nodes.length > 1) {\n      this.nodes[1].raws.before = this.nodes[index].raws.before\n    }\n\n    return super.removeChild(child)\n  }\n\n  normalize(child, sample, type) {\n    let nodes = super.normalize(child)\n\n    if (sample) {\n      if (type === 'prepend') {\n        if (this.nodes.length > 1) {\n          sample.raws.before = this.nodes[1].raws.before\n        } else {\n          delete sample.raws.before\n        }\n      } else if (this.first !== sample) {\n        for (let node of nodes) {\n          node.raws.before = sample.raws.before\n        }\n      }\n    }\n\n    return nodes\n  }\n\n  toResult(opts = {}) {\n    let lazy = new LazyResult(new Processor(), this, opts)\n    return lazy.stringify()\n  }\n}\n\nRoot.registerLazyResult = dependant => {\n  LazyResult = dependant\n}\n\nRoot.registerProcessor = dependant => {\n  Processor = dependant\n}\n\nmodule.exports = Root\nRoot.default = Root\n\nContainer.registerRoot(Root)\n","'use strict'\n\nlet Container = require('./container')\nlet list = require('./list')\n\nclass Rule extends Container {\n  constructor(defaults) {\n    super(defaults)\n    this.type = 'rule'\n    if (!this.nodes) this.nodes = []\n  }\n\n  get selectors() {\n    return list.comma(this.selector)\n  }\n\n  set selectors(values) {\n    let match = this.selector ? this.selector.match(/,\\s*/) : null\n    let sep = match ? match[0] : ',' + this.raw('between', 'beforeOpen')\n    this.selector = values.join(sep)\n  }\n}\n\nmodule.exports = Rule\nRule.default = Rule\n\nContainer.registerRule(Rule)\n","'use strict'\n\nconst DEFAULT_RAW = {\n  colon: ': ',\n  indent: '    ',\n  beforeDecl: '\\n',\n  beforeRule: '\\n',\n  beforeOpen: ' ',\n  beforeClose: '\\n',\n  beforeComment: '\\n',\n  after: '\\n',\n  emptyBody: '',\n  commentLeft: ' ',\n  commentRight: ' ',\n  semicolon: false\n}\n\nfunction capitalize(str) {\n  return str[0].toUpperCase() + str.slice(1)\n}\n\nclass Stringifier {\n  constructor(builder) {\n    this.builder = builder\n  }\n\n  stringify(node, semicolon) {\n    /* c8 ignore start */\n    if (!this[node.type]) {\n      throw new Error(\n        'Unknown AST node type ' +\n          node.type +\n          '. ' +\n          'Maybe you need to change PostCSS stringifier.'\n      )\n    }\n    /* c8 ignore stop */\n    this[node.type](node, semicolon)\n  }\n\n  document(node) {\n    this.body(node)\n  }\n\n  root(node) {\n    this.body(node)\n    if (node.raws.after) this.builder(node.raws.after)\n  }\n\n  comment(node) {\n    let left = this.raw(node, 'left', 'commentLeft')\n    let right = this.raw(node, 'right', 'commentRight')\n    this.builder('/*' + left + node.text + right + '*/', node)\n  }\n\n  decl(node, semicolon) {\n    let between = this.raw(node, 'between', 'colon')\n    let string = node.prop + between + this.rawValue(node, 'value')\n\n    if (node.important) {\n      string += node.raws.important || ' !important'\n    }\n\n    if (semicolon) string += ';'\n    this.builder(string, node)\n  }\n\n  rule(node) {\n    this.block(node, this.rawValue(node, 'selector'))\n    if (node.raws.ownSemicolon) {\n      this.builder(node.raws.ownSemicolon, node, 'end')\n    }\n  }\n\n  atrule(node, semicolon) {\n    let name = '@' + node.name\n    let params = node.params ? this.rawValue(node, 'params') : ''\n\n    if (typeof node.raws.afterName !== 'undefined') {\n      name += node.raws.afterName\n    } else if (params) {\n      name += ' '\n    }\n\n    if (node.nodes) {\n      this.block(node, name + params)\n    } else {\n      let end = (node.raws.between || '') + (semicolon ? ';' : '')\n      this.builder(name + params + end, node)\n    }\n  }\n\n  body(node) {\n    let last = node.nodes.length - 1\n    while (last > 0) {\n      if (node.nodes[last].type !== 'comment') break\n      last -= 1\n    }\n\n    let semicolon = this.raw(node, 'semicolon')\n    for (let i = 0; i < node.nodes.length; i++) {\n      let child = node.nodes[i]\n      let before = this.raw(child, 'before')\n      if (before) this.builder(before)\n      this.stringify(child, last !== i || semicolon)\n    }\n  }\n\n  block(node, start) {\n    let between = this.raw(node, 'between', 'beforeOpen')\n    this.builder(start + between + '{', node, 'start')\n\n    let after\n    if (node.nodes && node.nodes.length) {\n      this.body(node)\n      after = this.raw(node, 'after')\n    } else {\n      after = this.raw(node, 'after', 'emptyBody')\n    }\n\n    if (after) this.builder(after)\n    this.builder('}', node, 'end')\n  }\n\n  raw(node, own, detect) {\n    let value\n    if (!detect) detect = own\n\n    // Already had\n    if (own) {\n      value = node.raws[own]\n      if (typeof value !== 'undefined') return value\n    }\n\n    let parent = node.parent\n\n    if (detect === 'before') {\n      // Hack for first rule in CSS\n      if (!parent || (parent.type === 'root' && parent.first === node)) {\n        return ''\n      }\n\n      // `root` nodes in `document` should use only their own raws\n      if (parent && parent.type === 'document') {\n        return ''\n      }\n    }\n\n    // Floating child without parent\n    if (!parent) return DEFAULT_RAW[detect]\n\n    // Detect style by other nodes\n    let root = node.root()\n    if (!root.rawCache) root.rawCache = {}\n    if (typeof root.rawCache[detect] !== 'undefined') {\n      return root.rawCache[detect]\n    }\n\n    if (detect === 'before' || detect === 'after') {\n      return this.beforeAfter(node, detect)\n    } else {\n      let method = 'raw' + capitalize(detect)\n      if (this[method]) {\n        value = this[method](root, node)\n      } else {\n        root.walk(i => {\n          value = i.raws[own]\n          if (typeof value !== 'undefined') return false\n        })\n      }\n    }\n\n    if (typeof value === 'undefined') value = DEFAULT_RAW[detect]\n\n    root.rawCache[detect] = value\n    return value\n  }\n\n  rawSemicolon(root) {\n    let value\n    root.walk(i => {\n      if (i.nodes && i.nodes.length && i.last.type === 'decl') {\n        value = i.raws.semicolon\n        if (typeof value !== 'undefined') return false\n      }\n    })\n    return value\n  }\n\n  rawEmptyBody(root) {\n    let value\n    root.walk(i => {\n      if (i.nodes && i.nodes.length === 0) {\n        value = i.raws.after\n        if (typeof value !== 'undefined') return false\n      }\n    })\n    return value\n  }\n\n  rawIndent(root) {\n    if (root.raws.indent) return root.raws.indent\n    let value\n    root.walk(i => {\n      let p = i.parent\n      if (p && p !== root && p.parent && p.parent === root) {\n        if (typeof i.raws.before !== 'undefined') {\n          let parts = i.raws.before.split('\\n')\n          value = parts[parts.length - 1]\n          value = value.replace(/\\S/g, '')\n          return false\n        }\n      }\n    })\n    return value\n  }\n\n  rawBeforeComment(root, node) {\n    let value\n    root.walkComments(i => {\n      if (typeof i.raws.before !== 'undefined') {\n        value = i.raws.before\n        if (value.includes('\\n')) {\n          value = value.replace(/[^\\n]+$/, '')\n        }\n        return false\n      }\n    })\n    if (typeof value === 'undefined') {\n      value = this.raw(node, null, 'beforeDecl')\n    } else if (value) {\n      value = value.replace(/\\S/g, '')\n    }\n    return value\n  }\n\n  rawBeforeDecl(root, node) {\n    let value\n    root.walkDecls(i => {\n      if (typeof i.raws.before !== 'undefined') {\n        value = i.raws.before\n        if (value.includes('\\n')) {\n          value = value.replace(/[^\\n]+$/, '')\n        }\n        return false\n      }\n    })\n    if (typeof value === 'undefined') {\n      value = this.raw(node, null, 'beforeRule')\n    } else if (value) {\n      value = value.replace(/\\S/g, '')\n    }\n    return value\n  }\n\n  rawBeforeRule(root) {\n    let value\n    root.walk(i => {\n      if (i.nodes && (i.parent !== root || root.first !== i)) {\n        if (typeof i.raws.before !== 'undefined') {\n          value = i.raws.before\n          if (value.includes('\\n')) {\n            value = value.replace(/[^\\n]+$/, '')\n          }\n          return false\n        }\n      }\n    })\n    if (value) value = value.replace(/\\S/g, '')\n    return value\n  }\n\n  rawBeforeClose(root) {\n    let value\n    root.walk(i => {\n      if (i.nodes && i.nodes.length > 0) {\n        if (typeof i.raws.after !== 'undefined') {\n          value = i.raws.after\n          if (value.includes('\\n')) {\n            value = value.replace(/[^\\n]+$/, '')\n          }\n          return false\n        }\n      }\n    })\n    if (value) value = value.replace(/\\S/g, '')\n    return value\n  }\n\n  rawBeforeOpen(root) {\n    let value\n    root.walk(i => {\n      if (i.type !== 'decl') {\n        value = i.raws.between\n        if (typeof value !== 'undefined') return false\n      }\n    })\n    return value\n  }\n\n  rawColon(root) {\n    let value\n    root.walkDecls(i => {\n      if (typeof i.raws.between !== 'undefined') {\n        value = i.raws.between.replace(/[^\\s:]/g, '')\n        return false\n      }\n    })\n    return value\n  }\n\n  beforeAfter(node, detect) {\n    let value\n    if (node.type === 'decl') {\n      value = this.raw(node, null, 'beforeDecl')\n    } else if (node.type === 'comment') {\n      value = this.raw(node, null, 'beforeComment')\n    } else if (detect === 'before') {\n      value = this.raw(node, null, 'beforeRule')\n    } else {\n      value = this.raw(node, null, 'beforeClose')\n    }\n\n    let buf = node.parent\n    let depth = 0\n    while (buf && buf.type !== 'root') {\n      depth += 1\n      buf = buf.parent\n    }\n\n    if (value.includes('\\n')) {\n      let indent = this.raw(node, null, 'indent')\n      if (indent.length) {\n        for (let step = 0; step < depth; step++) value += indent\n      }\n    }\n\n    return value\n  }\n\n  rawValue(node, prop) {\n    let value = node[prop]\n    let raw = node.raws[prop]\n    if (raw && raw.value === value) {\n      return raw.raw\n    }\n\n    return value\n  }\n}\n\nmodule.exports = Stringifier\nStringifier.default = Stringifier\n","'use strict'\n\nlet Stringifier = require('./stringifier')\n\nfunction stringify(node, builder) {\n  let str = new Stringifier(builder)\n  str.stringify(node)\n}\n\nmodule.exports = stringify\nstringify.default = stringify\n","'use strict'\n\nmodule.exports.isClean = Symbol('isClean')\n\nmodule.exports.my = Symbol('my')\n","'use strict'\n\nlet pico = require('picocolors')\n\nlet tokenizer = require('./tokenize')\n\nlet Input\n\nfunction registerInput(dependant) {\n  Input = dependant\n}\n\nconst HIGHLIGHT_THEME = {\n  'brackets': pico.cyan,\n  'at-word': pico.cyan,\n  'comment': pico.gray,\n  'string': pico.green,\n  'class': pico.yellow,\n  'hash': pico.magenta,\n  'call': pico.cyan,\n  '(': pico.cyan,\n  ')': pico.cyan,\n  '{': pico.yellow,\n  '}': pico.yellow,\n  '[': pico.yellow,\n  ']': pico.yellow,\n  ':': pico.yellow,\n  ';': pico.yellow\n}\n\nfunction getTokenType([type, value], processor) {\n  if (type === 'word') {\n    if (value[0] === '.') {\n      return 'class'\n    }\n    if (value[0] === '#') {\n      return 'hash'\n    }\n  }\n\n  if (!processor.endOfFile()) {\n    let next = processor.nextToken()\n    processor.back(next)\n    if (next[0] === 'brackets' || next[0] === '(') return 'call'\n  }\n\n  return type\n}\n\nfunction terminalHighlight(css) {\n  let processor = tokenizer(new Input(css), { ignoreErrors: true })\n  let result = ''\n  while (!processor.endOfFile()) {\n    let token = processor.nextToken()\n    let color = HIGHLIGHT_THEME[getTokenType(token, processor)]\n    if (color) {\n      result += token[1]\n        .split(/\\r?\\n/)\n        .map(i => color(i))\n        .join('\\n')\n    } else {\n      result += token[1]\n    }\n  }\n  return result\n}\n\nterminalHighlight.registerInput = registerInput\n\nmodule.exports = terminalHighlight\n","'use strict'\n\nconst SINGLE_QUOTE = \"'\".charCodeAt(0)\nconst DOUBLE_QUOTE = '\"'.charCodeAt(0)\nconst BACKSLASH = '\\\\'.charCodeAt(0)\nconst SLASH = '/'.charCodeAt(0)\nconst NEWLINE = '\\n'.charCodeAt(0)\nconst SPACE = ' '.charCodeAt(0)\nconst FEED = '\\f'.charCodeAt(0)\nconst TAB = '\\t'.charCodeAt(0)\nconst CR = '\\r'.charCodeAt(0)\nconst OPEN_SQUARE = '['.charCodeAt(0)\nconst CLOSE_SQUARE = ']'.charCodeAt(0)\nconst OPEN_PARENTHESES = '('.charCodeAt(0)\nconst CLOSE_PARENTHESES = ')'.charCodeAt(0)\nconst OPEN_CURLY = '{'.charCodeAt(0)\nconst CLOSE_CURLY = '}'.charCodeAt(0)\nconst SEMICOLON = ';'.charCodeAt(0)\nconst ASTERISK = '*'.charCodeAt(0)\nconst COLON = ':'.charCodeAt(0)\nconst AT = '@'.charCodeAt(0)\n\nconst RE_AT_END = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g\nconst RE_WORD_END = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g\nconst RE_BAD_BRACKET = /.[\\n\"'(/\\\\]/\nconst RE_HEX_ESCAPE = /[\\da-f]/i\n\nmodule.exports = function tokenizer(input, options = {}) {\n  let css = input.css.valueOf()\n  let ignore = options.ignoreErrors\n\n  let code, next, quote, content, escape\n  let escaped, escapePos, prev, n, currentToken\n\n  let length = css.length\n  let pos = 0\n  let buffer = []\n  let returned = []\n\n  function position() {\n    return pos\n  }\n\n  function unclosed(what) {\n    throw input.error('Unclosed ' + what, pos)\n  }\n\n  function endOfFile() {\n    return returned.length === 0 && pos >= length\n  }\n\n  function nextToken(opts) {\n    if (returned.length) return returned.pop()\n    if (pos >= length) return\n\n    let ignoreUnclosed = opts ? opts.ignoreUnclosed : false\n\n    code = css.charCodeAt(pos)\n\n    switch (code) {\n      case NEWLINE:\n      case SPACE:\n      case TAB:\n      case CR:\n      case FEED: {\n        next = pos\n        do {\n          next += 1\n          code = css.charCodeAt(next)\n        } while (\n          code === SPACE ||\n          code === NEWLINE ||\n          code === TAB ||\n          code === CR ||\n          code === FEED\n        )\n\n        currentToken = ['space', css.slice(pos, next)]\n        pos = next - 1\n        break\n      }\n\n      case OPEN_SQUARE:\n      case CLOSE_SQUARE:\n      case OPEN_CURLY:\n      case CLOSE_CURLY:\n      case COLON:\n      case SEMICOLON:\n      case CLOSE_PARENTHESES: {\n        let controlChar = String.fromCharCode(code)\n        currentToken = [controlChar, controlChar, pos]\n        break\n      }\n\n      case OPEN_PARENTHESES: {\n        prev = buffer.length ? buffer.pop()[1] : ''\n        n = css.charCodeAt(pos + 1)\n        if (\n          prev === 'url' &&\n          n !== SINGLE_QUOTE &&\n          n !== DOUBLE_QUOTE &&\n          n !== SPACE &&\n          n !== NEWLINE &&\n          n !== TAB &&\n          n !== FEED &&\n          n !== CR\n        ) {\n          next = pos\n          do {\n            escaped = false\n            next = css.indexOf(')', next + 1)\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos\n                break\n              } else {\n                unclosed('bracket')\n              }\n            }\n            escapePos = next\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n              escapePos -= 1\n              escaped = !escaped\n            }\n          } while (escaped)\n\n          currentToken = ['brackets', css.slice(pos, next + 1), pos, next]\n\n          pos = next\n        } else {\n          next = css.indexOf(')', pos + 1)\n          content = css.slice(pos, next + 1)\n\n          if (next === -1 || RE_BAD_BRACKET.test(content)) {\n            currentToken = ['(', '(', pos]\n          } else {\n            currentToken = ['brackets', content, pos, next]\n            pos = next\n          }\n        }\n\n        break\n      }\n\n      case SINGLE_QUOTE:\n      case DOUBLE_QUOTE: {\n        quote = code === SINGLE_QUOTE ? \"'\" : '\"'\n        next = pos\n        do {\n          escaped = false\n          next = css.indexOf(quote, next + 1)\n          if (next === -1) {\n            if (ignore || ignoreUnclosed) {\n              next = pos + 1\n              break\n            } else {\n              unclosed('string')\n            }\n          }\n          escapePos = next\n          while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n            escapePos -= 1\n            escaped = !escaped\n          }\n        } while (escaped)\n\n        currentToken = ['string', css.slice(pos, next + 1), pos, next]\n        pos = next\n        break\n      }\n\n      case AT: {\n        RE_AT_END.lastIndex = pos + 1\n        RE_AT_END.test(css)\n        if (RE_AT_END.lastIndex === 0) {\n          next = css.length - 1\n        } else {\n          next = RE_AT_END.lastIndex - 2\n        }\n\n        currentToken = ['at-word', css.slice(pos, next + 1), pos, next]\n\n        pos = next\n        break\n      }\n\n      case BACKSLASH: {\n        next = pos\n        escape = true\n        while (css.charCodeAt(next + 1) === BACKSLASH) {\n          next += 1\n          escape = !escape\n        }\n        code = css.charCodeAt(next + 1)\n        if (\n          escape &&\n          code !== SLASH &&\n          code !== SPACE &&\n          code !== NEWLINE &&\n          code !== TAB &&\n          code !== CR &&\n          code !== FEED\n        ) {\n          next += 1\n          if (RE_HEX_ESCAPE.test(css.charAt(next))) {\n            while (RE_HEX_ESCAPE.test(css.charAt(next + 1))) {\n              next += 1\n            }\n            if (css.charCodeAt(next + 1) === SPACE) {\n              next += 1\n            }\n          }\n        }\n\n        currentToken = ['word', css.slice(pos, next + 1), pos, next]\n\n        pos = next\n        break\n      }\n\n      default: {\n        if (code === SLASH && css.charCodeAt(pos + 1) === ASTERISK) {\n          next = css.indexOf('*/', pos + 2) + 1\n          if (next === 0) {\n            if (ignore || ignoreUnclosed) {\n              next = css.length\n            } else {\n              unclosed('comment')\n            }\n          }\n\n          currentToken = ['comment', css.slice(pos, next + 1), pos, next]\n          pos = next\n        } else {\n          RE_WORD_END.lastIndex = pos + 1\n          RE_WORD_END.test(css)\n          if (RE_WORD_END.lastIndex === 0) {\n            next = css.length - 1\n          } else {\n            next = RE_WORD_END.lastIndex - 2\n          }\n\n          currentToken = ['word', css.slice(pos, next + 1), pos, next]\n          buffer.push(currentToken)\n          pos = next\n        }\n\n        break\n      }\n    }\n\n    pos++\n    return currentToken\n  }\n\n  function back(token) {\n    returned.push(token)\n  }\n\n  return {\n    back,\n    nextToken,\n    endOfFile,\n    position\n  }\n}\n","/* eslint-disable no-console */\n'use strict'\n\nlet printed = {}\n\nmodule.exports = function warnOnce(message) {\n  if (printed[message]) return\n  printed[message] = true\n\n  if (typeof console !== 'undefined' && console.warn) {\n    console.warn(message)\n  }\n}\n","'use strict'\n\nclass Warning {\n  constructor(text, opts = {}) {\n    this.type = 'warning'\n    this.text = text\n\n    if (opts.node && opts.node.source) {\n      let range = opts.node.rangeBy(opts)\n      this.line = range.start.line\n      this.column = range.start.column\n      this.endLine = range.end.line\n      this.endColumn = range.end.column\n    }\n\n    for (let opt in opts) this[opt] = opts[opt]\n  }\n\n  toString() {\n    if (this.node) {\n      return this.node.error(this.text, {\n        plugin: this.plugin,\n        index: this.index,\n        word: this.word\n      }).message\n    }\n\n    if (this.plugin) {\n      return this.plugin + ': ' + this.text\n    }\n\n    return this.text\n  }\n}\n\nmodule.exports = Warning\nWarning.default = Warning\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  }\n  else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  }\n  else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\nfunction SortTemplate(comparator) {\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\nfunction randomIntInRange(low, high) {\n  return Math.round(low + (Math.random() * (high - low)));\n}\n\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r];\n\n    // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot, false) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1;\n\n    // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n\n  return doQuickSort;\n}\n\nfunction cloneSort(comparator) {\n  let template = SortTemplate.toString();\n  let templateFn = new Function(`return ${template}`)();\n  return templateFn(comparator);\n}\n\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\n\nlet sortCache = new WeakMap();\nexports.quickSort = function (ary, comparator, start = 0) {\n  let doQuickSort = sortCache.get(comparator);\n  if (doQuickSort === void 0) {\n    doQuickSort = cloneSort(comparator);\n    sortCache.set(comparator, doQuickSort);\n  }\n  doQuickSort(ary, comparator, start, ary.length - 1);\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar binarySearch = require('./binary-search');\nvar ArraySet = require('./array-set').ArraySet;\nvar base64VLQ = require('./base64-vlq');\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  return sourceMap.sections != null\n    ? new IndexedSourceMapConsumer(sourceMap, aSourceMapURL)\n    : new BasicSourceMapConsumer(sourceMap, aSourceMapURL);\n}\n\nSourceMapConsumer.fromSourceMap = function(aSourceMap, aSourceMapURL) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap, aSourceMapURL);\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\n\n// `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\n\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator =\n  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n    var c = aStr.charAt(index);\n    return c === \";\" || c === \",\";\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  };\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\nSourceMapConsumer.prototype.eachMapping =\n  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n    var context = aContext || null;\n    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    var mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    var sourceRoot = this.sourceRoot;\n    var boundCallback = aCallback.bind(context);\n    var names = this._names;\n    var sources = this._sources;\n    var sourceMapURL = this._sourceMapURL;\n\n    for (var i = 0, n = mappings.length; i < n; i++) {\n      var mapping = mappings[i];\n      var source = mapping.source === null ? null : sources.at(mapping.source);\n      source = util.computeSourceURL(sourceRoot, source, sourceMapURL);\n      boundCallback({\n        source: source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : names.at(mapping.name)\n      });\n    }\n  };\n\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number is 1-based.\n *   - column: Optional. the column number in the original source.\n *    The column number is 0-based.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *    line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *    The column number is 0-based.\n */\nSourceMapConsumer.prototype.allGeneratedPositionsFor =\n  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n    var line = util.getArg(aArgs, 'line');\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    var needle = {\n      source: util.getArg(aArgs, 'source'),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, 'column', 0)\n    };\n\n    needle.source = this._findSourceIndex(needle.source);\n    if (needle.source < 0) {\n      return [];\n    }\n\n    var mappings = [];\n\n    var index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        var originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        var originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  };\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The first parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nfunction BasicSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources');\n  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null);\n\n  // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  if (sourceRoot) {\n    sourceRoot = util.normalize(sourceRoot);\n  }\n\n  sources = sources\n    .map(String)\n    // Some source maps produce relative source paths like \"./foo.js\" instead of\n    // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n    // See bugzil.la/1090768.\n    .map(util.normalize)\n    // Always ensure that absolute sources are internally stored relative to\n    // the source root, if the source root is absolute. Not doing this would\n    // be particularly problematic when the source root is a prefix of the\n    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n    .map(function (source) {\n      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n        ? util.relative(sourceRoot, source)\n        : source;\n    });\n\n  // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n\n  this._absoluteSources = this._sources.toArray().map(function (s) {\n    return util.computeSourceURL(sourceRoot, s, aSourceMapURL);\n  });\n\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this._sourceMapURL = aSourceMapURL;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n\n/**\n * Utility function to find the index of a source.  Returns -1 if not\n * found.\n */\nBasicSourceMapConsumer.prototype._findSourceIndex = function(aSource) {\n  var relativeSource = aSource;\n  if (this.sourceRoot != null) {\n    relativeSource = util.relative(this.sourceRoot, relativeSource);\n  }\n\n  if (this._sources.has(relativeSource)) {\n    return this._sources.indexOf(relativeSource);\n  }\n\n  // Maybe aSource is an absolute URL as returned by |sources|.  In\n  // this case we can't simply undo the transform.\n  var i;\n  for (i = 0; i < this._absoluteSources.length; ++i) {\n    if (this._absoluteSources[i] == aSource) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @param String aSourceMapURL\n *        The URL at which the source map can be found (optional)\n * @returns BasicSourceMapConsumer\n */\nBasicSourceMapConsumer.fromSourceMap =\n  function SourceMapConsumer_fromSourceMap(aSourceMap, aSourceMapURL) {\n    var smc = Object.create(BasicSourceMapConsumer.prototype);\n\n    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n    smc.sourceRoot = aSourceMap._sourceRoot;\n    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\n                                                            smc.sourceRoot);\n    smc.file = aSourceMap._file;\n    smc._sourceMapURL = aSourceMapURL;\n    smc._absoluteSources = smc._sources.toArray().map(function (s) {\n      return util.computeSourceURL(smc.sourceRoot, s, aSourceMapURL);\n    });\n\n    // Because we are modifying the entries (by converting string sources and\n    // names to indices into the sources and names ArraySets), we have to make\n    // a copy of the entry or else bad things happen. Shared mutable state\n    // strikes again! See github issue #191.\n\n    var generatedMappings = aSourceMap._mappings.toArray().slice();\n    var destGeneratedMappings = smc.__generatedMappings = [];\n    var destOriginalMappings = smc.__originalMappings = [];\n\n    for (var i = 0, length = generatedMappings.length; i < length; i++) {\n      var srcMapping = generatedMappings[i];\n      var destMapping = new Mapping;\n      destMapping.generatedLine = srcMapping.generatedLine;\n      destMapping.generatedColumn = srcMapping.generatedColumn;\n\n      if (srcMapping.source) {\n        destMapping.source = sources.indexOf(srcMapping.source);\n        destMapping.originalLine = srcMapping.originalLine;\n        destMapping.originalColumn = srcMapping.originalColumn;\n\n        if (srcMapping.name) {\n          destMapping.name = names.indexOf(srcMapping.name);\n        }\n\n        destOriginalMappings.push(destMapping);\n      }\n\n      destGeneratedMappings.push(destMapping);\n    }\n\n    quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n\n    return smc;\n  };\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nBasicSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._absoluteSources.slice();\n  }\n});\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\n\nconst compareGenerated = util.compareByGeneratedPositionsDeflatedNoLine;\nfunction sortGenerated(array, start) {\n  let l = array.length;\n  let n = array.length - start;\n  if (n <= 1) {\n    return;\n  } else if (n == 2) {\n    let a = array[start];\n    let b = array[start + 1];\n    if (compareGenerated(a, b) > 0) {\n      array[start] = b;\n      array[start + 1] = a;\n    }\n  } else if (n < 20) {\n    for (let i = start; i < l; i++) {\n      for (let j = i; j > start; j--) {\n        let a = array[j - 1];\n        let b = array[j];\n        if (compareGenerated(a, b) <= 0) {\n          break;\n        }\n        array[j - 1] = b;\n        array[j] = a;\n      }\n    }\n  } else {\n    quickSort(array, compareGenerated, start);\n  }\n}\nBasicSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    var generatedLine = 1;\n    var previousGeneratedColumn = 0;\n    var previousOriginalLine = 0;\n    var previousOriginalColumn = 0;\n    var previousSource = 0;\n    var previousName = 0;\n    var length = aStr.length;\n    var index = 0;\n    var cachedSegments = {};\n    var temp = {};\n    var originalMappings = [];\n    var generatedMappings = [];\n    var mapping, str, segment, end, value;\n\n    let subarrayStart = 0;\n    while (index < length) {\n      if (aStr.charAt(index) === ';') {\n        generatedLine++;\n        index++;\n        previousGeneratedColumn = 0;\n\n        sortGenerated(generatedMappings, subarrayStart);\n        subarrayStart = generatedMappings.length;\n      }\n      else if (aStr.charAt(index) === ',') {\n        index++;\n      }\n      else {\n        mapping = new Mapping();\n        mapping.generatedLine = generatedLine;\n\n        for (end = index; end < length; end++) {\n          if (this._charIsMappingSeparator(aStr, end)) {\n            break;\n          }\n        }\n        str = aStr.slice(index, end);\n\n        segment = [];\n        while (index < end) {\n          base64VLQ.decode(aStr, index, temp);\n          value = temp.value;\n          index = temp.rest;\n          segment.push(value);\n        }\n\n        if (segment.length === 2) {\n          throw new Error('Found a source, but no line and column');\n        }\n\n        if (segment.length === 3) {\n          throw new Error('Found a source and line, but no column');\n        }\n\n        // Generated column.\n        mapping.generatedColumn = previousGeneratedColumn + segment[0];\n        previousGeneratedColumn = mapping.generatedColumn;\n\n        if (segment.length > 1) {\n          // Original source.\n          mapping.source = previousSource + segment[1];\n          previousSource += segment[1];\n\n          // Original line.\n          mapping.originalLine = previousOriginalLine + segment[2];\n          previousOriginalLine = mapping.originalLine;\n          // Lines are stored 0-based\n          mapping.originalLine += 1;\n\n          // Original column.\n          mapping.originalColumn = previousOriginalColumn + segment[3];\n          previousOriginalColumn = mapping.originalColumn;\n\n          if (segment.length > 4) {\n            // Original name.\n            mapping.name = previousName + segment[4];\n            previousName += segment[4];\n          }\n        }\n\n        generatedMappings.push(mapping);\n        if (typeof mapping.originalLine === 'number') {\n          let currentSource = mapping.source;\n          while (originalMappings.length <= currentSource) {\n            originalMappings.push(null);\n          }\n          if (originalMappings[currentSource] === null) {\n            originalMappings[currentSource] = [];\n          }\n          originalMappings[currentSource].push(mapping);\n        }\n      }\n    }\n\n    sortGenerated(generatedMappings, subarrayStart);\n    this.__generatedMappings = generatedMappings;\n\n    for (var i = 0; i < originalMappings.length; i++) {\n      if (originalMappings[i] != null) {\n        quickSort(originalMappings[i], util.compareByOriginalPositionsNoSource);\n      }\n    }\n    this.__originalMappings = [].concat(...originalMappings);\n  };\n\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\nBasicSourceMapConsumer.prototype._findMapping =\n  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\n                                         aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError('Line must be greater than or equal to 1, got '\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError('Column must be greater than or equal to 0, got '\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  };\n\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\nBasicSourceMapConsumer.prototype.computeColumnSpans =\n  function SourceMapConsumer_computeColumnSpans() {\n    for (var index = 0; index < this._generatedMappings.length; ++index) {\n      var mapping = this._generatedMappings[index];\n\n      // Mappings do not contain a field for the last generated columnt. We\n      // can come up with an optimistic estimate, however, by assuming that\n      // mappings are contiguous (i.e. given two consecutive mappings, the\n      // first mapping ends where the second one starts).\n      if (index + 1 < this._generatedMappings.length) {\n        var nextMapping = this._generatedMappings[index + 1];\n\n        if (mapping.generatedLine === nextMapping.generatedLine) {\n          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n          continue;\n        }\n      }\n\n      // The last mapping for each line spans the entire line.\n      mapping.lastGeneratedColumn = Infinity;\n    }\n  };\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nBasicSourceMapConsumer.prototype.originalPositionFor =\n  function SourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._generatedMappings,\n      \"generatedLine\",\n      \"generatedColumn\",\n      util.compareByGeneratedPositionsDeflated,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._generatedMappings[index];\n\n      if (mapping.generatedLine === needle.generatedLine) {\n        var source = util.getArg(mapping, 'source', null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          source = util.computeSourceURL(this.sourceRoot, source, this._sourceMapURL);\n        }\n        var name = util.getArg(mapping, 'name', null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n        return {\n          source: source,\n          line: util.getArg(mapping, 'originalLine', null),\n          column: util.getArg(mapping, 'originalColumn', null),\n          name: name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function BasicSourceMapConsumer_hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function (sc) { return sc == null; });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nBasicSourceMapConsumer.prototype.sourceContentFor =\n  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    var index = this._findSourceIndex(aSource);\n    if (index >= 0) {\n      return this.sourcesContent[index];\n    }\n\n    var relativeSource = aSource;\n    if (this.sourceRoot != null) {\n      relativeSource = util.relative(this.sourceRoot, relativeSource);\n    }\n\n    var url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      var fileUriAbsPath = relativeSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + relativeSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + relativeSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + relativeSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nBasicSourceMapConsumer.prototype.generatedPositionFor =\n  function SourceMapConsumer_generatedPositionFor(aArgs) {\n    var source = util.getArg(aArgs, 'source');\n    source = this._findSourceIndex(source);\n    if (source < 0) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n\n    var needle = {\n      source: source,\n      originalLine: util.getArg(aArgs, 'line'),\n      originalColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._originalMappings,\n      \"originalLine\",\n      \"originalColumn\",\n      util.compareByOriginalPositions,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (mapping.source === needle.source) {\n        return {\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  };\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The first parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nfunction IndexedSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line ||\n        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n    lastOffset = offset;\n\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'), aSourceMapURL)\n    }\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nIndexedSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n});\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nIndexedSourceMapConsumer.prototype.originalPositionFor =\n  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    var sectionIndex = binarySearch.search(needle, this._sections,\n      function(needle, section) {\n        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (needle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    var section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n    return this._sections.every(function (s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nIndexedSourceMapConsumer.prototype.sourceContentFor =\n  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      var content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based. \n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nIndexedSourceMapConsumer.prototype.generatedPositionFor =\n  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer._findSourceIndex(util.getArg(aArgs, 'source')) === -1) {\n        continue;\n      }\n      var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        var ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nIndexedSourceMapConsumer.prototype._parseMappings =\n  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    this.__generatedMappings = [];\n    this.__originalMappings = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n      var sectionMappings = section.consumer._generatedMappings;\n      for (var j = 0; j < sectionMappings.length; j++) {\n        var mapping = sectionMappings[j];\n\n        var source = section.consumer._sources.at(mapping.source);\n        source = util.computeSourceURL(section.consumer.sourceRoot, source, this._sourceMapURL);\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        var name = null;\n        if (mapping.name) {\n          name = section.consumer._names.at(mapping.name);\n          this._names.add(name);\n          name = this._names.indexOf(name);\n        }\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        var adjustedMapping = {\n          source: source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name: name\n        };\n\n        this.__generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === 'number') {\n          this.__originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n\n    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n    quickSort(this.__originalMappings, util.compareByOriginalPositions);\n  };\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n        throw new Error(\n            'original.line and original.column are not numbers -- you probably meant to omit ' +\n            'the original mapping entirely and only map the generated position. If so, pass ' +\n            'null for the original mapping instead of an object with empty or null values.'\n        );\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      throw new Error('Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;\nvar util = require('./util');\n\n// Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\n// operating systems these days (capturing the result).\nvar REGEX_NEWLINE = /(\\r?\\n)/;\n\n// Newline character code for charCodeAt() comparisons\nvar NEWLINE_CODE = 10;\n\n// Private symbol for identifying `SourceNode`s when multiple versions of\n// the source-map library are loaded. This MUST NOT CHANGE across\n// versions!\nvar isSourceNode = \"$$$isSourceNode$$$\";\n\n/**\n * SourceNodes provide a way to abstract over interpolating/concatenating\n * snippets of generated JavaScript source code while maintaining the line and\n * column information associated with the original source code.\n *\n * @param aLine The original line number.\n * @param aColumn The original column number.\n * @param aSource The original source's filename.\n * @param aChunks Optional. An array of strings which are snippets of\n *        generated JS, or other SourceNodes.\n * @param aName The original identifier.\n */\nfunction SourceNode(aLine, aColumn, aSource, aChunks, aName) {\n  this.children = [];\n  this.sourceContents = {};\n  this.line = aLine == null ? null : aLine;\n  this.column = aColumn == null ? null : aColumn;\n  this.source = aSource == null ? null : aSource;\n  this.name = aName == null ? null : aName;\n  this[isSourceNode] = true;\n  if (aChunks != null) this.add(aChunks);\n}\n\n/**\n * Creates a SourceNode from generated code and a SourceMapConsumer.\n *\n * @param aGeneratedCode The generated code\n * @param aSourceMapConsumer The SourceMap for the generated code\n * @param aRelativePath Optional. The path that relative sources in the\n *        SourceMapConsumer should be relative to.\n */\nSourceNode.fromStringWithSourceMap =\n  function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\n    // The SourceNode we want to fill with the generated code\n    // and the SourceMap\n    var node = new SourceNode();\n\n    // All even indices of this array are one line of the generated code,\n    // while all odd indices are the newlines between two adjacent lines\n    // (since `REGEX_NEWLINE` captures its match).\n    // Processed fragments are accessed by calling `shiftNextLine`.\n    var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\n    var remainingLinesIndex = 0;\n    var shiftNextLine = function() {\n      var lineContents = getNextLine();\n      // The last line of a file might not have a newline.\n      var newLine = getNextLine() || \"\";\n      return lineContents + newLine;\n\n      function getNextLine() {\n        return remainingLinesIndex < remainingLines.length ?\n            remainingLines[remainingLinesIndex++] : undefined;\n      }\n    };\n\n    // We need to remember the position of \"remainingLines\"\n    var lastGeneratedLine = 1, lastGeneratedColumn = 0;\n\n    // The generate SourceNodes we need a code range.\n    // To extract it current and last mapping is used.\n    // Here we store the last mapping.\n    var lastMapping = null;\n\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      if (lastMapping !== null) {\n        // We add the code from \"lastMapping\" to \"mapping\":\n        // First check if there is a new line in between.\n        if (lastGeneratedLine < mapping.generatedLine) {\n          // Associate first line with \"lastMapping\"\n          addMappingWithCode(lastMapping, shiftNextLine());\n          lastGeneratedLine++;\n          lastGeneratedColumn = 0;\n          // The remaining code is added without mapping\n        } else {\n          // There is no new line in between.\n          // Associate the code between \"lastGeneratedColumn\" and\n          // \"mapping.generatedColumn\" with \"lastMapping\"\n          var nextLine = remainingLines[remainingLinesIndex] || '';\n          var code = nextLine.substr(0, mapping.generatedColumn -\n                                        lastGeneratedColumn);\n          remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn -\n                                              lastGeneratedColumn);\n          lastGeneratedColumn = mapping.generatedColumn;\n          addMappingWithCode(lastMapping, code);\n          // No more remaining code, continue\n          lastMapping = mapping;\n          return;\n        }\n      }\n      // We add the generated code until the first mapping\n      // to the SourceNode without any mapping.\n      // Each line is added as separate string.\n      while (lastGeneratedLine < mapping.generatedLine) {\n        node.add(shiftNextLine());\n        lastGeneratedLine++;\n      }\n      if (lastGeneratedColumn < mapping.generatedColumn) {\n        var nextLine = remainingLines[remainingLinesIndex] || '';\n        node.add(nextLine.substr(0, mapping.generatedColumn));\n        remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);\n        lastGeneratedColumn = mapping.generatedColumn;\n      }\n      lastMapping = mapping;\n    }, this);\n    // We have processed all mappings.\n    if (remainingLinesIndex < remainingLines.length) {\n      if (lastMapping) {\n        // Associate the remaining code in the current line with \"lastMapping\"\n        addMappingWithCode(lastMapping, shiftNextLine());\n      }\n      // and add the remaining lines without any mapping\n      node.add(remainingLines.splice(remainingLinesIndex).join(\"\"));\n    }\n\n    // Copy sourcesContent into SourceNode\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aRelativePath != null) {\n          sourceFile = util.join(aRelativePath, sourceFile);\n        }\n        node.setSourceContent(sourceFile, content);\n      }\n    });\n\n    return node;\n\n    function addMappingWithCode(mapping, code) {\n      if (mapping === null || mapping.source === undefined) {\n        node.add(code);\n      } else {\n        var source = aRelativePath\n          ? util.join(aRelativePath, mapping.source)\n          : mapping.source;\n        node.add(new SourceNode(mapping.originalLine,\n                                mapping.originalColumn,\n                                source,\n                                code,\n                                mapping.name));\n      }\n    }\n  };\n\n/**\n * Add a chunk of generated JS to this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.add = function SourceNode_add(aChunk) {\n  if (Array.isArray(aChunk)) {\n    aChunk.forEach(function (chunk) {\n      this.add(chunk);\n    }, this);\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    if (aChunk) {\n      this.children.push(aChunk);\n    }\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Add a chunk of generated JS to the beginning of this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {\n  if (Array.isArray(aChunk)) {\n    for (var i = aChunk.length-1; i >= 0; i--) {\n      this.prepend(aChunk[i]);\n    }\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    this.children.unshift(aChunk);\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Walk over the tree of JS snippets in this node and its children. The\n * walking function is called once for each snippet of JS and is passed that\n * snippet and the its original associated source's line/column location.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walk = function SourceNode_walk(aFn) {\n  var chunk;\n  for (var i = 0, len = this.children.length; i < len; i++) {\n    chunk = this.children[i];\n    if (chunk[isSourceNode]) {\n      chunk.walk(aFn);\n    }\n    else {\n      if (chunk !== '') {\n        aFn(chunk, { source: this.source,\n                     line: this.line,\n                     column: this.column,\n                     name: this.name });\n      }\n    }\n  }\n};\n\n/**\n * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\n * each of `this.children`.\n *\n * @param aSep The separator.\n */\nSourceNode.prototype.join = function SourceNode_join(aSep) {\n  var newChildren;\n  var i;\n  var len = this.children.length;\n  if (len > 0) {\n    newChildren = [];\n    for (i = 0; i < len-1; i++) {\n      newChildren.push(this.children[i]);\n      newChildren.push(aSep);\n    }\n    newChildren.push(this.children[i]);\n    this.children = newChildren;\n  }\n  return this;\n};\n\n/**\n * Call String.prototype.replace on the very right-most source snippet. Useful\n * for trimming whitespace from the end of a source node, etc.\n *\n * @param aPattern The pattern to replace.\n * @param aReplacement The thing to replace the pattern with.\n */\nSourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {\n  var lastChild = this.children[this.children.length - 1];\n  if (lastChild[isSourceNode]) {\n    lastChild.replaceRight(aPattern, aReplacement);\n  }\n  else if (typeof lastChild === 'string') {\n    this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\n  }\n  else {\n    this.children.push(''.replace(aPattern, aReplacement));\n  }\n  return this;\n};\n\n/**\n * Set the source content for a source file. This will be added to the SourceMapGenerator\n * in the sourcesContent field.\n *\n * @param aSourceFile The filename of the source file\n * @param aSourceContent The content of the source file\n */\nSourceNode.prototype.setSourceContent =\n  function SourceNode_setSourceContent(aSourceFile, aSourceContent) {\n    this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\n  };\n\n/**\n * Walk over the tree of SourceNodes. The walking function is called for each\n * source file content and is passed the filename and source content.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walkSourceContents =\n  function SourceNode_walkSourceContents(aFn) {\n    for (var i = 0, len = this.children.length; i < len; i++) {\n      if (this.children[i][isSourceNode]) {\n        this.children[i].walkSourceContents(aFn);\n      }\n    }\n\n    var sources = Object.keys(this.sourceContents);\n    for (var i = 0, len = sources.length; i < len; i++) {\n      aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\n    }\n  };\n\n/**\n * Return the string representation of this source node. Walks over the tree\n * and concatenates all the various snippets together to one string.\n */\nSourceNode.prototype.toString = function SourceNode_toString() {\n  var str = \"\";\n  this.walk(function (chunk) {\n    str += chunk;\n  });\n  return str;\n};\n\n/**\n * Returns the string representation of this source node along with a source\n * map.\n */\nSourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {\n  var generated = {\n    code: \"\",\n    line: 1,\n    column: 0\n  };\n  var map = new SourceMapGenerator(aArgs);\n  var sourceMappingActive = false;\n  var lastOriginalSource = null;\n  var lastOriginalLine = null;\n  var lastOriginalColumn = null;\n  var lastOriginalName = null;\n  this.walk(function (chunk, original) {\n    generated.code += chunk;\n    if (original.source !== null\n        && original.line !== null\n        && original.column !== null) {\n      if(lastOriginalSource !== original.source\n         || lastOriginalLine !== original.line\n         || lastOriginalColumn !== original.column\n         || lastOriginalName !== original.name) {\n        map.addMapping({\n          source: original.source,\n          original: {\n            line: original.line,\n            column: original.column\n          },\n          generated: {\n            line: generated.line,\n            column: generated.column\n          },\n          name: original.name\n        });\n      }\n      lastOriginalSource = original.source;\n      lastOriginalLine = original.line;\n      lastOriginalColumn = original.column;\n      lastOriginalName = original.name;\n      sourceMappingActive = true;\n    } else if (sourceMappingActive) {\n      map.addMapping({\n        generated: {\n          line: generated.line,\n          column: generated.column\n        }\n      });\n      lastOriginalSource = null;\n      sourceMappingActive = false;\n    }\n    for (var idx = 0, length = chunk.length; idx < length; idx++) {\n      if (chunk.charCodeAt(idx) === NEWLINE_CODE) {\n        generated.line++;\n        generated.column = 0;\n        // Mappings end at eol\n        if (idx + 1 === length) {\n          lastOriginalSource = null;\n          sourceMappingActive = false;\n        } else if (sourceMappingActive) {\n          map.addMapping({\n            source: original.source,\n            original: {\n              line: original.line,\n              column: original.column\n            },\n            generated: {\n              line: generated.line,\n              column: generated.column\n            },\n            name: original.name\n          });\n        }\n      } else {\n        generated.column++;\n      }\n    }\n  });\n  this.walkSourceContents(function (sourceFile, sourceContent) {\n    map.setSourceContent(sourceFile, sourceContent);\n  });\n\n  return { code: generated.code, map: map };\n};\n\nexports.SourceNode = SourceNode;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\nvar MAX_CACHED_INPUTS = 32;\n\n/**\n * Takes some function `f(input) -> result` and returns a memoized version of\n * `f`.\n *\n * We keep at most `MAX_CACHED_INPUTS` memoized results of `f` alive. The\n * memoization is a dumb-simple, linear least-recently-used cache.\n */\nfunction lruMemoize(f) {\n  var cache = [];\n\n  return function(input) {\n    for (var i = 0; i < cache.length; i++) {\n      if (cache[i].input === input) {\n        var temp = cache[0];\n        cache[0] = cache[i];\n        cache[i] = temp;\n        return cache[0].result;\n      }\n    }\n\n    var result = f(input);\n\n    cache.unshift({\n      input,\n      result,\n    });\n\n    if (cache.length > MAX_CACHED_INPUTS) {\n      cache.pop();\n    }\n\n    return result;\n  };\n}\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nvar normalize = lruMemoize(function normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n  // Split the path into parts between `/` characters. This is much faster than\n  // using `.split(/\\/+/g)`.\n  var parts = [];\n  var start = 0;\n  var i = 0;\n  while (true) {\n    start = i;\n    i = path.indexOf(\"/\", start);\n    if (i === -1) {\n      parts.push(path.slice(start));\n      break;\n    } else {\n      parts.push(path.slice(start, i));\n      while (i < path.length && path[i] === \"/\") {\n        i++;\n      }\n    }\n  }\n\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n});\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\nfunction compareByOriginalPositionsNoSource(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositionsNoSource = compareByOriginalPositionsNoSource;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction compareByGeneratedPositionsDeflatedNoLine(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflatedNoLine = compareByGeneratedPositionsDeflatedNoLine;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   “sources” entry.  This value is prepended to the individual\n    //   entries in the “source” field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   “sourceRoot”, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n","/*\n * Copyright 2009-2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE.txt or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.SourceMapGenerator = require('./lib/source-map-generator').SourceMapGenerator;\nexports.SourceMapConsumer = require('./lib/source-map-consumer').SourceMapConsumer;\nexports.SourceNode = require('./lib/source-node').SourceNode;\n","import * as vscode from 'vscode';\nimport postcss from 'postcss';\nimport { PluginContainer, pluginContainer, pluginOptions } from './postcss/index';\n\nconst log = vscode.window.createOutputChannel(\"CSSTools Design Tokens\");\n\nfunction getOptions(): pluginOptions {\n\tlet importAtRuleName = vscode.workspace.getConfiguration('designTokens')?.get('importAtRuleName') ?? 'design-tokens';\n\tlet valueFunctionName = vscode.workspace.getConfiguration('designTokens')?.get('valueFunctionName') ?? 'design-token';\n\n\tif (!(typeof importAtRuleName === 'string') || !importAtRuleName) {\n\t\timportAtRuleName = 'design-tokens';\n\t}\n\n\tif (!(typeof valueFunctionName === 'string') || !valueFunctionName) {\n\t\tvalueFunctionName = 'design-token';\n\t}\n\n\treturn {\n\t\timportAtRuleName: importAtRuleName as string,\n\t\tvalueFunctionName: valueFunctionName as string,\n\t};\n}\n\nexport function activate(context: vscode.ExtensionContext) {\n\tconst tokensData: Map<string, PluginContainer> = new Map();\n\n\t{\n\t\tif (vscode.window?.activeTextEditor?.document?.languageId === 'css') {\n\t\t\thandleCSSDocument(tokensData, vscode.window.activeTextEditor.document, getOptions());\n\t\t}\n\t}\n\n\tcontext.subscriptions.push(vscode.workspace.onDidSaveTextDocument(async (document: vscode.TextDocument) => {\n\t\tif (document.languageId !== 'css') {\n\t\t\treturn;\n\t\t}\n\n\t\thandleCSSDocument(tokensData, document, getOptions());\n\t}));\n\n\tcontext.subscriptions.push(vscode.window.onDidChangeActiveTextEditor((editor) => {\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (editor.document.languageId !== 'css') {\n\t\t\treturn;\n\t\t}\n\n\t\thandleCSSDocument(tokensData, editor.document, getOptions());\n\t}));\n\n\tcontext.subscriptions.push(vscode.languages.registerCompletionItemProvider('css', {\n\t\tasync provideCompletionItems(document, position, cancelToken) {\n\t\t\tconst options = getOptions();\n\n\t\t\tconst completionItems: Array<vscode.CompletionItem> = [];\n\n\t\t\tif (position.character === 0 || document.lineAt(position.line).text.startsWith('@' + options.importAtRuleName)) {\n\t\t\t\t{\n\t\t\t\t\tconst completionItem = new vscode.CompletionItem('@' + options.importAtRuleName, vscode.CompletionItemKind.Snippet);\n\t\t\t\t\tcompletionItem.insertText = new vscode.SnippetString(\n\t\t\t\t\t\t\"@\" + options.importAtRuleName + \" url('$1') format('${2:style-dictionary3}');$0\"\n\t\t\t\t\t);\n\t\t\t\t\tcompletionItem.filterText = '@' + options.importAtRuleName;\n\t\t\t\t\tcompletionItem.detail = 'Import design tokens';\n\t\t\t\t\tcompletionItems.push(completionItem);\n\t\t\t\t}\n\n\t\t\t\t{\n\t\t\t\t\tconst completionItem = new vscode.CompletionItem('@' + options.importAtRuleName + ' when', vscode.CompletionItemKind.Snippet);\n\t\t\t\t\tcompletionItem.insertText = new vscode.SnippetString(\n\t\t\t\t\t\t\"@\" + options.importAtRuleName + \" url('$1') format('${2:style-dictionary3}') when('$3');$0\"\n\t\t\t\t\t);\n\t\t\t\t\tcompletionItem.filterText = '@' + options.importAtRuleName + ' when';\n\t\t\t\t\tcompletionItem.detail = 'Import design tokens conditionally';\n\t\t\t\t\tcompletionItems.push(completionItem);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst tokens = tokensData.get(document.uri.fsPath);\n\t\t\tif (!tokens) {\n\t\t\t\treturn completionItems;\n\t\t\t}\n\n\t\t\tfor (const [tokenPath, token] of tokens.tokens().entries()) {\n\t\t\t\tconst completionItem = new vscode.CompletionItem(tokenPath + ` ${token.cssValue()}`, vscode.CompletionItemKind.Variable);\n\t\t\t\tcompletionItem.insertText = `${options.valueFunctionName}('${tokenPath}')`;\n\t\t\t\tcompletionItem.filterText = `${options.valueFunctionName}('${tokenPath}') ${token.cssValue()}`;\n\n\t\t\t\tif (token.comment) {\n\t\t\t\t\tcompletionItem.documentation = new vscode.MarkdownString(token.comment);\n\t\t\t\t}\n\n\t\t\t\tcompletionItems.push(completionItem);\n\t\t\t}\n\n\t\t\treturn completionItems;\n\t\t}\n\t}));\n\n\tcontext.subscriptions.push(vscode.languages.registerHoverProvider('css', {\n\t\tprovideHover(document, position) {\n\t\t\tconst tokens = tokensData.get(document.uri.fsPath);\n\t\t\tif (!tokens) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst line = document.lineAt(position.line).text;\n\t\t\tfor (const [tokenPath, token] of tokens.tokens().entries()) {\n\t\t\t\tconst tokenPathInCSS = `'${tokenPath}'`;\n\t\t\t\tlet index = line.indexOf(tokenPathInCSS);\n\t\t\t\tif (index === -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlet conditionalTokensTable = '';\n\t\t\t\tfor (const [condition, conditionalTokens] of tokens.conditionalTokens().entries()) {\n\t\t\t\t\tconst conditionalToken = conditionalTokens.get(tokenPath);\n\t\t\t\t\tif (conditionalToken && conditionalToken.cssValue() !== token.cssValue()) {\n\t\t\t\t\t\tconditionalTokensTable += `| ${condition} | [${conditionalToken.cssValue()}](${vscode.Uri.file(conditionalToken.metadata?.filePath ?? '')}) |\\n`;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (conditionalTokensTable) {\n\t\t\t\t\tconditionalTokensTable = `| when | |\\n|:--- | ---:|\\n| default | [${token.cssValue()}](${vscode.Uri.file(token.metadata?.filePath ?? '')}) |\\n${conditionalTokensTable}`;\n\t\t\t\t}\n\n\t\t\t\tlet tokenRange = new vscode.Range(position.line, index, position.line, index + tokenPathInCSS.length);\n\t\t\t\tif (tokenRange.contains(position)) {\n\t\t\t\t\treturn new vscode.Hover(new vscode.MarkdownString(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t`Token: ${token.name}`,\n\t\t\t\t\t\t\t`_${tokenPath}_`,\n\t\t\t\t\t\t\ttoken.cssValue(),\n\t\t\t\t\t\t\ttoken.comment,\n\t\t\t\t\t\t\tconditionalTokensTable\n\t\t\t\t\t\t].filter(x => !!x).join('\\n\\n')\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}));\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate() {}\n\nasync function handleCSSDocument(tokensData: Map<string, PluginContainer>, document: vscode.TextDocument, options: pluginOptions) {\n\tconst css = document.getText();\n\tconst documentPlugin = tokensData.has(document.uri.fsPath) ? tokensData.get(document.uri.fsPath)! : (tokensData.set(document.uri.fsPath, pluginContainer(options)), tokensData.get(document.uri.fsPath)!);\n\tdocumentPlugin.reset();\n\n\ttry {\n\t\tawait postcss([documentPlugin.creator]).process(css, { from: document.uri.fsPath }).then((result) => {\n\t\t\tresult.messages.forEach((x) => {\n\t\t\t\tif (x.type === 'dependency') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlog.appendLine(`${x.type}: ${x.plugin} - ${x.text}`);\n\t\t\t});\n\t\t});\n\t} catch (e) {\n\t\tlog.appendLine(`error:\\n\\t` + (e as Error).message);\n\t\treturn;\n\t}\n}\n","import valueParser from 'postcss-value-parser';\nimport { Token } from './base/token';\nimport { extractStyleDictionaryTokens } from './style-dictionary/style-dictionary';\nimport path from 'path';\nimport * as vscode from 'vscode';\n\n// @ts-ignore\nconst requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : require;\n\nfunction parseImport(statement: string): { filePath: string, format: string, conditions: Array<string> } {\n\tconst importAST = valueParser(statement);\n\n\tconst result = {\n\t\tfilePath: '',\n\t\tformat: 'standard',\n\t\tconditions: [] as Array<string>,\n\t};\n\n\timportAST.walk((node) => {\n\t\tif (node.type === 'function' && node.value === 'url') {\n\t\t\tresult.filePath = node.nodes[0].value;\n\t\t}\n\n\t\tif (node.type === 'function' && node.value === 'format') {\n\t\t\tresult.format = node.nodes[0].value;\n\t\t}\n\n\t\tif (node.type === 'function' && node.value === 'when') {\n\t\t\tresult.conditions = node.nodes.filter((child) => {\n\t\t\t\treturn child.type === 'string';\n\t\t\t}).map((child) => child.value);\n\t\t}\n\t});\n\n\treturn result;\n}\n\nexport async function tokensFromImport(sourceFilePath: string, statement: string, alreadyImported: Set<string>): Promise<{ filePath: string, tokens: Map<string, Token>, conditions: Array<string> }|false> {\n\tconst { filePath, format, conditions } = parseImport(statement);\n\n\tlet resolvedPath = '';\n\tif (filePath.startsWith('node_modules://')) {\n\t\ttry {\n\t\t\tresolvedPath = requireFunc.resolve(filePath.slice(15), {\n\t\t\t\tpaths: [\n\t\t\t\t\tpath.dirname(sourceFilePath),\n\t\t\t\t],\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tresolvedPath = path.resolve(path.dirname(sourceFilePath), filePath);\n\t\t}\n\t} else {\n\t\tresolvedPath = path.resolve(path.dirname(sourceFilePath), filePath);\n\t}\n\n\tif (alreadyImported.has(resolvedPath)) {\n\t\treturn false;\n\t}\n\n\talreadyImported.add(resolvedPath);\n\n\tconst fileContents = await vscode.workspace.fs.readFile(vscode.Uri.file(resolvedPath));\n\tconst tokenContents = JSON.parse(fileContents.toString());\n\n\tswitch (format) {\n\t\tcase 'style-dictionary3':\n\t\t\treturn {\n\t\t\t\tfilePath: path.resolve(filePath),\n\t\t\t\ttokens: extractStyleDictionaryTokens('3', tokenContents, resolvedPath),\n\t\t\t\tconditions: conditions,\n\t\t\t};\n\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tthrow new Error('Unsupported format: ' + format);\n}\n","\nimport { Token } from '../base/token';\nimport { extractStyleDictionaryV3Tokens, StyleDictionaryV3TokenGroup } from './v3/group';\n\nexport const latestStyleDictionaryVersion = '3';\n\nexport function extractStyleDictionaryTokens(version: string, node: unknown, filePath: string): Map<string, Token> {\n\tif (version === '3') {\n\t\treturn extractStyleDictionaryV3Tokens(node as StyleDictionaryV3TokenGroup, filePath);\n\t}\n\n\tthrow new Error('Unsupported version: ' + version);\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { TokenTransformOptions } from '../../base/token';\nimport { toposort } from '../../toposort/toposort';\nimport { applyTransformsToValue, StyleDictionaryV3TokenValue } from './value';\n\nexport function dereferenceTokenValues(tokens: Map<string, StyleDictionaryV3TokenValue>): Map<string, StyleDictionaryV3TokenValue> {\n\tconst tainted = new Set<string>();\n\tconst referenceASTs = new Map<string, Array<ValuePart>>();\n\n\t// Gather all references.\n\t{\n\t\tfor (const [id, token] of tokens.entries()) {\n\t\t\tconst referenceAST = parseReferences(token.value);\n\t\t\tif (!referenceAST.length) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ttainted.add(id);\n\t\t\treferenceASTs.set(id, referenceAST);\n\t\t}\n\t}\n\n\t// Fast dereference.\n\t// Only handles references for which a value can found immediately.\n\t{\n\t\tfor (const [id, referenceAST] of referenceASTs.entries()) {\n\t\t\tfor (let i = 0; i < referenceAST.length; i++) {\n\t\t\t\tconst reference = referenceAST[i];\n\t\t\t\tif (reference.type !== 'value-reference') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (tainted.has(reference.raw)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (!tokens.has(reference.raw)) {\n\t\t\t\t\tthrow new Error('Alias \"' + reference.raw + '\" not found');\n\t\t\t\t}\n\n\t\t\t\tconst sourceToken = tokens.get(reference.raw)!;\n\t\t\t\treferenceAST[i] = {\n\t\t\t\t\ttype: 'value-resolved',\n\t\t\t\t\traw: reference.raw,\n\t\t\t\t\tvalue: sourceToken.cssValue(),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst hasFurtherReferences = referenceAST.some(part => part.type === 'value-reference');\n\t\t\tif (hasFurtherReferences) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst value = (referenceAST as ValuePartsResolved).map(part => part.value).join('');\n\t\t\tconst currentToken = tokens.get(id)!;\n\n\t\t\tcurrentToken.value = value;\n\t\t\tcurrentToken.cssValue = (transformOptions: TokenTransformOptions) => {\n\t\t\t\treturn applyTransformsToValue(value, transformOptions);\n\t\t\t};\n\n\t\t\ttokens.set(id, currentToken);\n\t\t\ttainted.delete(id);\n\t\t\treferenceASTs.delete(id);\n\t\t}\n\n\t\tif (tainted.size === 0) {\n\t\t\treturn tokens;\n\t\t}\n\t}\n\n\t// Topological dereference.\n\t{\n\t\tconst nodes: Array<string> = Array.from(tokens.keys());\n\t\tconst edges: Array<Array<string>> = [];\n\n\t\tfor (const [id, referenceAST] of referenceASTs.entries()) {\n\t\t\tfor (let i = 0; i < referenceAST.length; i++) {\n\t\t\t\tconst reference = referenceAST[i];\n\t\t\t\tif (reference.type !== 'value-reference') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tedges.push([reference.raw, id]);\n\t\t\t}\n\t\t}\n\n\t\tconst sorted = toposort(nodes, edges);\n\t\tif (!sorted) {\n\t\t\tthrow new Error('Circular reference detected');\n\t\t}\n\n\t\tfor (const id of sorted) {\n\t\t\tif (!referenceASTs.has(id)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst referenceAST = referenceASTs.get(id)!;\n\t\t\tfor (let i = 0; i < referenceAST.length; i++) {\n\t\t\t\tconst reference = referenceAST[i];\n\t\t\t\tif (reference.type !== 'value-reference') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (tainted.has(reference.raw)) {\n\t\t\t\t\tthrow new Error('Alias \"' + reference.raw + '\" can not be resolved');\n\t\t\t\t}\n\n\t\t\t\tif (!tokens.has(reference.raw)) {\n\t\t\t\t\tthrow new Error('Alias \"' + reference.raw + '\" not found');\n\t\t\t\t}\n\n\t\t\t\tconst sourceToken = tokens.get(reference.raw)!;\n\t\t\t\treferenceAST[i] = {\n\t\t\t\t\ttype: 'value-resolved',\n\t\t\t\t\traw: reference.raw,\n\t\t\t\t\tvalue: sourceToken.cssValue(),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst hasFurtherReferences = referenceAST.some(part => part.type === 'value-reference');\n\t\t\tif (hasFurtherReferences) {\n\t\t\t\tthrow new Error('Token \"' + id + '\" can not be fully resolved');\n\t\t\t}\n\n\t\t\tconst value = (referenceAST as ValuePartsResolved).map(part => part.value).join('');\n\t\t\tconst currentToken = tokens.get(id)!;\n\n\t\t\tcurrentToken.value = value;\n\t\t\tcurrentToken.cssValue = (transformOptions: TokenTransformOptions) => {\n\t\t\t\treturn applyTransformsToValue(value, transformOptions);\n\t\t\t};\n\n\t\t\ttokens.set(id, currentToken);\n\t\t\ttainted.delete(id);\n\t\t\treferenceASTs.delete(id);\n\t\t}\n\n\t\tif (tainted.size === 0) {\n\t\t\treturn tokens;\n\t\t}\n\t}\n\n\treturn tokens;\n}\n\ntype ValuePartsResolved = Array<ValueNonReference | ValueResolved>;\ntype ValuePart = ValueReference | ValueNonReference | ValueResolved;\n\ntype ValueReference = {\n\ttype: 'value-reference',\n\traw: string,\n};\n\ntype ValueResolved = {\n\ttype: 'value-resolved',\n\traw: string,\n\tvalue: string,\n};\n\ntype ValueNonReference = {\n\ttype: 'value-non-reference',\n\tvalue: string,\n};\n\nfunction parseReferences(valueWithReferences: unknown): Array<ValuePart> {\n\tif (typeof valueWithReferences !== 'string') {\n\t\treturn [];\n\t}\n\n\tif (valueWithReferences.indexOf('{') === -1) {\n\t\treturn [];\n\t}\n\n\tconst result: Array<ValuePart> = [];\n\tlet hasReferences = false;\n\n\tlet inReference = false;\n\tlet buf = '';\n\n\tfor (let index = 0; index < valueWithReferences.length; index++) {\n\t\tconst char = valueWithReferences[index];\n\n\t\tswitch (char) {\n\t\t\tcase '{':\n\t\t\t\tif (inReference) {\n\t\t\t\t\tthrow new Error('Unexpected \"{\" in \"' + valueWithReferences + '\" at ' + index);\n\t\t\t\t}\n\n\t\t\t\tif (buf.length > 0) {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ttype: 'value-non-reference',\n\t\t\t\t\t\tvalue: buf,\n\t\t\t\t\t});\n\t\t\t\t\tbuf = '';\n\t\t\t\t}\n\n\t\t\t\tinReference = true;\n\t\t\t\tbreak;\n\t\t\tcase '}':\n\t\t\t\tif (!inReference) {\n\t\t\t\t\tthrow new Error('Unexpected \"}\" in \"' + valueWithReferences + '\" at ' + index);\n\t\t\t\t}\n\n\t\t\t\tif (buf.length === 0) {\n\t\t\t\t\tthrow new Error('Empty alias \"{}\" in \"' + valueWithReferences + '\" at ' + index);\n\t\t\t\t}\n\n\t\t\t\t{\n\t\t\t\t\tlet reference = buf.trim();\n\t\t\t\t\tif (reference.slice(-6) === '.value') {\n\t\t\t\t\t\treference = reference.slice(0, -6);\n\t\t\t\t\t}\n\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ttype: 'value-reference',\n\t\t\t\t\t\traw: reference,\n\t\t\t\t\t});\n\t\t\t\t\tbuf = '';\n\t\t\t\t}\n\n\t\t\t\thasReferences = true;\n\t\t\t\tinReference = false;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbuf += char;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (inReference) {\n\t\tthrow new Error('Unexpected end of alias in \"' + valueWithReferences + '\"');\n\t}\n\n\tif (buf.length > 0) {\n\t\tresult.push({\n\t\t\ttype: 'value-non-reference',\n\t\t\tvalue: buf,\n\t\t});\n\t}\n\n\tif (!hasReferences) {\n\t\treturn [];\n\t}\n\n\treturn result;\n}\n","import { Token } from '../../base/token';\nimport { dereferenceTokenValues } from './dereference';\nimport { extractStyleDictionaryV3Token, StyleDictionaryV3TokenValue } from './value';\n\nexport type StyleDictionaryV3TokenGroup = {\n\t[key: string]: StyleDictionaryV3TokenGroup | StyleDictionaryV3TokenValue;\n};\n\nfunction extractTokens(node: StyleDictionaryV3TokenGroup, path: Array<string>, filePath: string): Map<string, StyleDictionaryV3TokenValue> {\n\tconst result: Map<string, StyleDictionaryV3TokenValue> = new Map();\n\tfor (const key in node) {\n\t\tif (Object.hasOwnProperty.call(node, key)) {\n\t\t\tif (\n\t\t\t\tnode[key] === null ||\n\t\t\t\ttypeof node[key] !== 'object' ||\n\t\t\t\tArray.isArray(node[key])\n\t\t\t) {\n\t\t\t\tthrow new Error(`Parsing error at \"${[...path, key].join('.')}\"`);\n\t\t\t}\n\n\t\t\tconst child = Object(node[key]);\n\t\t\tif (!child) {\n\t\t\t\tthrow new Error(`Parsing error at \"${[...path, key].join('.')}\"`);\n\t\t\t}\n\n\t\t\tif (typeof child['value'] !== 'undefined') {\n\t\t\t\tconst token = extractStyleDictionaryV3Token(child, key, path, filePath);\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\tresult.set(token.metadata!.path.join('.'), token);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (const [tokenPath, token] of extractTokens(child, [...path, key], filePath).entries()) {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\tresult.set(tokenPath, token);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport function extractStyleDictionaryV3Tokens(node: StyleDictionaryV3TokenGroup, filePath: string): Map<string, Token> {\n\treturn dereferenceTokenValues(extractTokens(node, [], filePath));\n}\n","import { TokenTransformOptions } from '../../base/token';\nimport valueParser from 'postcss-value-parser';\n\nexport type StyleDictionaryV3TokenValue = {\n\tcssValue(transformOptions?: TokenTransformOptions): string\n\t// The value of the design token. This can be any type of data, a hex string, an integer, a file path to a file, even an object or array.\n\tvalue: unknown\n\t// Usually the name for a design token is generated with a name transform, but you can write your own if you choose. By default Style Dictionary will add a default name which is the key of the design token object.\n\tname?: string\n\t// The comment attribute will show up in a code comment in output files if the format supports it.\n\tcomment?: string\n\t// This is used in formats that support override-able or themeable values like the !default flag in Sass.\n\tthemeable?: boolean\n\t// Extra information about the design token you want to include. Attribute transforms will modify this object so be careful\n\tattributes?: unknown\n\n\t// Set by the token parser\n\tmetadata?: {\n\t\t// A default name of the design token that is set to the key of the design token. This is only added if you do not provide one.\n\t\tname?: string\n\t\t// The object path of the design token.\n\t\tpath: Array<string>\n\t\t// The file path of the file the token is defined in. This file path is derived from the source or include file path arrays defined in the configuration.\n\t\tfilePath: string\n\t\t// If the token is from a file defined in the source array as opposed to include in the configuration.\n\t\tisSource: boolean\n\t}\n};\n\nexport function extractStyleDictionaryV3Token(node: Record<string, unknown>, key: string, path: Array<string>, filePath: string): StyleDictionaryV3TokenValue {\n\tif (typeof node['value'] === 'undefined') {\n\t\tthrow new Error('Token value is undefined for \"' + [...path, key].join('.') + '\"');\n\t}\n\n\tswitch (typeof node['value']) {\n\t\tcase 'string':\n\t\tcase 'number':\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error('Token value is not a string or a number for \"' + [...path, key].join('.') + '\"');\n\t}\n\n\tconst value = String(node['value']);\n\n\treturn {\n\t\tvalue: value,\n\t\tcssValue: (transformOptions?: TokenTransformOptions) => {\n\t\t\treturn applyTransformsToValue(value, transformOptions);\n\t\t},\n\t\tname: String(node['name'] ?? '') || key,\n\t\tcomment: String(node['comment'] ?? '') || undefined,\n\t\tmetadata: {\n\t\t\tname: String(node['name'] ?? '') ? key : undefined,\n\t\t\tpath: [...path, key],\n\t\t\tfilePath: filePath,\n\t\t\tisSource: true,\n\t\t},\n\t};\n}\n\nconst unitValidity: Map<string, boolean> = new Map();\n\nexport function applyTransformsToValue(value: string | undefined | null, transformOptions?: TokenTransformOptions): string {\n\tif (!value) {\n\t\treturn '';\n\t}\n\n\tif (!transformOptions) {\n\t\treturn value;\n\t}\n\n\tif (!transformOptions.toUnit) {\n\t\treturn value;\n\t}\n\n\tconst dimension = valueParser.unit(value ?? '');\n\tif (!dimension || dimension.unit === transformOptions.toUnit) {\n\t\treturn value;\n\t}\n\n\tif (!dimension.unit) {\n\t\tif (unitValidity.has(transformOptions.toUnit)) {\n\t\t\tif (unitValidity.get(transformOptions.toUnit)) {\n\t\t\t\treturn `${value}${transformOptions.toUnit}`;\n\t\t\t} else {\n\t\t\t\tthrow new Error(`Invalid unit \"${transformOptions.toUnit}\" for \"${value}\"`);\n\t\t\t}\n\t\t}\n\n\t\ttry {\n\t\t\t// - concatenate the value and the desired unit.\n\t\t\t// - try to parse the result as a CSS dimension (value + unit)\n\t\t\t// - if the unit is not equal to the original we know that the input was incorrect.\n\t\t\tconst resultingDimension = valueParser.unit(`${value}${transformOptions.toUnit}`);\n\t\t\tif (resultingDimension && resultingDimension.unit === transformOptions.toUnit) {\n\t\t\t\tunitValidity.set(transformOptions.toUnit, true);\n\t\t\t\treturn `${value}${transformOptions.toUnit}`;\n\t\t\t}\n\n\t\t\tunitValidity.set(transformOptions.toUnit, false);\n\t\t} catch (_) {\n\t\t\tunitValidity.set(transformOptions.toUnit, false);\n\t\t}\n\n\t\tthrow new Error(`Invalid unit \"${transformOptions.toUnit}\" for \"${value}\"`);\n\t}\n\n\tif (dimension.unit === 'rem' && transformOptions.toUnit === 'px') {\n\t\treturn remToPx(parseFloat(dimension.number), transformOptions.pluginOptions?.rootFontSize ?? 16);\n\t}\n\n\tif (dimension.unit === 'px' && transformOptions.toUnit === 'rem') {\n\t\treturn pxToRem(parseFloat(dimension.number), transformOptions.pluginOptions?.rootFontSize ?? 16);\n\t}\n\n\treturn value;\n}\n\nfunction remToPx(value: number, rootFontSize: number): string {\n\treturn `${formatFloat(value * rootFontSize)}px`;\n}\n\nfunction pxToRem(value: number, rootFontSize: number): string {\n\treturn `${formatFloat(value / rootFontSize)}rem`;\n}\n\nfunction formatFloat(value: number): string {\n\tif (Number.isInteger(value)) {\n\t\treturn value.toString();\n\t}\n\n\tlet fixedPrecision = value.toFixed(5);\n\tfor (let i = fixedPrecision.length; i > 0; i--) {\n\t\tif (fixedPrecision[i] === '.') {\n\t\t\tbreak;\n\t\t}\n\n\t\tif (fixedPrecision[i] !== '0') {\n\t\t\tfixedPrecision = fixedPrecision.slice(0, i + 1);\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\treturn fixedPrecision;\n}\n","import { Token } from './base/token';\n\nexport function mergeTokens(a: Map<string, Token>, b: Map<string, Token>): Map<string, Token> {\n\tconst result = new Map(a);\n\tfor (const [key, value] of b) {\n\t\tresult.set(key, value);\n\t}\n\treturn result;\n}\n","// Toposort - Topological sorting for node.js\n// Copyright (c) 2012 by Marcel Klehr <mklehr@gmx.net>\n// MIT LICENSE\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport function toposort(nodes: Array<string>, edges: Array<Array<string>>): Array<string> {\n\tlet cursor = nodes.length;\n\tconst sorted: Array<string> = new Array(cursor);\n\tconst visited: Record<number, boolean> = {};\n\tlet i = cursor;\n\t// Better data structures make algorithm much faster.\n\tconst outgoingEdges = makeOutgoingEdges(edges);\n\tconst nodesHash = makeNodesHash(nodes);\n\n\t// check for unknown nodes\n\tedges.forEach(function (edge) {\n\t\tif (!nodesHash.has(edge[0]) || !nodesHash.has(edge[1])) {\n\t\t\tthrow new Error('Unknown token. Make sure to provide all tokens used in aliases.');\n\t\t}\n\t});\n\n\twhile (i--) {\n\t\tif (!visited[i]) {\n\t\t\tvisit(nodes[i], i, new Set());\n\t\t}\n\t}\n\n\treturn sorted;\n\n\tfunction visit(node: string, j: number, predecessors: Set<string>) {\n\t\tif (predecessors.has(node)) {\n\t\t\tlet nodeRep;\n\t\t\ttry {\n\t\t\t\tnodeRep = ', token was: ' + JSON.stringify(node);\n\t\t\t} catch (e) {\n\t\t\t\tnodeRep = '';\n\t\t\t}\n\t\t\tthrow new Error('Cyclic dependency' + nodeRep);\n\t\t}\n\n\t\tif (!nodesHash.has(node)) {\n\t\t\tthrow new Error('Found unknown token. Make sure to provided all involved tokens. Unknown token: ' + JSON.stringify(node));\n\t\t}\n\n\t\tif (visited[j]) {\n\t\t\treturn;\n\t\t}\n\t\tvisited[j] = true;\n\n\t\tlet outgoing = outgoingEdges.get(node) || new Set();\n\t\toutgoing = Array.from(outgoing);\n\n\t\t// eslint-disable-next-line no-cond-assign\n\t\tif (j = outgoing.length) {\n\t\t\tpredecessors.add(node);\n\t\t\tdo {\n\t\t\t\tconst child = outgoing[--j];\n\t\t\t\tvisit(child, nodesHash.get(child), predecessors);\n\t\t\t} while (j);\n\t\t\tpredecessors.delete(node);\n\t\t}\n\n\t\tsorted[--cursor] = node;\n\t}\n}\n\nfunction makeOutgoingEdges(arr: Array<Array<string>>) {\n\tconst edges = new Map();\n\tfor (let i = 0, len = arr.length; i < len; i++) {\n\t\tconst edge = arr[i];\n\t\tif (!edges.has(edge[0])) {\n\t\t\tedges.set(edge[0], new Set());\n\t\t}\n\t\tif (!edges.has(edge[1])) {\n\t\t\tedges.set(edge[1], new Set());\n\t\t}\n\t\tedges.get(edge[0]).add(edge[1]);\n\t}\n\treturn edges;\n}\n\nfunction makeNodesHash(arr: Array<string>) {\n\tconst res = new Map();\n\tfor (let i = 0, len = arr.length; i < len; i++) {\n\t\tres.set(arr[i], i);\n\t}\n\treturn res;\n}\n","import type { Node, PluginCreator, Plugin } from 'postcss';\nimport { Token } from './data-formats/base/token';\nimport { tokensFromImport } from './data-formats/parse-import';\nimport { mergeTokens } from './data-formats/token';\n\nexport interface PluginContainer {\n\tcreator: Plugin;\n\ttokens(): Map<string, Token>;\n\tconditionalTokens(): Map<string, Map<string, Token>>;\n\treset: () => void;\n}\n\nexport type pluginOptions = {\n\timportAtRuleName: string,\n\tvalueFunctionName: string,\n};\n\nexport function pluginContainer(options: pluginOptions): PluginContainer {\n\tconst data: {\n\t\ttokens: Map<string, Token>;\n\t\tconditionalTokens: Map<string, Map<string, Token>>;\n\t\timportedFiles: Set<string>;\n\t} = {\n\t\ttokens: new Map<string, Token>(),\n\t\tconditionalTokens: new Map<string, Map<string, Token>>(),\n\t\timportedFiles: new Set<string>(),\n\t};\n\n\tconst creator: PluginCreator<unknown> = () => {\n\t\treturn {\n\t\t\tpostcssPlugin: 'postcss-design-tokens',\n\t\t\tOnce: async (root, { result }) => {\n\t\t\t\tconst designTokenAtRules: Array<{ filePath: string, params: string, node: Node }> = [];\n\t\t\t\troot.walkAtRules((atRule) => {\n\t\t\t\t\tif (atRule.name.toLocaleLowerCase() !== options.importAtRuleName) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!atRule?.source?.input?.file) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst filePath = atRule.source.input.file;\n\t\t\t\t\tconst params = atRule.params;\n\t\t\t\t\tatRule.remove();\n\n\t\t\t\t\tdesignTokenAtRules.push({\n\t\t\t\t\t\tfilePath: filePath,\n\t\t\t\t\t\tparams: params,\n\t\t\t\t\t\tnode: atRule,\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tfor (const atRule of designTokenAtRules.values()) {\n\t\t\t\t\tlet importResult: { filePath: string, tokens: Map<string, Token>, conditions: Array<string> } | false;\n\t\t\t\t\ttry {\n\t\t\t\t\t\timportResult = await tokensFromImport(atRule.filePath, atRule.params, data.importedFiles);\n\t\t\t\t\t\tif (!importResult) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e: unknown) {\n\t\t\t\t\t\tatRule.node.warn(result, `Failed to import design tokens from \"${atRule.params}\" with error:\\n\\t` + (e as Error).message);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tresult.messages.push({\n\t\t\t\t\t\ttype: 'dependency',\n\t\t\t\t\t\tplugin: 'postcss-design-tokens',\n\t\t\t\t\t\tfile: importResult.filePath,\n\t\t\t\t\t\tparent: atRule.filePath,\n\t\t\t\t\t});\n\n\t\t\t\t\tif (importResult.conditions.length > 0) {\n\t\t\t\t\t\tconst condition = importResult.conditions.join(' ');\n\t\t\t\t\t\tif (!data.conditionalTokens.has(condition)) {\n\t\t\t\t\t\t\tdata.conditionalTokens.set(condition, new Map<string, Token>());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst conditionalTokens = data.conditionalTokens.get(condition)!;\n\t\t\t\t\t\tdata.conditionalTokens.set(condition, mergeTokens(conditionalTokens, importResult.tokens));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tdata.tokens = mergeTokens(data.tokens, importResult.tokens);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\n\tcreator.postcss = true;\n\n\treturn {\n\t\tcreator: creator() as Plugin,\n\t\ttokens: () => { \n\t\t\treturn data.tokens;\n\t\t},\n\t\tconditionalTokens: () => {\n\t\t\treturn data.conditionalTokens;\n\t\t},\n\t\treset: () => {\n\t\t\tdata.tokens = new Map<string, Token>();\n\t\t\tdata.importedFiles = new Set<string>();\n\t\t\tdata.conditionalTokens = new Map<string, Map<string, Token>>();\n\t\t}\n\t};\n}\n","module.exports = require(\"vscode\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nlet customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nlet nanoid = (size = 21) => {\n  let id = ''\n  let i = size\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\nmodule.exports = { nanoid, customAlphabet }\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(8548);\n"],"names":["tty","isColorSupported","process","env","argv","includes","platform","isatty","TERM","formatter","open","close","replace","input","string","index","indexOf","length","replaceClose","start","substring","end","nextIndex","createColors","enabled","reset","s","String","bold","dim","italic","underline","inverse","hidden","strikethrough","black","red","green","yellow","blue","magenta","cyan","white","gray","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","module","exports","parse","walk","stringify","ValueParser","value","this","nodes","prototype","toString","Array","isArray","cb","bubble","unit","openParentheses","charCodeAt","closeParentheses","singleQuote","doubleQuote","backslash","slash","comma","colon","star","uLower","uUpper","plus","isUnicodeRange","next","quote","prev","token","escape","escapePos","whitespacePos","parenthesesOpenPos","parent","tokens","pos","code","max","stack","balanced","name","before","after","slice","type","sourceEndIndex","push","sourceIndex","unclosed","pop","test","stringifyNode","node","custom","buf","customResult","undefined","result","i","minus","dot","exp","EXP","nextCode","nextNextCode","likeNumber","number","Container","AtRule","constructor","defaults","super","append","children","proxyOf","prepend","default","registerAtRule","Node","Comment","Rule","Root","isClean","my","Declaration","cleanSource","map","source","markDirtyUp","child","each","callback","iterator","getIterator","indexes","e","addToError","walkDecls","prop","RegExp","walkRules","selector","walkAtRules","walkComments","normalize","last","markDirty","reverse","first","unshift","id","cleanRaws","keepBetween","insertBefore","exist","add","splice","insertAfter","removeChild","removeAll","replaceValues","pattern","opts","decl","props","fast","every","condition","some","sample","Error","text","rebuild","raws","getProxyProcessor","set","get","startsWith","args","toProxy","other","root","lastEach","registerParse","dependant","registerRule","registerRoot","Object","setPrototypeOf","forEach","pico","terminalHighlight","CssSyntaxError","message","line","column","file","plugin","reason","endLine","endColumn","setMessage","captureStackTrace","showSourceCode","color","css","mark","aside","lines","split","Math","min","maxWidth","str","gutter","spacing","join","variable","LazyResult","Processor","Document","toResult","registerLazyResult","registerProcessor","PreviousMap","Input","fromJSON","json","inputs","n","ownInputs","inputHydrated","__proto__","inputId","SourceMapConsumer","SourceMapGenerator","fileURLToPath","pathToFileURL","resolve","isAbsolute","nanoid","fromOffsetCache","Symbol","sourceMapAvailable","Boolean","pathAvailable","hasBOM","from","consumer","mapResolve","fromOffset","offset","lastLine","lineToIndex","prevIndex","l","mid","col","error","origin","url","to","fromUrl","originalPositionFor","URL","sourceRoot","mapFile","protocol","sourceContentFor","toJSON","consumerCache","registerInput","MapGenerator","Result","TYPE_TO_CLASS_NAME","document","atrule","rule","comment","PLUGIN_PROPS","postcssPlugin","prepare","Once","DeclarationExit","RuleExit","AtRuleExit","CommentExit","RootExit","DocumentExit","OnceExit","NOT_VISITORS","isPromise","obj","then","getEvents","key","toLowerCase","toStack","events","eventIndex","visitors","visitorIndex","cleanMarks","postcss","processor","stringified","processed","inline","parser","syntax","helpers","plugins","toStringTag","content","sync","messages","warnings","onFulfilled","onRejected","async","catch","finally","onFinally","Promise","reject","processing","runAsync","getAsyncError","runOnRoot","prepareVisitors","hasListener","walkSync","listeners","subRoot","visitSync","stringifier","data","generate","event","visitor","promise","lastPlugin","handleError","roots","all","postcssVersion","err","console","visitTick","version","filter","keys","visit","registerPostcss","list","separators","array","current","func","inQuote","prevQuote","letter","trim","space","dirname","relative","sep","cssString","mapOpts","isMap","previous","previousMaps","isInline","annotation","isSourcesContent","sourcesContent","withContent","clearAnnotation","setSourcesContent","already","setSourceContent","toUrl","path","applyPrevMaps","applySourceMap","isAnnotation","toBase64","Buffer","window","btoa","unescape","encodeURIComponent","addAnnotation","outputFile","eol","generateMap","generateString","fromSourceMap","addMapping","generated","original","absolute","encodeURI","sourcePath","noSource","mapping","match","lastIndexOf","p","semicolon","NoWorkResult","_processor","_css","_opts","_map","self","defineProperty","generatedCSS","generatedMap","_root","Stringifier","cloneNode","cloned","hasOwnProperty","call","j","clone","rangeBy","warn","remove","assign","overrides","cloneBefore","cloneAfter","replaceWith","bookmark","foundSelf","raw","defaultType","between","_","fixed","emitInputs","Map","inputsNextIndex","positionInside","positionBy","word","endIndex","proxyCache","Proxy","postcssNode","Parser","tokenizer","SAFE_COMMENT_NEIGHBOR","empty","spaces","customProperty","createTokenizer","endOfFile","nextToken","freeSemicolon","emptyRule","endFile","init","getPosition","left","right","bracket","brackets","back","unclosedBracket","unknownWord","spacesAndCommentsFromEnd","findLastWithPosition","shift","firstSpaces","precheckMissedSemicolon","important","stringFrom","spacesFromEnd","cache","concat","checkMissedSemicolon","unnamedAtrule","params","afterName","spacesAndCommentsFromStart","unexpectedClose","unclosedBlock","ownSemicolon","clean","reduce","lastTokenType","element","entries","doubleColon","founded","Warning","initializer","warningPrinted","creator","LANG","transformer","processOpts","pluginOpts","atRule","existsSync","readFileSync","loadAnnotation","startWith","loadMap","substr","getAnnotationURL","sourceMapString","comments","decodeInline","decodeURIComponent","lastMatch","atob","encoding","loadFile","JSON","prevPath","mappings","_mappings","sections","use","normalized","warning","ignore","selectors","values","DEFAULT_RAW","indent","beforeDecl","beforeRule","beforeOpen","beforeClose","beforeComment","emptyBody","commentLeft","commentRight","builder","body","rawValue","block","own","detect","rawCache","beforeAfter","method","toUpperCase","rawSemicolon","rawEmptyBody","rawIndent","parts","rawBeforeComment","rawBeforeDecl","rawBeforeRule","rawBeforeClose","rawBeforeOpen","rawColon","depth","step","HIGHLIGHT_THEME","getTokenType","ignoreErrors","SINGLE_QUOTE","DOUBLE_QUOTE","BACKSLASH","SLASH","NEWLINE","SPACE","FEED","TAB","CR","OPEN_SQUARE","CLOSE_SQUARE","OPEN_PARENTHESES","CLOSE_PARENTHESES","OPEN_CURLY","CLOSE_CURLY","SEMICOLON","ASTERISK","COLON","AT","RE_AT_END","RE_WORD_END","RE_BAD_BRACKET","RE_HEX_ESCAPE","options","escaped","currentToken","valueOf","buffer","returned","what","ignoreUnclosed","controlChar","fromCharCode","lastIndex","charAt","position","printed","range","opt","util","has","hasNativeMap","ArraySet","_array","_set","create","fromArray","aArray","aAllowDuplicates","len","size","getOwnPropertyNames","aStr","sStr","toSetString","isDuplicate","idx","at","aIdx","toArray","base64","encode","aValue","digit","encoded","vlq","toVLQSigned","VLQ_BASE","decode","aIndex","aOutParam","continuation","shifted","strLen","rest","intToCharMap","TypeError","charCode","recursiveSearch","aLow","aHigh","aNeedle","aHaystack","aCompare","aBias","floor","cmp","LEAST_UPPER_BOUND","GREATEST_LOWER_BOUND","search","MappingList","_sorted","_last","generatedLine","generatedColumn","unsortedForEach","aCallback","aThisArg","aMapping","mappingA","mappingB","lineA","lineB","columnA","columnB","compareByGeneratedPositionsInflated","sort","SortTemplate","comparator","swap","ary","x","y","temp","doQuickSort","r","low","high","round","random","pivot","q","sortCache","WeakMap","template","Function","templateFn","cloneSort","binarySearch","base64VLQ","quickSort","aSourceMap","aSourceMapURL","sourceMap","parseSourceMapInput","IndexedSourceMapConsumer","BasicSourceMapConsumer","getArg","sources","names","_version","_names","_sources","_absoluteSources","computeSourceURL","_sourceMapURL","Mapping","originalLine","originalColumn","__generatedMappings","configurable","enumerable","_parseMappings","__originalMappings","_charIsMappingSeparator","c","aSourceRoot","GENERATED_ORDER","ORIGINAL_ORDER","eachMapping","aContext","aOrder","context","_generatedMappings","_originalMappings","boundCallback","bind","sourceMapURL","allGeneratedPositionsFor","aArgs","needle","_findSourceIndex","_findMapping","compareByOriginalPositions","lastColumn","aSource","relativeSource","smc","_sourceRoot","_generateSourcesContent","_file","generatedMappings","destGeneratedMappings","destOriginalMappings","srcMapping","destMapping","compareGenerated","compareByGeneratedPositionsDeflatedNoLine","sortGenerated","a","b","lastOffset","_sections","offsetLine","offsetColumn","generatedOffset","segment","previousGeneratedColumn","previousOriginalLine","previousOriginalColumn","previousSource","previousName","originalMappings","subarrayStart","currentSource","compareByOriginalPositionsNoSource","aMappings","aLineName","aColumnName","aComparator","computeColumnSpans","nextMapping","lastGeneratedColumn","Infinity","compareByGeneratedPositionsDeflated","hasContentsOfAllSources","sc","nullOnMissing","urlParse","fileUriAbsPath","scheme","generatedPositionFor","sectionIndex","section","bias","generatedPosition","sectionMappings","adjustedMapping","_skipValidation","_sourcesContents","aSourceMapConsumer","generator","newMapping","sourceFile","sourceRelative","_validateMapping","aSourceFile","aSourceContent","aSourceMapPath","newSources","newNames","aGenerated","aOriginal","aName","_serializeMappings","nameIdx","sourceIdx","previousGeneratedLine","aSources","REGEX_NEWLINE","isSourceNode","SourceNode","aLine","aColumn","aChunks","sourceContents","fromStringWithSourceMap","aGeneratedCode","aRelativePath","remainingLines","remainingLinesIndex","shiftNextLine","getNextLine","lastGeneratedLine","lastMapping","nextLine","addMappingWithCode","aChunk","chunk","aFn","aSep","newChildren","replaceRight","aPattern","aReplacement","lastChild","walkSourceContents","fromSetString","toStringWithSourceMap","sourceMappingActive","lastOriginalSource","lastOriginalLine","lastOriginalColumn","lastOriginalName","sourceContent","aDefaultValue","arguments","urlRegexp","dataUrlRegexp","aUrl","auth","host","port","urlGenerate","aParsedUrl","f","aPath","part","up","aRoot","aPathUrl","aRootUrl","joined","level","supportsNullProto","identity","isProtoString","strcmp","aStr1","aStr2","onlyCompareOriginal","onlyCompareGenerated","sourceURL","parsed","log","vscode","createOutputChannel","getOptions","importAtRuleName","workspace","getConfiguration","valueFunctionName","handleCSSDocument","tokensData","getText","documentPlugin","uri","fsPath","pluginContainer","appendLine","activeTextEditor","languageId","subscriptions","onDidSaveTextDocument","onDidChangeActiveTextEditor","editor","languages","registerCompletionItemProvider","cancelToken","completionItems","character","lineAt","completionItem","CompletionItem","CompletionItemKind","Snippet","insertText","SnippetString","filterText","detail","tokenPath","cssValue","Variable","documentation","MarkdownString","registerHoverProvider","provideHover","tokenPathInCSS","conditionalTokensTable","conditionalTokens","conditionalToken","Uri","metadata","filePath","Range","contains","Hover","requireFunc","sourceFilePath","statement","alreadyImported","format","conditions","importAST","parseImport","resolvedPath","paths","fileContents","fs","readFile","tokenContents","extractStyleDictionaryTokens","latestStyleDictionaryVersion","extractStyleDictionaryV3Tokens","parseReferences","valueWithReferences","hasReferences","inReference","char","reference","tainted","Set","referenceASTs","referenceAST","sourceToken","transformOptions","applyTransformsToValue","delete","edges","sorted","toposort","extractTokens","extractStyleDictionaryV3Token","dereferenceTokenValues","isSource","unitValidity","toUnit","dimension","resultingDimension","rootFontSize","formatFloat","remToPx","parseFloat","pluginOptions","pxToRem","Number","isInteger","fixedPrecision","toFixed","cursor","visited","outgoingEdges","arr","edge","makeOutgoingEdges","nodesHash","res","makeNodesHash","predecessors","nodeRep","outgoing","importedFiles","designTokenAtRules","toLocaleLowerCase","importResult","tokensFromImport","mergeTokens","require","customAlphabet","alphabet","defaultSize","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}