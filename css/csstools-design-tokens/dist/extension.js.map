{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://csstools-design-tokens/./node_modules/picocolors/picocolors.js","webpack://csstools-design-tokens/./node_modules/postcss-value-parser/lib/index.js","webpack://csstools-design-tokens/./node_modules/postcss-value-parser/lib/parse.js","webpack://csstools-design-tokens/./node_modules/postcss-value-parser/lib/stringify.js","webpack://csstools-design-tokens/./node_modules/postcss-value-parser/lib/unit.js","webpack://csstools-design-tokens/./node_modules/postcss-value-parser/lib/walk.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/at-rule.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/comment.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/container.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/css-syntax-error.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/declaration.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/document.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/fromJSON.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/input.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/lazy-result.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/list.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/map-generator.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/no-work-result.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/node.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/parse.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/parser.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/postcss.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/previous-map.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/processor.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/result.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/root.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/rule.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/stringifier.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/stringify.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/symbols.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/terminal-highlight.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/tokenize.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/warn-once.js","webpack://csstools-design-tokens/./node_modules/postcss/lib/warning.js","webpack://csstools-design-tokens/./node_modules/source-map-js/lib/array-set.js","webpack://csstools-design-tokens/./node_modules/source-map-js/lib/base64-vlq.js","webpack://csstools-design-tokens/./node_modules/source-map-js/lib/base64.js","webpack://csstools-design-tokens/./node_modules/source-map-js/lib/binary-search.js","webpack://csstools-design-tokens/./node_modules/source-map-js/lib/mapping-list.js","webpack://csstools-design-tokens/./node_modules/source-map-js/lib/quick-sort.js","webpack://csstools-design-tokens/./node_modules/source-map-js/lib/source-map-consumer.js","webpack://csstools-design-tokens/./node_modules/source-map-js/lib/source-map-generator.js","webpack://csstools-design-tokens/./node_modules/source-map-js/lib/source-node.js","webpack://csstools-design-tokens/./node_modules/source-map-js/lib/util.js","webpack://csstools-design-tokens/./node_modules/source-map-js/source-map.js","webpack://csstools-design-tokens/./src/extension.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/parse-import.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/style-dictionary/style-dictionary.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/style-dictionary/v3/dereference.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/style-dictionary/v3/group.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/style-dictionary/v3/value.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/token.ts","webpack://csstools-design-tokens/./src/postcss/data-formats/toposort/toposort.ts","webpack://csstools-design-tokens/./src/postcss/index.ts","webpack://csstools-design-tokens/external commonjs \"vscode\"","webpack://csstools-design-tokens/external node-commonjs \"fs\"","webpack://csstools-design-tokens/external node-commonjs \"path\"","webpack://csstools-design-tokens/external node-commonjs \"tty\"","webpack://csstools-design-tokens/external node-commonjs \"url\"","webpack://csstools-design-tokens/./node_modules/nanoid/non-secure/index.cjs","webpack://csstools-design-tokens/webpack/bootstrap","webpack://csstools-design-tokens/webpack/startup"],"sourcesContent":["let tty = require(\"tty\")\n\nlet isColorSupported =\n\t!(\"NO_COLOR\" in process.env || process.argv.includes(\"--no-color\")) &&\n\t(\"FORCE_COLOR\" in process.env ||\n\t\tprocess.argv.includes(\"--color\") ||\n\t\tprocess.platform === \"win32\" ||\n\t\t(tty.isatty(1) && process.env.TERM !== \"dumb\") ||\n\t\t\"CI\" in process.env)\n\nlet formatter =\n\t(open, close, replace = open) =>\n\tinput => {\n\t\tlet string = \"\" + input\n\t\tlet index = string.indexOf(close, open.length)\n\t\treturn ~index\n\t\t\t? open + replaceClose(string, close, replace, index) + close\n\t\t\t: open + string + close\n\t}\n\nlet replaceClose = (string, close, replace, index) => {\n\tlet start = string.substring(0, index) + replace\n\tlet end = string.substring(index + close.length)\n\tlet nextIndex = end.indexOf(close)\n\treturn ~nextIndex ? start + replaceClose(end, close, replace, nextIndex) : start + end\n}\n\nlet createColors = (enabled = isColorSupported) => ({\n\tisColorSupported: enabled,\n\treset: enabled ? s => `\\x1b[0m${s}\\x1b[0m` : String,\n\tbold: enabled ? formatter(\"\\x1b[1m\", \"\\x1b[22m\", \"\\x1b[22m\\x1b[1m\") : String,\n\tdim: enabled ? formatter(\"\\x1b[2m\", \"\\x1b[22m\", \"\\x1b[22m\\x1b[2m\") : String,\n\titalic: enabled ? formatter(\"\\x1b[3m\", \"\\x1b[23m\") : String,\n\tunderline: enabled ? formatter(\"\\x1b[4m\", \"\\x1b[24m\") : String,\n\tinverse: enabled ? formatter(\"\\x1b[7m\", \"\\x1b[27m\") : String,\n\thidden: enabled ? formatter(\"\\x1b[8m\", \"\\x1b[28m\") : String,\n\tstrikethrough: enabled ? formatter(\"\\x1b[9m\", \"\\x1b[29m\") : String,\n\tblack: enabled ? formatter(\"\\x1b[30m\", \"\\x1b[39m\") : String,\n\tred: enabled ? formatter(\"\\x1b[31m\", \"\\x1b[39m\") : String,\n\tgreen: enabled ? formatter(\"\\x1b[32m\", \"\\x1b[39m\") : String,\n\tyellow: enabled ? formatter(\"\\x1b[33m\", \"\\x1b[39m\") : String,\n\tblue: enabled ? formatter(\"\\x1b[34m\", \"\\x1b[39m\") : String,\n\tmagenta: enabled ? formatter(\"\\x1b[35m\", \"\\x1b[39m\") : String,\n\tcyan: enabled ? formatter(\"\\x1b[36m\", \"\\x1b[39m\") : String,\n\twhite: enabled ? formatter(\"\\x1b[37m\", \"\\x1b[39m\") : String,\n\tgray: enabled ? formatter(\"\\x1b[90m\", \"\\x1b[39m\") : String,\n\tbgBlack: enabled ? formatter(\"\\x1b[40m\", \"\\x1b[49m\") : String,\n\tbgRed: enabled ? formatter(\"\\x1b[41m\", \"\\x1b[49m\") : String,\n\tbgGreen: enabled ? formatter(\"\\x1b[42m\", \"\\x1b[49m\") : String,\n\tbgYellow: enabled ? formatter(\"\\x1b[43m\", \"\\x1b[49m\") : String,\n\tbgBlue: enabled ? formatter(\"\\x1b[44m\", \"\\x1b[49m\") : String,\n\tbgMagenta: enabled ? formatter(\"\\x1b[45m\", \"\\x1b[49m\") : String,\n\tbgCyan: enabled ? formatter(\"\\x1b[46m\", \"\\x1b[49m\") : String,\n\tbgWhite: enabled ? formatter(\"\\x1b[47m\", \"\\x1b[49m\") : String,\n})\n\nmodule.exports = createColors()\nmodule.exports.createColors = createColors\n","var parse = require(\"./parse\");\nvar walk = require(\"./walk\");\nvar stringify = require(\"./stringify\");\n\nfunction ValueParser(value) {\n  if (this instanceof ValueParser) {\n    this.nodes = parse(value);\n    return this;\n  }\n  return new ValueParser(value);\n}\n\nValueParser.prototype.toString = function() {\n  return Array.isArray(this.nodes) ? stringify(this.nodes) : \"\";\n};\n\nValueParser.prototype.walk = function(cb, bubble) {\n  walk(this.nodes, cb, bubble);\n  return this;\n};\n\nValueParser.unit = require(\"./unit\");\n\nValueParser.walk = walk;\n\nValueParser.stringify = stringify;\n\nmodule.exports = ValueParser;\n","var openParentheses = \"(\".charCodeAt(0);\nvar closeParentheses = \")\".charCodeAt(0);\nvar singleQuote = \"'\".charCodeAt(0);\nvar doubleQuote = '\"'.charCodeAt(0);\nvar backslash = \"\\\\\".charCodeAt(0);\nvar slash = \"/\".charCodeAt(0);\nvar comma = \",\".charCodeAt(0);\nvar colon = \":\".charCodeAt(0);\nvar star = \"*\".charCodeAt(0);\nvar uLower = \"u\".charCodeAt(0);\nvar uUpper = \"U\".charCodeAt(0);\nvar plus = \"+\".charCodeAt(0);\nvar isUnicodeRange = /^[a-f0-9?-]+$/i;\n\nmodule.exports = function(input) {\n  var tokens = [];\n  var value = input;\n\n  var next,\n    quote,\n    prev,\n    token,\n    escape,\n    escapePos,\n    whitespacePos,\n    parenthesesOpenPos;\n  var pos = 0;\n  var code = value.charCodeAt(pos);\n  var max = value.length;\n  var stack = [{ nodes: tokens }];\n  var balanced = 0;\n  var parent;\n\n  var name = \"\";\n  var before = \"\";\n  var after = \"\";\n\n  while (pos < max) {\n    // Whitespaces\n    if (code <= 32) {\n      next = pos;\n      do {\n        next += 1;\n        code = value.charCodeAt(next);\n      } while (code <= 32);\n      token = value.slice(pos, next);\n\n      prev = tokens[tokens.length - 1];\n      if (code === closeParentheses && balanced) {\n        after = token;\n      } else if (prev && prev.type === \"div\") {\n        prev.after = token;\n        prev.sourceEndIndex += token.length;\n      } else if (\n        code === comma ||\n        code === colon ||\n        (code === slash &&\n          value.charCodeAt(next + 1) !== star &&\n          (!parent ||\n            (parent && parent.type === \"function\" && parent.value !== \"calc\")))\n      ) {\n        before = token;\n      } else {\n        tokens.push({\n          type: \"space\",\n          sourceIndex: pos,\n          sourceEndIndex: next,\n          value: token\n        });\n      }\n\n      pos = next;\n\n      // Quotes\n    } else if (code === singleQuote || code === doubleQuote) {\n      next = pos;\n      quote = code === singleQuote ? \"'\" : '\"';\n      token = {\n        type: \"string\",\n        sourceIndex: pos,\n        quote: quote\n      };\n      do {\n        escape = false;\n        next = value.indexOf(quote, next + 1);\n        if (~next) {\n          escapePos = next;\n          while (value.charCodeAt(escapePos - 1) === backslash) {\n            escapePos -= 1;\n            escape = !escape;\n          }\n        } else {\n          value += quote;\n          next = value.length - 1;\n          token.unclosed = true;\n        }\n      } while (escape);\n      token.value = value.slice(pos + 1, next);\n      token.sourceEndIndex = token.unclosed ? next : next + 1;\n      tokens.push(token);\n      pos = next + 1;\n      code = value.charCodeAt(pos);\n\n      // Comments\n    } else if (code === slash && value.charCodeAt(pos + 1) === star) {\n      next = value.indexOf(\"*/\", pos);\n\n      token = {\n        type: \"comment\",\n        sourceIndex: pos,\n        sourceEndIndex: next + 2\n      };\n\n      if (next === -1) {\n        token.unclosed = true;\n        next = value.length;\n        token.sourceEndIndex = next;\n      }\n\n      token.value = value.slice(pos + 2, next);\n      tokens.push(token);\n\n      pos = next + 2;\n      code = value.charCodeAt(pos);\n\n      // Operation within calc\n    } else if (\n      (code === slash || code === star) &&\n      parent &&\n      parent.type === \"function\" &&\n      parent.value === \"calc\"\n    ) {\n      token = value[pos];\n      tokens.push({\n        type: \"word\",\n        sourceIndex: pos - before.length,\n        sourceEndIndex: pos + token.length,\n        value: token\n      });\n      pos += 1;\n      code = value.charCodeAt(pos);\n\n      // Dividers\n    } else if (code === slash || code === comma || code === colon) {\n      token = value[pos];\n\n      tokens.push({\n        type: \"div\",\n        sourceIndex: pos - before.length,\n        sourceEndIndex: pos + token.length,\n        value: token,\n        before: before,\n        after: \"\"\n      });\n      before = \"\";\n\n      pos += 1;\n      code = value.charCodeAt(pos);\n\n      // Open parentheses\n    } else if (openParentheses === code) {\n      // Whitespaces after open parentheses\n      next = pos;\n      do {\n        next += 1;\n        code = value.charCodeAt(next);\n      } while (code <= 32);\n      parenthesesOpenPos = pos;\n      token = {\n        type: \"function\",\n        sourceIndex: pos - name.length,\n        value: name,\n        before: value.slice(parenthesesOpenPos + 1, next)\n      };\n      pos = next;\n\n      if (name === \"url\" && code !== singleQuote && code !== doubleQuote) {\n        next -= 1;\n        do {\n          escape = false;\n          next = value.indexOf(\")\", next + 1);\n          if (~next) {\n            escapePos = next;\n            while (value.charCodeAt(escapePos - 1) === backslash) {\n              escapePos -= 1;\n              escape = !escape;\n            }\n          } else {\n            value += \")\";\n            next = value.length - 1;\n            token.unclosed = true;\n          }\n        } while (escape);\n        // Whitespaces before closed\n        whitespacePos = next;\n        do {\n          whitespacePos -= 1;\n          code = value.charCodeAt(whitespacePos);\n        } while (code <= 32);\n        if (parenthesesOpenPos < whitespacePos) {\n          if (pos !== whitespacePos + 1) {\n            token.nodes = [\n              {\n                type: \"word\",\n                sourceIndex: pos,\n                sourceEndIndex: whitespacePos + 1,\n                value: value.slice(pos, whitespacePos + 1)\n              }\n            ];\n          } else {\n            token.nodes = [];\n          }\n          if (token.unclosed && whitespacePos + 1 !== next) {\n            token.after = \"\";\n            token.nodes.push({\n              type: \"space\",\n              sourceIndex: whitespacePos + 1,\n              sourceEndIndex: next,\n              value: value.slice(whitespacePos + 1, next)\n            });\n          } else {\n            token.after = value.slice(whitespacePos + 1, next);\n            token.sourceEndIndex = next;\n          }\n        } else {\n          token.after = \"\";\n          token.nodes = [];\n        }\n        pos = next + 1;\n        token.sourceEndIndex = token.unclosed ? next : pos;\n        code = value.charCodeAt(pos);\n        tokens.push(token);\n      } else {\n        balanced += 1;\n        token.after = \"\";\n        token.sourceEndIndex = pos + 1;\n        tokens.push(token);\n        stack.push(token);\n        tokens = token.nodes = [];\n        parent = token;\n      }\n      name = \"\";\n\n      // Close parentheses\n    } else if (closeParentheses === code && balanced) {\n      pos += 1;\n      code = value.charCodeAt(pos);\n\n      parent.after = after;\n      parent.sourceEndIndex += after.length;\n      after = \"\";\n      balanced -= 1;\n      stack[stack.length - 1].sourceEndIndex = pos;\n      stack.pop();\n      parent = stack[balanced];\n      tokens = parent.nodes;\n\n      // Words\n    } else {\n      next = pos;\n      do {\n        if (code === backslash) {\n          next += 1;\n        }\n        next += 1;\n        code = value.charCodeAt(next);\n      } while (\n        next < max &&\n        !(\n          code <= 32 ||\n          code === singleQuote ||\n          code === doubleQuote ||\n          code === comma ||\n          code === colon ||\n          code === slash ||\n          code === openParentheses ||\n          (code === star &&\n            parent &&\n            parent.type === \"function\" &&\n            parent.value === \"calc\") ||\n          (code === slash &&\n            parent.type === \"function\" &&\n            parent.value === \"calc\") ||\n          (code === closeParentheses && balanced)\n        )\n      );\n      token = value.slice(pos, next);\n\n      if (openParentheses === code) {\n        name = token;\n      } else if (\n        (uLower === token.charCodeAt(0) || uUpper === token.charCodeAt(0)) &&\n        plus === token.charCodeAt(1) &&\n        isUnicodeRange.test(token.slice(2))\n      ) {\n        tokens.push({\n          type: \"unicode-range\",\n          sourceIndex: pos,\n          sourceEndIndex: next,\n          value: token\n        });\n      } else {\n        tokens.push({\n          type: \"word\",\n          sourceIndex: pos,\n          sourceEndIndex: next,\n          value: token\n        });\n      }\n\n      pos = next;\n    }\n  }\n\n  for (pos = stack.length - 1; pos; pos -= 1) {\n    stack[pos].unclosed = true;\n    stack[pos].sourceEndIndex = value.length;\n  }\n\n  return stack[0].nodes;\n};\n","function stringifyNode(node, custom) {\n  var type = node.type;\n  var value = node.value;\n  var buf;\n  var customResult;\n\n  if (custom && (customResult = custom(node)) !== undefined) {\n    return customResult;\n  } else if (type === \"word\" || type === \"space\") {\n    return value;\n  } else if (type === \"string\") {\n    buf = node.quote || \"\";\n    return buf + value + (node.unclosed ? \"\" : buf);\n  } else if (type === \"comment\") {\n    return \"/*\" + value + (node.unclosed ? \"\" : \"*/\");\n  } else if (type === \"div\") {\n    return (node.before || \"\") + value + (node.after || \"\");\n  } else if (Array.isArray(node.nodes)) {\n    buf = stringify(node.nodes, custom);\n    if (type !== \"function\") {\n      return buf;\n    }\n    return (\n      value +\n      \"(\" +\n      (node.before || \"\") +\n      buf +\n      (node.after || \"\") +\n      (node.unclosed ? \"\" : \")\")\n    );\n  }\n  return value;\n}\n\nfunction stringify(nodes, custom) {\n  var result, i;\n\n  if (Array.isArray(nodes)) {\n    result = \"\";\n    for (i = nodes.length - 1; ~i; i -= 1) {\n      result = stringifyNode(nodes[i], custom) + result;\n    }\n    return result;\n  }\n  return stringifyNode(nodes, custom);\n}\n\nmodule.exports = stringify;\n","var minus = \"-\".charCodeAt(0);\nvar plus = \"+\".charCodeAt(0);\nvar dot = \".\".charCodeAt(0);\nvar exp = \"e\".charCodeAt(0);\nvar EXP = \"E\".charCodeAt(0);\n\n// Check if three code points would start a number\n// https://www.w3.org/TR/css-syntax-3/#starts-with-a-number\nfunction likeNumber(value) {\n  var code = value.charCodeAt(0);\n  var nextCode;\n\n  if (code === plus || code === minus) {\n    nextCode = value.charCodeAt(1);\n\n    if (nextCode >= 48 && nextCode <= 57) {\n      return true;\n    }\n\n    var nextNextCode = value.charCodeAt(2);\n\n    if (nextCode === dot && nextNextCode >= 48 && nextNextCode <= 57) {\n      return true;\n    }\n\n    return false;\n  }\n\n  if (code === dot) {\n    nextCode = value.charCodeAt(1);\n\n    if (nextCode >= 48 && nextCode <= 57) {\n      return true;\n    }\n\n    return false;\n  }\n\n  if (code >= 48 && code <= 57) {\n    return true;\n  }\n\n  return false;\n}\n\n// Consume a number\n// https://www.w3.org/TR/css-syntax-3/#consume-number\nmodule.exports = function(value) {\n  var pos = 0;\n  var length = value.length;\n  var code;\n  var nextCode;\n  var nextNextCode;\n\n  if (length === 0 || !likeNumber(value)) {\n    return false;\n  }\n\n  code = value.charCodeAt(pos);\n\n  if (code === plus || code === minus) {\n    pos++;\n  }\n\n  while (pos < length) {\n    code = value.charCodeAt(pos);\n\n    if (code < 48 || code > 57) {\n      break;\n    }\n\n    pos += 1;\n  }\n\n  code = value.charCodeAt(pos);\n  nextCode = value.charCodeAt(pos + 1);\n\n  if (code === dot && nextCode >= 48 && nextCode <= 57) {\n    pos += 2;\n\n    while (pos < length) {\n      code = value.charCodeAt(pos);\n\n      if (code < 48 || code > 57) {\n        break;\n      }\n\n      pos += 1;\n    }\n  }\n\n  code = value.charCodeAt(pos);\n  nextCode = value.charCodeAt(pos + 1);\n  nextNextCode = value.charCodeAt(pos + 2);\n\n  if (\n    (code === exp || code === EXP) &&\n    ((nextCode >= 48 && nextCode <= 57) ||\n      ((nextCode === plus || nextCode === minus) &&\n        nextNextCode >= 48 &&\n        nextNextCode <= 57))\n  ) {\n    pos += nextCode === plus || nextCode === minus ? 3 : 2;\n\n    while (pos < length) {\n      code = value.charCodeAt(pos);\n\n      if (code < 48 || code > 57) {\n        break;\n      }\n\n      pos += 1;\n    }\n  }\n\n  return {\n    number: value.slice(0, pos),\n    unit: value.slice(pos)\n  };\n};\n","module.exports = function walk(nodes, cb, bubble) {\n  var i, max, node, result;\n\n  for (i = 0, max = nodes.length; i < max; i += 1) {\n    node = nodes[i];\n    if (!bubble) {\n      result = cb(node, i, nodes);\n    }\n\n    if (\n      result !== false &&\n      node.type === \"function\" &&\n      Array.isArray(node.nodes)\n    ) {\n      walk(node.nodes, cb, bubble);\n    }\n\n    if (bubble) {\n      cb(node, i, nodes);\n    }\n  }\n};\n","'use strict'\n\nlet Container = require('./container')\n\nclass AtRule extends Container {\n  constructor(defaults) {\n    super(defaults)\n    this.type = 'atrule'\n  }\n\n  append(...children) {\n    if (!this.proxyOf.nodes) this.nodes = []\n    return super.append(...children)\n  }\n\n  prepend(...children) {\n    if (!this.proxyOf.nodes) this.nodes = []\n    return super.prepend(...children)\n  }\n}\n\nmodule.exports = AtRule\nAtRule.default = AtRule\n\nContainer.registerAtRule(AtRule)\n","'use strict'\n\nlet Node = require('./node')\n\nclass Comment extends Node {\n  constructor(defaults) {\n    super(defaults)\n    this.type = 'comment'\n  }\n}\n\nmodule.exports = Comment\nComment.default = Comment\n","'use strict'\n\nlet { isClean, my } = require('./symbols')\nlet Declaration = require('./declaration')\nlet Comment = require('./comment')\nlet Node = require('./node')\n\nlet parse, Rule, AtRule, Root\n\nfunction cleanSource(nodes) {\n  return nodes.map(i => {\n    if (i.nodes) i.nodes = cleanSource(i.nodes)\n    delete i.source\n    return i\n  })\n}\n\nfunction markDirtyUp(node) {\n  node[isClean] = false\n  if (node.proxyOf.nodes) {\n    for (let i of node.proxyOf.nodes) {\n      markDirtyUp(i)\n    }\n  }\n}\n\nclass Container extends Node {\n  push(child) {\n    child.parent = this\n    this.proxyOf.nodes.push(child)\n    return this\n  }\n\n  each(callback) {\n    if (!this.proxyOf.nodes) return undefined\n    let iterator = this.getIterator()\n\n    let index, result\n    while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n      index = this.indexes[iterator]\n      result = callback(this.proxyOf.nodes[index], index)\n      if (result === false) break\n\n      this.indexes[iterator] += 1\n    }\n\n    delete this.indexes[iterator]\n    return result\n  }\n\n  walk(callback) {\n    return this.each((child, i) => {\n      let result\n      try {\n        result = callback(child, i)\n      } catch (e) {\n        throw child.addToError(e)\n      }\n      if (result !== false && child.walk) {\n        result = child.walk(callback)\n      }\n\n      return result\n    })\n  }\n\n  walkDecls(prop, callback) {\n    if (!callback) {\n      callback = prop\n      return this.walk((child, i) => {\n        if (child.type === 'decl') {\n          return callback(child, i)\n        }\n      })\n    }\n    if (prop instanceof RegExp) {\n      return this.walk((child, i) => {\n        if (child.type === 'decl' && prop.test(child.prop)) {\n          return callback(child, i)\n        }\n      })\n    }\n    return this.walk((child, i) => {\n      if (child.type === 'decl' && child.prop === prop) {\n        return callback(child, i)\n      }\n    })\n  }\n\n  walkRules(selector, callback) {\n    if (!callback) {\n      callback = selector\n\n      return this.walk((child, i) => {\n        if (child.type === 'rule') {\n          return callback(child, i)\n        }\n      })\n    }\n    if (selector instanceof RegExp) {\n      return this.walk((child, i) => {\n        if (child.type === 'rule' && selector.test(child.selector)) {\n          return callback(child, i)\n        }\n      })\n    }\n    return this.walk((child, i) => {\n      if (child.type === 'rule' && child.selector === selector) {\n        return callback(child, i)\n      }\n    })\n  }\n\n  walkAtRules(name, callback) {\n    if (!callback) {\n      callback = name\n      return this.walk((child, i) => {\n        if (child.type === 'atrule') {\n          return callback(child, i)\n        }\n      })\n    }\n    if (name instanceof RegExp) {\n      return this.walk((child, i) => {\n        if (child.type === 'atrule' && name.test(child.name)) {\n          return callback(child, i)\n        }\n      })\n    }\n    return this.walk((child, i) => {\n      if (child.type === 'atrule' && child.name === name) {\n        return callback(child, i)\n      }\n    })\n  }\n\n  walkComments(callback) {\n    return this.walk((child, i) => {\n      if (child.type === 'comment') {\n        return callback(child, i)\n      }\n    })\n  }\n\n  append(...children) {\n    for (let child of children) {\n      let nodes = this.normalize(child, this.last)\n      for (let node of nodes) this.proxyOf.nodes.push(node)\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  prepend(...children) {\n    children = children.reverse()\n    for (let child of children) {\n      let nodes = this.normalize(child, this.first, 'prepend').reverse()\n      for (let node of nodes) this.proxyOf.nodes.unshift(node)\n      for (let id in this.indexes) {\n        this.indexes[id] = this.indexes[id] + nodes.length\n      }\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  cleanRaws(keepBetween) {\n    super.cleanRaws(keepBetween)\n    if (this.nodes) {\n      for (let node of this.nodes) node.cleanRaws(keepBetween)\n    }\n  }\n\n  insertBefore(exist, add) {\n    let existIndex = this.index(exist)\n    let type = existIndex === 0 ? 'prepend' : false\n    let nodes = this.normalize(add, this.proxyOf.nodes[existIndex], type).reverse()\n    existIndex = this.index(exist)\n    for (let node of nodes) this.proxyOf.nodes.splice(existIndex, 0, node)\n\n    let index\n    for (let id in this.indexes) {\n      index = this.indexes[id]\n      if (existIndex <= index) {\n        this.indexes[id] = index + nodes.length\n      }\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  insertAfter(exist, add) {\n    let existIndex = this.index(exist)\n    let nodes = this.normalize(add, this.proxyOf.nodes[existIndex]).reverse()\n    existIndex = this.index(exist)\n    for (let node of nodes) this.proxyOf.nodes.splice(existIndex + 1, 0, node)\n\n    let index\n    for (let id in this.indexes) {\n      index = this.indexes[id]\n      if (existIndex < index) {\n        this.indexes[id] = index + nodes.length\n      }\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  removeChild(child) {\n    child = this.index(child)\n    this.proxyOf.nodes[child].parent = undefined\n    this.proxyOf.nodes.splice(child, 1)\n\n    let index\n    for (let id in this.indexes) {\n      index = this.indexes[id]\n      if (index >= child) {\n        this.indexes[id] = index - 1\n      }\n    }\n\n    this.markDirty()\n\n    return this\n  }\n\n  removeAll() {\n    for (let node of this.proxyOf.nodes) node.parent = undefined\n    this.proxyOf.nodes = []\n\n    this.markDirty()\n\n    return this\n  }\n\n  replaceValues(pattern, opts, callback) {\n    if (!callback) {\n      callback = opts\n      opts = {}\n    }\n\n    this.walkDecls(decl => {\n      if (opts.props && !opts.props.includes(decl.prop)) return\n      if (opts.fast && !decl.value.includes(opts.fast)) return\n\n      decl.value = decl.value.replace(pattern, callback)\n    })\n\n    this.markDirty()\n\n    return this\n  }\n\n  every(condition) {\n    return this.nodes.every(condition)\n  }\n\n  some(condition) {\n    return this.nodes.some(condition)\n  }\n\n  index(child) {\n    if (typeof child === 'number') return child\n    if (child.proxyOf) child = child.proxyOf\n    return this.proxyOf.nodes.indexOf(child)\n  }\n\n  get first() {\n    if (!this.proxyOf.nodes) return undefined\n    return this.proxyOf.nodes[0]\n  }\n\n  get last() {\n    if (!this.proxyOf.nodes) return undefined\n    return this.proxyOf.nodes[this.proxyOf.nodes.length - 1]\n  }\n\n  normalize(nodes, sample) {\n    if (typeof nodes === 'string') {\n      nodes = cleanSource(parse(nodes).nodes)\n    } else if (Array.isArray(nodes)) {\n      nodes = nodes.slice(0)\n      for (let i of nodes) {\n        if (i.parent) i.parent.removeChild(i, 'ignore')\n      }\n    } else if (nodes.type === 'root' && this.type !== 'document') {\n      nodes = nodes.nodes.slice(0)\n      for (let i of nodes) {\n        if (i.parent) i.parent.removeChild(i, 'ignore')\n      }\n    } else if (nodes.type) {\n      nodes = [nodes]\n    } else if (nodes.prop) {\n      if (typeof nodes.value === 'undefined') {\n        throw new Error('Value field is missed in node creation')\n      } else if (typeof nodes.value !== 'string') {\n        nodes.value = String(nodes.value)\n      }\n      nodes = [new Declaration(nodes)]\n    } else if (nodes.selector) {\n      nodes = [new Rule(nodes)]\n    } else if (nodes.name) {\n      nodes = [new AtRule(nodes)]\n    } else if (nodes.text) {\n      nodes = [new Comment(nodes)]\n    } else {\n      throw new Error('Unknown node type in node creation')\n    }\n\n    let processed = nodes.map(i => {\n      /* c8 ignore next */\n      if (!i[my]) Container.rebuild(i)\n      i = i.proxyOf\n      if (i.parent) i.parent.removeChild(i)\n      if (i[isClean]) markDirtyUp(i)\n      if (typeof i.raws.before === 'undefined') {\n        if (sample && typeof sample.raws.before !== 'undefined') {\n          i.raws.before = sample.raws.before.replace(/\\S/g, '')\n        }\n      }\n      i.parent = this.proxyOf\n      return i\n    })\n\n    return processed\n  }\n\n  getProxyProcessor() {\n    return {\n      set(node, prop, value) {\n        if (node[prop] === value) return true\n        node[prop] = value\n        if (prop === 'name' || prop === 'params' || prop === 'selector') {\n          node.markDirty()\n        }\n        return true\n      },\n\n      get(node, prop) {\n        if (prop === 'proxyOf') {\n          return node\n        } else if (!node[prop]) {\n          return node[prop]\n        } else if (\n          prop === 'each' ||\n          (typeof prop === 'string' && prop.startsWith('walk'))\n        ) {\n          return (...args) => {\n            return node[prop](\n              ...args.map(i => {\n                if (typeof i === 'function') {\n                  return (child, index) => i(child.toProxy(), index)\n                } else {\n                  return i\n                }\n              })\n            )\n          }\n        } else if (prop === 'every' || prop === 'some') {\n          return cb => {\n            return node[prop]((child, ...other) =>\n              cb(child.toProxy(), ...other)\n            )\n          }\n        } else if (prop === 'root') {\n          return () => node.root().toProxy()\n        } else if (prop === 'nodes') {\n          return node.nodes.map(i => i.toProxy())\n        } else if (prop === 'first' || prop === 'last') {\n          return node[prop].toProxy()\n        } else {\n          return node[prop]\n        }\n      }\n    }\n  }\n\n  getIterator() {\n    if (!this.lastEach) this.lastEach = 0\n    if (!this.indexes) this.indexes = {}\n\n    this.lastEach += 1\n    let iterator = this.lastEach\n    this.indexes[iterator] = 0\n\n    return iterator\n  }\n}\n\nContainer.registerParse = dependant => {\n  parse = dependant\n}\n\nContainer.registerRule = dependant => {\n  Rule = dependant\n}\n\nContainer.registerAtRule = dependant => {\n  AtRule = dependant\n}\n\nContainer.registerRoot = dependant => {\n  Root = dependant\n}\n\nmodule.exports = Container\nContainer.default = Container\n\n/* c8 ignore start */\nContainer.rebuild = node => {\n  if (node.type === 'atrule') {\n    Object.setPrototypeOf(node, AtRule.prototype)\n  } else if (node.type === 'rule') {\n    Object.setPrototypeOf(node, Rule.prototype)\n  } else if (node.type === 'decl') {\n    Object.setPrototypeOf(node, Declaration.prototype)\n  } else if (node.type === 'comment') {\n    Object.setPrototypeOf(node, Comment.prototype)\n  } else if (node.type === 'root') {\n    Object.setPrototypeOf(node, Root.prototype)\n  }\n\n  node[my] = true\n\n  if (node.nodes) {\n    node.nodes.forEach(child => {\n      Container.rebuild(child)\n    })\n  }\n}\n/* c8 ignore stop */\n","'use strict'\n\nlet pico = require('picocolors')\n\nlet terminalHighlight = require('./terminal-highlight')\n\nclass CssSyntaxError extends Error {\n  constructor(message, line, column, source, file, plugin) {\n    super(message)\n    this.name = 'CssSyntaxError'\n    this.reason = message\n\n    if (file) {\n      this.file = file\n    }\n    if (source) {\n      this.source = source\n    }\n    if (plugin) {\n      this.plugin = plugin\n    }\n    if (typeof line !== 'undefined' && typeof column !== 'undefined') {\n      if (typeof line === 'number') {\n        this.line = line\n        this.column = column\n      } else {\n        this.line = line.line\n        this.column = line.column\n        this.endLine = column.line\n        this.endColumn = column.column\n      }\n    }\n\n    this.setMessage()\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, CssSyntaxError)\n    }\n  }\n\n  setMessage() {\n    this.message = this.plugin ? this.plugin + ': ' : ''\n    this.message += this.file ? this.file : '<css input>'\n    if (typeof this.line !== 'undefined') {\n      this.message += ':' + this.line + ':' + this.column\n    }\n    this.message += ': ' + this.reason\n  }\n\n  showSourceCode(color) {\n    if (!this.source) return ''\n\n    let css = this.source\n    if (color == null) color = pico.isColorSupported\n    if (terminalHighlight) {\n      if (color) css = terminalHighlight(css)\n    }\n\n    let lines = css.split(/\\r?\\n/)\n    let start = Math.max(this.line - 3, 0)\n    let end = Math.min(this.line + 2, lines.length)\n\n    let maxWidth = String(end).length\n\n    let mark, aside\n    if (color) {\n      let { bold, red, gray } = pico.createColors(true)\n      mark = text => bold(red(text))\n      aside = text => gray(text)\n    } else {\n      mark = aside = str => str\n    }\n\n    return lines\n      .slice(start, end)\n      .map((line, index) => {\n        let number = start + 1 + index\n        let gutter = ' ' + (' ' + number).slice(-maxWidth) + ' | '\n        if (number === this.line) {\n          let spacing =\n            aside(gutter.replace(/\\d/g, ' ')) +\n            line.slice(0, this.column - 1).replace(/[^\\t]/g, ' ')\n          return mark('>') + aside(gutter) + line + '\\n ' + spacing + mark('^')\n        }\n        return ' ' + aside(gutter) + line\n      })\n      .join('\\n')\n  }\n\n  toString() {\n    let code = this.showSourceCode()\n    if (code) {\n      code = '\\n\\n' + code + '\\n'\n    }\n    return this.name + ': ' + this.message + code\n  }\n}\n\nmodule.exports = CssSyntaxError\nCssSyntaxError.default = CssSyntaxError\n","'use strict'\n\nlet Node = require('./node')\n\nclass Declaration extends Node {\n  constructor(defaults) {\n    if (\n      defaults &&\n      typeof defaults.value !== 'undefined' &&\n      typeof defaults.value !== 'string'\n    ) {\n      defaults = { ...defaults, value: String(defaults.value) }\n    }\n    super(defaults)\n    this.type = 'decl'\n  }\n\n  get variable() {\n    return this.prop.startsWith('--') || this.prop[0] === '$'\n  }\n}\n\nmodule.exports = Declaration\nDeclaration.default = Declaration\n","'use strict'\n\nlet Container = require('./container')\n\nlet LazyResult, Processor\n\nclass Document extends Container {\n  constructor(defaults) {\n    // type needs to be passed to super, otherwise child roots won't be normalized correctly\n    super({ type: 'document', ...defaults })\n\n    if (!this.nodes) {\n      this.nodes = []\n    }\n  }\n\n  toResult(opts = {}) {\n    let lazy = new LazyResult(new Processor(), this, opts)\n\n    return lazy.stringify()\n  }\n}\n\nDocument.registerLazyResult = dependant => {\n  LazyResult = dependant\n}\n\nDocument.registerProcessor = dependant => {\n  Processor = dependant\n}\n\nmodule.exports = Document\nDocument.default = Document\n","'use strict'\n\nlet Declaration = require('./declaration')\nlet PreviousMap = require('./previous-map')\nlet Comment = require('./comment')\nlet AtRule = require('./at-rule')\nlet Input = require('./input')\nlet Root = require('./root')\nlet Rule = require('./rule')\n\nfunction fromJSON(json, inputs) {\n  if (Array.isArray(json)) return json.map(n => fromJSON(n))\n\n  let { inputs: ownInputs, ...defaults } = json\n  if (ownInputs) {\n    inputs = []\n    for (let input of ownInputs) {\n      let inputHydrated = { ...input, __proto__: Input.prototype }\n      if (inputHydrated.map) {\n        inputHydrated.map = {\n          ...inputHydrated.map,\n          __proto__: PreviousMap.prototype\n        }\n      }\n      inputs.push(inputHydrated)\n    }\n  }\n  if (defaults.nodes) {\n    defaults.nodes = json.nodes.map(n => fromJSON(n, inputs))\n  }\n  if (defaults.source) {\n    let { inputId, ...source } = defaults.source\n    defaults.source = source\n    if (inputId != null) {\n      defaults.source.input = inputs[inputId]\n    }\n  }\n  if (defaults.type === 'root') {\n    return new Root(defaults)\n  } else if (defaults.type === 'decl') {\n    return new Declaration(defaults)\n  } else if (defaults.type === 'rule') {\n    return new Rule(defaults)\n  } else if (defaults.type === 'comment') {\n    return new Comment(defaults)\n  } else if (defaults.type === 'atrule') {\n    return new AtRule(defaults)\n  } else {\n    throw new Error('Unknown node type: ' + json.type)\n  }\n}\n\nmodule.exports = fromJSON\nfromJSON.default = fromJSON\n","'use strict'\n\nlet { SourceMapConsumer, SourceMapGenerator } = require('source-map-js')\nlet { fileURLToPath, pathToFileURL } = require('url')\nlet { resolve, isAbsolute } = require('path')\nlet { nanoid } = require('nanoid/non-secure')\n\nlet terminalHighlight = require('./terminal-highlight')\nlet CssSyntaxError = require('./css-syntax-error')\nlet PreviousMap = require('./previous-map')\n\nlet fromOffsetCache = Symbol('fromOffsetCache')\n\nlet sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator)\nlet pathAvailable = Boolean(resolve && isAbsolute)\n\nclass Input {\n  constructor(css, opts = {}) {\n    if (\n      css === null ||\n      typeof css === 'undefined' ||\n      (typeof css === 'object' && !css.toString)\n    ) {\n      throw new Error(`PostCSS received ${css} instead of CSS string`)\n    }\n\n    this.css = css.toString()\n\n    if (this.css[0] === '\\uFEFF' || this.css[0] === '\\uFFFE') {\n      this.hasBOM = true\n      this.css = this.css.slice(1)\n    } else {\n      this.hasBOM = false\n    }\n\n    if (opts.from) {\n      if (\n        !pathAvailable ||\n        /^\\w+:\\/\\//.test(opts.from) ||\n        isAbsolute(opts.from)\n      ) {\n        this.file = opts.from\n      } else {\n        this.file = resolve(opts.from)\n      }\n    }\n\n    if (pathAvailable && sourceMapAvailable) {\n      let map = new PreviousMap(this.css, opts)\n      if (map.text) {\n        this.map = map\n        let file = map.consumer().file\n        if (!this.file && file) this.file = this.mapResolve(file)\n      }\n    }\n\n    if (!this.file) {\n      this.id = '<input css ' + nanoid(6) + '>'\n    }\n    if (this.map) this.map.file = this.from\n  }\n\n  fromOffset(offset) {\n    let lastLine, lineToIndex\n    if (!this[fromOffsetCache]) {\n      let lines = this.css.split('\\n')\n      lineToIndex = new Array(lines.length)\n      let prevIndex = 0\n\n      for (let i = 0, l = lines.length; i < l; i++) {\n        lineToIndex[i] = prevIndex\n        prevIndex += lines[i].length + 1\n      }\n\n      this[fromOffsetCache] = lineToIndex\n    } else {\n      lineToIndex = this[fromOffsetCache]\n    }\n    lastLine = lineToIndex[lineToIndex.length - 1]\n\n    let min = 0\n    if (offset >= lastLine) {\n      min = lineToIndex.length - 1\n    } else {\n      let max = lineToIndex.length - 2\n      let mid\n      while (min < max) {\n        mid = min + ((max - min) >> 1)\n        if (offset < lineToIndex[mid]) {\n          max = mid - 1\n        } else if (offset >= lineToIndex[mid + 1]) {\n          min = mid + 1\n        } else {\n          min = mid\n          break\n        }\n      }\n    }\n    return {\n      line: min + 1,\n      col: offset - lineToIndex[min] + 1\n    }\n  }\n\n  error(message, line, column, opts = {}) {\n    let result, endLine, endColumn\n\n    if (line && typeof line === 'object') {\n      let start = line\n      let end = column\n      if (typeof start.offset === 'number') {\n        let pos = this.fromOffset(start.offset)\n        line = pos.line\n        column = pos.col\n      } else {\n        line = start.line\n        column = start.column\n      }\n      if (typeof end.offset === 'number') {\n        let pos = this.fromOffset(end.offset)\n        endLine = pos.line\n        endColumn = pos.col\n      } else {\n        endLine = end.line\n        endColumn = end.column\n      }\n    } else if (!column) {\n      let pos = this.fromOffset(line)\n      line = pos.line\n      column = pos.col\n    }\n\n    let origin = this.origin(line, column, endLine, endColumn)\n    if (origin) {\n      result = new CssSyntaxError(\n        message,\n        origin.endLine === undefined\n          ? origin.line\n          : { line: origin.line, column: origin.column },\n        origin.endLine === undefined\n          ? origin.column\n          : { line: origin.endLine, column: origin.endColumn },\n        origin.source,\n        origin.file,\n        opts.plugin\n      )\n    } else {\n      result = new CssSyntaxError(\n        message,\n        endLine === undefined ? line : { line, column },\n        endLine === undefined ? column : { line: endLine, column: endColumn },\n        this.css,\n        this.file,\n        opts.plugin\n      )\n    }\n\n    result.input = { line, column, endLine, endColumn, source: this.css }\n    if (this.file) {\n      if (pathToFileURL) {\n        result.input.url = pathToFileURL(this.file).toString()\n      }\n      result.input.file = this.file\n    }\n\n    return result\n  }\n\n  origin(line, column, endLine, endColumn) {\n    if (!this.map) return false\n    let consumer = this.map.consumer()\n\n    let from = consumer.originalPositionFor({ line, column })\n    if (!from.source) return false\n\n    let to\n    if (typeof endLine === 'number') {\n      to = consumer.originalPositionFor({ line: endLine, column: endColumn })\n    }\n\n    let fromUrl\n\n    if (isAbsolute(from.source)) {\n      fromUrl = pathToFileURL(from.source)\n    } else {\n      fromUrl = new URL(\n        from.source,\n        this.map.consumer().sourceRoot || pathToFileURL(this.map.mapFile)\n      )\n    }\n\n    let result = {\n      url: fromUrl.toString(),\n      line: from.line,\n      column: from.column,\n      endLine: to && to.line,\n      endColumn: to && to.column\n    }\n\n    if (fromUrl.protocol === 'file:') {\n      if (fileURLToPath) {\n        result.file = fileURLToPath(fromUrl)\n      } else {\n        /* c8 ignore next 2 */\n        throw new Error(`file: protocol is not available in this PostCSS build`)\n      }\n    }\n\n    let source = consumer.sourceContentFor(from.source)\n    if (source) result.source = source\n\n    return result\n  }\n\n  mapResolve(file) {\n    if (/^\\w+:\\/\\//.test(file)) {\n      return file\n    }\n    return resolve(this.map.consumer().sourceRoot || this.map.root || '.', file)\n  }\n\n  get from() {\n    return this.file || this.id\n  }\n\n  toJSON() {\n    let json = {}\n    for (let name of ['hasBOM', 'css', 'file', 'id']) {\n      if (this[name] != null) {\n        json[name] = this[name]\n      }\n    }\n    if (this.map) {\n      json.map = { ...this.map }\n      if (json.map.consumerCache) {\n        json.map.consumerCache = undefined\n      }\n    }\n    return json\n  }\n}\n\nmodule.exports = Input\nInput.default = Input\n\nif (terminalHighlight && terminalHighlight.registerInput) {\n  terminalHighlight.registerInput(Input)\n}\n","'use strict'\n\nlet { isClean, my } = require('./symbols')\nlet MapGenerator = require('./map-generator')\nlet stringify = require('./stringify')\nlet Container = require('./container')\nlet Document = require('./document')\nlet warnOnce = require('./warn-once')\nlet Result = require('./result')\nlet parse = require('./parse')\nlet Root = require('./root')\n\nconst TYPE_TO_CLASS_NAME = {\n  document: 'Document',\n  root: 'Root',\n  atrule: 'AtRule',\n  rule: 'Rule',\n  decl: 'Declaration',\n  comment: 'Comment'\n}\n\nconst PLUGIN_PROPS = {\n  postcssPlugin: true,\n  prepare: true,\n  Once: true,\n  Document: true,\n  Root: true,\n  Declaration: true,\n  Rule: true,\n  AtRule: true,\n  Comment: true,\n  DeclarationExit: true,\n  RuleExit: true,\n  AtRuleExit: true,\n  CommentExit: true,\n  RootExit: true,\n  DocumentExit: true,\n  OnceExit: true\n}\n\nconst NOT_VISITORS = {\n  postcssPlugin: true,\n  prepare: true,\n  Once: true\n}\n\nconst CHILDREN = 0\n\nfunction isPromise(obj) {\n  return typeof obj === 'object' && typeof obj.then === 'function'\n}\n\nfunction getEvents(node) {\n  let key = false\n  let type = TYPE_TO_CLASS_NAME[node.type]\n  if (node.type === 'decl') {\n    key = node.prop.toLowerCase()\n  } else if (node.type === 'atrule') {\n    key = node.name.toLowerCase()\n  }\n\n  if (key && node.append) {\n    return [\n      type,\n      type + '-' + key,\n      CHILDREN,\n      type + 'Exit',\n      type + 'Exit-' + key\n    ]\n  } else if (key) {\n    return [type, type + '-' + key, type + 'Exit', type + 'Exit-' + key]\n  } else if (node.append) {\n    return [type, CHILDREN, type + 'Exit']\n  } else {\n    return [type, type + 'Exit']\n  }\n}\n\nfunction toStack(node) {\n  let events\n  if (node.type === 'document') {\n    events = ['Document', CHILDREN, 'DocumentExit']\n  } else if (node.type === 'root') {\n    events = ['Root', CHILDREN, 'RootExit']\n  } else {\n    events = getEvents(node)\n  }\n\n  return {\n    node,\n    events,\n    eventIndex: 0,\n    visitors: [],\n    visitorIndex: 0,\n    iterator: 0\n  }\n}\n\nfunction cleanMarks(node) {\n  node[isClean] = false\n  if (node.nodes) node.nodes.forEach(i => cleanMarks(i))\n  return node\n}\n\nlet postcss = {}\n\nclass LazyResult {\n  constructor(processor, css, opts) {\n    this.stringified = false\n    this.processed = false\n\n    let root\n    if (\n      typeof css === 'object' &&\n      css !== null &&\n      (css.type === 'root' || css.type === 'document')\n    ) {\n      root = cleanMarks(css)\n    } else if (css instanceof LazyResult || css instanceof Result) {\n      root = cleanMarks(css.root)\n      if (css.map) {\n        if (typeof opts.map === 'undefined') opts.map = {}\n        if (!opts.map.inline) opts.map.inline = false\n        opts.map.prev = css.map\n      }\n    } else {\n      let parser = parse\n      if (opts.syntax) parser = opts.syntax.parse\n      if (opts.parser) parser = opts.parser\n      if (parser.parse) parser = parser.parse\n\n      try {\n        root = parser(css, opts)\n      } catch (error) {\n        this.processed = true\n        this.error = error\n      }\n\n      if (root && !root[my]) {\n        /* c8 ignore next 2 */\n        Container.rebuild(root)\n      }\n    }\n\n    this.result = new Result(processor, root, opts)\n    this.helpers = { ...postcss, result: this.result, postcss }\n    this.plugins = this.processor.plugins.map(plugin => {\n      if (typeof plugin === 'object' && plugin.prepare) {\n        return { ...plugin, ...plugin.prepare(this.result) }\n      } else {\n        return plugin\n      }\n    })\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'LazyResult'\n  }\n\n  get processor() {\n    return this.result.processor\n  }\n\n  get opts() {\n    return this.result.opts\n  }\n\n  get css() {\n    return this.stringify().css\n  }\n\n  get content() {\n    return this.stringify().content\n  }\n\n  get map() {\n    return this.stringify().map\n  }\n\n  get root() {\n    return this.sync().root\n  }\n\n  get messages() {\n    return this.sync().messages\n  }\n\n  warnings() {\n    return this.sync().warnings()\n  }\n\n  toString() {\n    return this.css\n  }\n\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!('from' in this.opts)) {\n        warnOnce(\n          'Without `from` option PostCSS could generate wrong source map ' +\n            'and will not find Browserslist config. Set it to CSS file path ' +\n            'or to `undefined` to prevent this warning.'\n        )\n      }\n    }\n    return this.async().then(onFulfilled, onRejected)\n  }\n\n  catch(onRejected) {\n    return this.async().catch(onRejected)\n  }\n\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally)\n  }\n\n  async() {\n    if (this.error) return Promise.reject(this.error)\n    if (this.processed) return Promise.resolve(this.result)\n    if (!this.processing) {\n      this.processing = this.runAsync()\n    }\n    return this.processing\n  }\n\n  sync() {\n    if (this.error) throw this.error\n    if (this.processed) return this.result\n    this.processed = true\n\n    if (this.processing) {\n      throw this.getAsyncError()\n    }\n\n    for (let plugin of this.plugins) {\n      let promise = this.runOnRoot(plugin)\n      if (isPromise(promise)) {\n        throw this.getAsyncError()\n      }\n    }\n\n    this.prepareVisitors()\n    if (this.hasListener) {\n      let root = this.result.root\n      while (!root[isClean]) {\n        root[isClean] = true\n        this.walkSync(root)\n      }\n      if (this.listeners.OnceExit) {\n        if (root.type === 'document') {\n          for (let subRoot of root.nodes) {\n            this.visitSync(this.listeners.OnceExit, subRoot)\n          }\n        } else {\n          this.visitSync(this.listeners.OnceExit, root)\n        }\n      }\n    }\n\n    return this.result\n  }\n\n  stringify() {\n    if (this.error) throw this.error\n    if (this.stringified) return this.result\n    this.stringified = true\n\n    this.sync()\n\n    let opts = this.result.opts\n    let str = stringify\n    if (opts.syntax) str = opts.syntax.stringify\n    if (opts.stringifier) str = opts.stringifier\n    if (str.stringify) str = str.stringify\n\n    let map = new MapGenerator(str, this.result.root, this.result.opts)\n    let data = map.generate()\n    this.result.css = data[0]\n    this.result.map = data[1]\n\n    return this.result\n  }\n\n  walkSync(node) {\n    node[isClean] = true\n    let events = getEvents(node)\n    for (let event of events) {\n      if (event === CHILDREN) {\n        if (node.nodes) {\n          node.each(child => {\n            if (!child[isClean]) this.walkSync(child)\n          })\n        }\n      } else {\n        let visitors = this.listeners[event]\n        if (visitors) {\n          if (this.visitSync(visitors, node.toProxy())) return\n        }\n      }\n    }\n  }\n\n  visitSync(visitors, node) {\n    for (let [plugin, visitor] of visitors) {\n      this.result.lastPlugin = plugin\n      let promise\n      try {\n        promise = visitor(node, this.helpers)\n      } catch (e) {\n        throw this.handleError(e, node.proxyOf)\n      }\n      if (node.type !== 'root' && node.type !== 'document' && !node.parent) {\n        return true\n      }\n      if (isPromise(promise)) {\n        throw this.getAsyncError()\n      }\n    }\n  }\n\n  runOnRoot(plugin) {\n    this.result.lastPlugin = plugin\n    try {\n      if (typeof plugin === 'object' && plugin.Once) {\n        if (this.result.root.type === 'document') {\n          let roots = this.result.root.nodes.map(root =>\n            plugin.Once(root, this.helpers)\n          )\n\n          if (isPromise(roots[0])) {\n            return Promise.all(roots)\n          }\n\n          return roots\n        }\n\n        return plugin.Once(this.result.root, this.helpers)\n      } else if (typeof plugin === 'function') {\n        return plugin(this.result.root, this.result)\n      }\n    } catch (error) {\n      throw this.handleError(error)\n    }\n  }\n\n  getAsyncError() {\n    throw new Error('Use process(css).then(cb) to work with async plugins')\n  }\n\n  handleError(error, node) {\n    let plugin = this.result.lastPlugin\n    try {\n      if (node) node.addToError(error)\n      this.error = error\n      if (error.name === 'CssSyntaxError' && !error.plugin) {\n        error.plugin = plugin.postcssPlugin\n        error.setMessage()\n      } else if (plugin.postcssVersion) {\n        if (process.env.NODE_ENV !== 'production') {\n          let pluginName = plugin.postcssPlugin\n          let pluginVer = plugin.postcssVersion\n          let runtimeVer = this.result.processor.version\n          let a = pluginVer.split('.')\n          let b = runtimeVer.split('.')\n\n          if (a[0] !== b[0] || parseInt(a[1]) > parseInt(b[1])) {\n            // eslint-disable-next-line no-console\n            console.error(\n              'Unknown error from PostCSS plugin. Your current PostCSS ' +\n                'version is ' +\n                runtimeVer +\n                ', but ' +\n                pluginName +\n                ' uses ' +\n                pluginVer +\n                '. Perhaps this is the source of the error below.'\n            )\n          }\n        }\n      }\n    } catch (err) {\n      /* c8 ignore next 3 */\n      // eslint-disable-next-line no-console\n      if (console && console.error) console.error(err)\n    }\n    return error\n  }\n\n  async runAsync() {\n    this.plugin = 0\n    for (let i = 0; i < this.plugins.length; i++) {\n      let plugin = this.plugins[i]\n      let promise = this.runOnRoot(plugin)\n      if (isPromise(promise)) {\n        try {\n          await promise\n        } catch (error) {\n          throw this.handleError(error)\n        }\n      }\n    }\n\n    this.prepareVisitors()\n    if (this.hasListener) {\n      let root = this.result.root\n      while (!root[isClean]) {\n        root[isClean] = true\n        let stack = [toStack(root)]\n        while (stack.length > 0) {\n          let promise = this.visitTick(stack)\n          if (isPromise(promise)) {\n            try {\n              await promise\n            } catch (e) {\n              let node = stack[stack.length - 1].node\n              throw this.handleError(e, node)\n            }\n          }\n        }\n      }\n\n      if (this.listeners.OnceExit) {\n        for (let [plugin, visitor] of this.listeners.OnceExit) {\n          this.result.lastPlugin = plugin\n          try {\n            if (root.type === 'document') {\n              let roots = root.nodes.map(subRoot =>\n                visitor(subRoot, this.helpers)\n              )\n\n              await Promise.all(roots)\n            } else {\n              await visitor(root, this.helpers)\n            }\n          } catch (e) {\n            throw this.handleError(e)\n          }\n        }\n      }\n    }\n\n    this.processed = true\n    return this.stringify()\n  }\n\n  prepareVisitors() {\n    this.listeners = {}\n    let add = (plugin, type, cb) => {\n      if (!this.listeners[type]) this.listeners[type] = []\n      this.listeners[type].push([plugin, cb])\n    }\n    for (let plugin of this.plugins) {\n      if (typeof plugin === 'object') {\n        for (let event in plugin) {\n          if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n            throw new Error(\n              `Unknown event ${event} in ${plugin.postcssPlugin}. ` +\n                `Try to update PostCSS (${this.processor.version} now).`\n            )\n          }\n          if (!NOT_VISITORS[event]) {\n            if (typeof plugin[event] === 'object') {\n              for (let filter in plugin[event]) {\n                if (filter === '*') {\n                  add(plugin, event, plugin[event][filter])\n                } else {\n                  add(\n                    plugin,\n                    event + '-' + filter.toLowerCase(),\n                    plugin[event][filter]\n                  )\n                }\n              }\n            } else if (typeof plugin[event] === 'function') {\n              add(plugin, event, plugin[event])\n            }\n          }\n        }\n      }\n    }\n    this.hasListener = Object.keys(this.listeners).length > 0\n  }\n\n  visitTick(stack) {\n    let visit = stack[stack.length - 1]\n    let { node, visitors } = visit\n\n    if (node.type !== 'root' && node.type !== 'document' && !node.parent) {\n      stack.pop()\n      return\n    }\n\n    if (visitors.length > 0 && visit.visitorIndex < visitors.length) {\n      let [plugin, visitor] = visitors[visit.visitorIndex]\n      visit.visitorIndex += 1\n      if (visit.visitorIndex === visitors.length) {\n        visit.visitors = []\n        visit.visitorIndex = 0\n      }\n      this.result.lastPlugin = plugin\n      try {\n        return visitor(node.toProxy(), this.helpers)\n      } catch (e) {\n        throw this.handleError(e, node)\n      }\n    }\n\n    if (visit.iterator !== 0) {\n      let iterator = visit.iterator\n      let child\n      while ((child = node.nodes[node.indexes[iterator]])) {\n        node.indexes[iterator] += 1\n        if (!child[isClean]) {\n          child[isClean] = true\n          stack.push(toStack(child))\n          return\n        }\n      }\n      visit.iterator = 0\n      delete node.indexes[iterator]\n    }\n\n    let events = visit.events\n    while (visit.eventIndex < events.length) {\n      let event = events[visit.eventIndex]\n      visit.eventIndex += 1\n      if (event === CHILDREN) {\n        if (node.nodes && node.nodes.length) {\n          node[isClean] = true\n          visit.iterator = node.getIterator()\n        }\n        return\n      } else if (this.listeners[event]) {\n        visit.visitors = this.listeners[event]\n        return\n      }\n    }\n    stack.pop()\n  }\n}\n\nLazyResult.registerPostcss = dependant => {\n  postcss = dependant\n}\n\nmodule.exports = LazyResult\nLazyResult.default = LazyResult\n\nRoot.registerLazyResult(LazyResult)\nDocument.registerLazyResult(LazyResult)\n","'use strict'\n\nlet list = {\n  split(string, separators, last) {\n    let array = []\n    let current = ''\n    let split = false\n\n    let func = 0\n    let inQuote = false\n    let prevQuote = ''\n    let escape = false\n\n    for (let letter of string) {\n      if (escape) {\n        escape = false\n      } else if (letter === '\\\\') {\n        escape = true\n      } else if (inQuote) {\n        if (letter === prevQuote) {\n          inQuote = false\n        }\n      } else if (letter === '\"' || letter === \"'\") {\n        inQuote = true\n        prevQuote = letter\n      } else if (letter === '(') {\n        func += 1\n      } else if (letter === ')') {\n        if (func > 0) func -= 1\n      } else if (func === 0) {\n        if (separators.includes(letter)) split = true\n      }\n\n      if (split) {\n        if (current !== '') array.push(current.trim())\n        current = ''\n        split = false\n      } else {\n        current += letter\n      }\n    }\n\n    if (last || current !== '') array.push(current.trim())\n    return array\n  },\n\n  space(string) {\n    let spaces = [' ', '\\n', '\\t']\n    return list.split(string, spaces)\n  },\n\n  comma(string) {\n    return list.split(string, [','], true)\n  }\n}\n\nmodule.exports = list\nlist.default = list\n","'use strict'\n\nlet { SourceMapConsumer, SourceMapGenerator } = require('source-map-js')\nlet { dirname, resolve, relative, sep } = require('path')\nlet { pathToFileURL } = require('url')\n\nlet Input = require('./input')\n\nlet sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator)\nlet pathAvailable = Boolean(dirname && resolve && relative && sep)\n\nclass MapGenerator {\n  constructor(stringify, root, opts, cssString) {\n    this.stringify = stringify\n    this.mapOpts = opts.map || {}\n    this.root = root\n    this.opts = opts\n    this.css = cssString\n    this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute\n  }\n\n  isMap() {\n    if (typeof this.opts.map !== 'undefined') {\n      return !!this.opts.map\n    }\n    return this.previous().length > 0\n  }\n\n  previous() {\n    if (!this.previousMaps) {\n      this.previousMaps = []\n      if (this.root) {\n        this.root.walk(node => {\n          if (node.source && node.source.input.map) {\n            let map = node.source.input.map\n            if (!this.previousMaps.includes(map)) {\n              this.previousMaps.push(map)\n            }\n          }\n        })\n      } else {\n        let input = new Input(this.css, this.opts)\n        if (input.map) this.previousMaps.push(input.map)\n      }\n    }\n\n    return this.previousMaps\n  }\n\n  isInline() {\n    if (typeof this.mapOpts.inline !== 'undefined') {\n      return this.mapOpts.inline\n    }\n\n    let annotation = this.mapOpts.annotation\n    if (typeof annotation !== 'undefined' && annotation !== true) {\n      return false\n    }\n\n    if (this.previous().length) {\n      return this.previous().some(i => i.inline)\n    }\n    return true\n  }\n\n  isSourcesContent() {\n    if (typeof this.mapOpts.sourcesContent !== 'undefined') {\n      return this.mapOpts.sourcesContent\n    }\n    if (this.previous().length) {\n      return this.previous().some(i => i.withContent())\n    }\n    return true\n  }\n\n  clearAnnotation() {\n    if (this.mapOpts.annotation === false) return\n\n    if (this.root) {\n      let node\n      for (let i = this.root.nodes.length - 1; i >= 0; i--) {\n        node = this.root.nodes[i]\n        if (node.type !== 'comment') continue\n        if (node.text.indexOf('# sourceMappingURL=') === 0) {\n          this.root.removeChild(i)\n        }\n      }\n    } else if (this.css) {\n      this.css = this.css.replace(/(\\n)?\\/\\*#[\\S\\s]*?\\*\\/$/gm, '')\n    }\n  }\n\n  setSourcesContent() {\n    let already = {}\n    if (this.root) {\n      this.root.walk(node => {\n        if (node.source) {\n          let from = node.source.input.from\n          if (from && !already[from]) {\n            already[from] = true\n            let fromUrl = this.usesFileUrls\n              ? this.toFileUrl(from)\n              : this.toUrl(this.path(from))\n            this.map.setSourceContent(fromUrl, node.source.input.css)\n          }\n        }\n      })\n    } else if (this.css) {\n      let from = this.opts.from\n        ? this.toUrl(this.path(this.opts.from))\n        : '<no source>'\n      this.map.setSourceContent(from, this.css)\n    }\n  }\n\n  applyPrevMaps() {\n    for (let prev of this.previous()) {\n      let from = this.toUrl(this.path(prev.file))\n      let root = prev.root || dirname(prev.file)\n      let map\n\n      if (this.mapOpts.sourcesContent === false) {\n        map = new SourceMapConsumer(prev.text)\n        if (map.sourcesContent) {\n          map.sourcesContent = map.sourcesContent.map(() => null)\n        }\n      } else {\n        map = prev.consumer()\n      }\n\n      this.map.applySourceMap(map, from, this.toUrl(this.path(root)))\n    }\n  }\n\n  isAnnotation() {\n    if (this.isInline()) {\n      return true\n    }\n    if (typeof this.mapOpts.annotation !== 'undefined') {\n      return this.mapOpts.annotation\n    }\n    if (this.previous().length) {\n      return this.previous().some(i => i.annotation)\n    }\n    return true\n  }\n\n  toBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str).toString('base64')\n    } else {\n      return window.btoa(unescape(encodeURIComponent(str)))\n    }\n  }\n\n  addAnnotation() {\n    let content\n\n    if (this.isInline()) {\n      content =\n        'data:application/json;base64,' + this.toBase64(this.map.toString())\n    } else if (typeof this.mapOpts.annotation === 'string') {\n      content = this.mapOpts.annotation\n    } else if (typeof this.mapOpts.annotation === 'function') {\n      content = this.mapOpts.annotation(this.opts.to, this.root)\n    } else {\n      content = this.outputFile() + '.map'\n    }\n    let eol = '\\n'\n    if (this.css.includes('\\r\\n')) eol = '\\r\\n'\n\n    this.css += eol + '/*# sourceMappingURL=' + content + ' */'\n  }\n\n  outputFile() {\n    if (this.opts.to) {\n      return this.path(this.opts.to)\n    } else if (this.opts.from) {\n      return this.path(this.opts.from)\n    } else {\n      return 'to.css'\n    }\n  }\n\n  generateMap() {\n    if (this.root) {\n      this.generateString()\n    } else if (this.previous().length === 1) {\n      let prev = this.previous()[0].consumer()\n      prev.file = this.outputFile()\n      this.map = SourceMapGenerator.fromSourceMap(prev)\n    } else {\n      this.map = new SourceMapGenerator({ file: this.outputFile() })\n      this.map.addMapping({\n        source: this.opts.from\n          ? this.toUrl(this.path(this.opts.from))\n          : '<no source>',\n        generated: { line: 1, column: 0 },\n        original: { line: 1, column: 0 }\n      })\n    }\n\n    if (this.isSourcesContent()) this.setSourcesContent()\n    if (this.root && this.previous().length > 0) this.applyPrevMaps()\n    if (this.isAnnotation()) this.addAnnotation()\n\n    if (this.isInline()) {\n      return [this.css]\n    } else {\n      return [this.css, this.map]\n    }\n  }\n\n  path(file) {\n    if (file.indexOf('<') === 0) return file\n    if (/^\\w+:\\/\\//.test(file)) return file\n    if (this.mapOpts.absolute) return file\n\n    let from = this.opts.to ? dirname(this.opts.to) : '.'\n\n    if (typeof this.mapOpts.annotation === 'string') {\n      from = dirname(resolve(from, this.mapOpts.annotation))\n    }\n\n    file = relative(from, file)\n    return file\n  }\n\n  toUrl(path) {\n    if (sep === '\\\\') {\n      path = path.replace(/\\\\/g, '/')\n    }\n    return encodeURI(path).replace(/[#?]/g, encodeURIComponent)\n  }\n\n  toFileUrl(path) {\n    if (pathToFileURL) {\n      return pathToFileURL(path).toString()\n    } else {\n      throw new Error(\n        '`map.absolute` option is not available in this PostCSS build'\n      )\n    }\n  }\n\n  sourcePath(node) {\n    if (this.mapOpts.from) {\n      return this.toUrl(this.mapOpts.from)\n    } else if (this.usesFileUrls) {\n      return this.toFileUrl(node.source.input.from)\n    } else {\n      return this.toUrl(this.path(node.source.input.from))\n    }\n  }\n\n  generateString() {\n    this.css = ''\n    this.map = new SourceMapGenerator({ file: this.outputFile() })\n\n    let line = 1\n    let column = 1\n\n    let noSource = '<no source>'\n    let mapping = {\n      source: '',\n      generated: { line: 0, column: 0 },\n      original: { line: 0, column: 0 }\n    }\n\n    let lines, last\n    this.stringify(this.root, (str, node, type) => {\n      this.css += str\n\n      if (node && type !== 'end') {\n        mapping.generated.line = line\n        mapping.generated.column = column - 1\n        if (node.source && node.source.start) {\n          mapping.source = this.sourcePath(node)\n          mapping.original.line = node.source.start.line\n          mapping.original.column = node.source.start.column - 1\n          this.map.addMapping(mapping)\n        } else {\n          mapping.source = noSource\n          mapping.original.line = 1\n          mapping.original.column = 0\n          this.map.addMapping(mapping)\n        }\n      }\n\n      lines = str.match(/\\n/g)\n      if (lines) {\n        line += lines.length\n        last = str.lastIndexOf('\\n')\n        column = str.length - last\n      } else {\n        column += str.length\n      }\n\n      if (node && type !== 'start') {\n        let p = node.parent || { raws: {} }\n        let childless =\n          node.type === 'decl' || (node.type === 'atrule' && !node.nodes)\n        if (!childless || node !== p.last || p.raws.semicolon) {\n          if (node.source && node.source.end) {\n            mapping.source = this.sourcePath(node)\n            mapping.original.line = node.source.end.line\n            mapping.original.column = node.source.end.column - 1\n            mapping.generated.line = line\n            mapping.generated.column = column - 2\n            this.map.addMapping(mapping)\n          } else {\n            mapping.source = noSource\n            mapping.original.line = 1\n            mapping.original.column = 0\n            mapping.generated.line = line\n            mapping.generated.column = column - 1\n            this.map.addMapping(mapping)\n          }\n        }\n      }\n    })\n  }\n\n  generate() {\n    this.clearAnnotation()\n    if (pathAvailable && sourceMapAvailable && this.isMap()) {\n      return this.generateMap()\n    } else {\n      let result = ''\n      this.stringify(this.root, i => {\n        result += i\n      })\n      return [result]\n    }\n  }\n}\n\nmodule.exports = MapGenerator\n","'use strict'\n\nlet MapGenerator = require('./map-generator')\nlet stringify = require('./stringify')\nlet warnOnce = require('./warn-once')\nlet parse = require('./parse')\nconst Result = require('./result')\n\nclass NoWorkResult {\n  constructor(processor, css, opts) {\n    css = css.toString()\n    this.stringified = false\n\n    this._processor = processor\n    this._css = css\n    this._opts = opts\n    this._map = undefined\n    let root\n\n    let str = stringify\n    this.result = new Result(this._processor, root, this._opts)\n    this.result.css = css\n\n    let self = this\n    Object.defineProperty(this.result, 'root', {\n      get() {\n        return self.root\n      }\n    })\n\n    let map = new MapGenerator(str, root, this._opts, css)\n    if (map.isMap()) {\n      let [generatedCSS, generatedMap] = map.generate()\n      if (generatedCSS) {\n        this.result.css = generatedCSS\n      }\n      if (generatedMap) {\n        this.result.map = generatedMap\n      }\n    }\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'NoWorkResult'\n  }\n\n  get processor() {\n    return this.result.processor\n  }\n\n  get opts() {\n    return this.result.opts\n  }\n\n  get css() {\n    return this.result.css\n  }\n\n  get content() {\n    return this.result.css\n  }\n\n  get map() {\n    return this.result.map\n  }\n\n  get root() {\n    if (this._root) {\n      return this._root\n    }\n\n    let root\n    let parser = parse\n\n    try {\n      root = parser(this._css, this._opts)\n    } catch (error) {\n      this.error = error\n    }\n\n    if (this.error) {\n      throw this.error\n    } else {\n      this._root = root\n      return root\n    }\n  }\n\n  get messages() {\n    return []\n  }\n\n  warnings() {\n    return []\n  }\n\n  toString() {\n    return this._css\n  }\n\n  then(onFulfilled, onRejected) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!('from' in this._opts)) {\n        warnOnce(\n          'Without `from` option PostCSS could generate wrong source map ' +\n            'and will not find Browserslist config. Set it to CSS file path ' +\n            'or to `undefined` to prevent this warning.'\n        )\n      }\n    }\n\n    return this.async().then(onFulfilled, onRejected)\n  }\n\n  catch(onRejected) {\n    return this.async().catch(onRejected)\n  }\n\n  finally(onFinally) {\n    return this.async().then(onFinally, onFinally)\n  }\n\n  async() {\n    if (this.error) return Promise.reject(this.error)\n    return Promise.resolve(this.result)\n  }\n\n  sync() {\n    if (this.error) throw this.error\n    return this.result\n  }\n}\n\nmodule.exports = NoWorkResult\nNoWorkResult.default = NoWorkResult\n","'use strict'\n\nlet { isClean, my } = require('./symbols')\nlet CssSyntaxError = require('./css-syntax-error')\nlet Stringifier = require('./stringifier')\nlet stringify = require('./stringify')\n\nfunction cloneNode(obj, parent) {\n  let cloned = new obj.constructor()\n\n  for (let i in obj) {\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) {\n      /* c8 ignore next 2 */\n      continue\n    }\n    if (i === 'proxyCache') continue\n    let value = obj[i]\n    let type = typeof value\n\n    if (i === 'parent' && type === 'object') {\n      if (parent) cloned[i] = parent\n    } else if (i === 'source') {\n      cloned[i] = value\n    } else if (Array.isArray(value)) {\n      cloned[i] = value.map(j => cloneNode(j, cloned))\n    } else {\n      if (type === 'object' && value !== null) value = cloneNode(value)\n      cloned[i] = value\n    }\n  }\n\n  return cloned\n}\n\nclass Node {\n  constructor(defaults = {}) {\n    this.raws = {}\n    this[isClean] = false\n    this[my] = true\n\n    for (let name in defaults) {\n      if (name === 'nodes') {\n        this.nodes = []\n        for (let node of defaults[name]) {\n          if (typeof node.clone === 'function') {\n            this.append(node.clone())\n          } else {\n            this.append(node)\n          }\n        }\n      } else {\n        this[name] = defaults[name]\n      }\n    }\n  }\n\n  error(message, opts = {}) {\n    if (this.source) {\n      let { start, end } = this.rangeBy(opts)\n      return this.source.input.error(\n        message,\n        { line: start.line, column: start.column },\n        { line: end.line, column: end.column },\n        opts\n      )\n    }\n    return new CssSyntaxError(message)\n  }\n\n  warn(result, text, opts) {\n    let data = { node: this }\n    for (let i in opts) data[i] = opts[i]\n    return result.warn(text, data)\n  }\n\n  remove() {\n    if (this.parent) {\n      this.parent.removeChild(this)\n    }\n    this.parent = undefined\n    return this\n  }\n\n  toString(stringifier = stringify) {\n    if (stringifier.stringify) stringifier = stringifier.stringify\n    let result = ''\n    stringifier(this, i => {\n      result += i\n    })\n    return result\n  }\n\n  assign(overrides = {}) {\n    for (let name in overrides) {\n      this[name] = overrides[name]\n    }\n    return this\n  }\n\n  clone(overrides = {}) {\n    let cloned = cloneNode(this)\n    for (let name in overrides) {\n      cloned[name] = overrides[name]\n    }\n    return cloned\n  }\n\n  cloneBefore(overrides = {}) {\n    let cloned = this.clone(overrides)\n    this.parent.insertBefore(this, cloned)\n    return cloned\n  }\n\n  cloneAfter(overrides = {}) {\n    let cloned = this.clone(overrides)\n    this.parent.insertAfter(this, cloned)\n    return cloned\n  }\n\n  replaceWith(...nodes) {\n    if (this.parent) {\n      let bookmark = this\n      let foundSelf = false\n      for (let node of nodes) {\n        if (node === this) {\n          foundSelf = true\n        } else if (foundSelf) {\n          this.parent.insertAfter(bookmark, node)\n          bookmark = node\n        } else {\n          this.parent.insertBefore(bookmark, node)\n        }\n      }\n\n      if (!foundSelf) {\n        this.remove()\n      }\n    }\n\n    return this\n  }\n\n  next() {\n    if (!this.parent) return undefined\n    let index = this.parent.index(this)\n    return this.parent.nodes[index + 1]\n  }\n\n  prev() {\n    if (!this.parent) return undefined\n    let index = this.parent.index(this)\n    return this.parent.nodes[index - 1]\n  }\n\n  before(add) {\n    this.parent.insertBefore(this, add)\n    return this\n  }\n\n  after(add) {\n    this.parent.insertAfter(this, add)\n    return this\n  }\n\n  root() {\n    let result = this\n    while (result.parent && result.parent.type !== 'document') {\n      result = result.parent\n    }\n    return result\n  }\n\n  raw(prop, defaultType) {\n    let str = new Stringifier()\n    return str.raw(this, prop, defaultType)\n  }\n\n  cleanRaws(keepBetween) {\n    delete this.raws.before\n    delete this.raws.after\n    if (!keepBetween) delete this.raws.between\n  }\n\n  toJSON(_, inputs) {\n    let fixed = {}\n    let emitInputs = inputs == null\n    inputs = inputs || new Map()\n    let inputsNextIndex = 0\n\n    for (let name in this) {\n      if (!Object.prototype.hasOwnProperty.call(this, name)) {\n        /* c8 ignore next 2 */\n        continue\n      }\n      if (name === 'parent' || name === 'proxyCache') continue\n      let value = this[name]\n\n      if (Array.isArray(value)) {\n        fixed[name] = value.map(i => {\n          if (typeof i === 'object' && i.toJSON) {\n            return i.toJSON(null, inputs)\n          } else {\n            return i\n          }\n        })\n      } else if (typeof value === 'object' && value.toJSON) {\n        fixed[name] = value.toJSON(null, inputs)\n      } else if (name === 'source') {\n        let inputId = inputs.get(value.input)\n        if (inputId == null) {\n          inputId = inputsNextIndex\n          inputs.set(value.input, inputsNextIndex)\n          inputsNextIndex++\n        }\n        fixed[name] = {\n          inputId,\n          start: value.start,\n          end: value.end\n        }\n      } else {\n        fixed[name] = value\n      }\n    }\n\n    if (emitInputs) {\n      fixed.inputs = [...inputs.keys()].map(input => input.toJSON())\n    }\n\n    return fixed\n  }\n\n  positionInside(index) {\n    let string = this.toString()\n    let column = this.source.start.column\n    let line = this.source.start.line\n\n    for (let i = 0; i < index; i++) {\n      if (string[i] === '\\n') {\n        column = 1\n        line += 1\n      } else {\n        column += 1\n      }\n    }\n\n    return { line, column }\n  }\n\n  positionBy(opts) {\n    let pos = this.source.start\n    if (opts.index) {\n      pos = this.positionInside(opts.index)\n    } else if (opts.word) {\n      let index = this.toString().indexOf(opts.word)\n      if (index !== -1) pos = this.positionInside(index)\n    }\n    return pos\n  }\n\n  rangeBy(opts) {\n    let start = {\n      line: this.source.start.line,\n      column: this.source.start.column\n    }\n    let end = this.source.end\n      ? {\n          line: this.source.end.line,\n          column: this.source.end.column + 1\n        }\n      : {\n          line: start.line,\n          column: start.column + 1\n        }\n\n    if (opts.word) {\n      let index = this.toString().indexOf(opts.word)\n      if (index !== -1) {\n        start = this.positionInside(index)\n        end = this.positionInside(index + opts.word.length)\n      }\n    } else {\n      if (opts.start) {\n        start = {\n          line: opts.start.line,\n          column: opts.start.column\n        }\n      } else if (opts.index) {\n        start = this.positionInside(opts.index)\n      }\n\n      if (opts.end) {\n        end = {\n          line: opts.end.line,\n          column: opts.end.column\n        }\n      } else if (opts.endIndex) {\n        end = this.positionInside(opts.endIndex)\n      } else if (opts.index) {\n        end = this.positionInside(opts.index + 1)\n      }\n    }\n\n    if (\n      end.line < start.line ||\n      (end.line === start.line && end.column <= start.column)\n    ) {\n      end = { line: start.line, column: start.column + 1 }\n    }\n\n    return { start, end }\n  }\n\n  getProxyProcessor() {\n    return {\n      set(node, prop, value) {\n        if (node[prop] === value) return true\n        node[prop] = value\n        if (\n          prop === 'prop' ||\n          prop === 'value' ||\n          prop === 'name' ||\n          prop === 'params' ||\n          prop === 'important' ||\n          /* c8 ignore next */\n          prop === 'text'\n        ) {\n          node.markDirty()\n        }\n        return true\n      },\n\n      get(node, prop) {\n        if (prop === 'proxyOf') {\n          return node\n        } else if (prop === 'root') {\n          return () => node.root().toProxy()\n        } else {\n          return node[prop]\n        }\n      }\n    }\n  }\n\n  toProxy() {\n    if (!this.proxyCache) {\n      this.proxyCache = new Proxy(this, this.getProxyProcessor())\n    }\n    return this.proxyCache\n  }\n\n  addToError(error) {\n    error.postcssNode = this\n    if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n      let s = this.source\n      error.stack = error.stack.replace(\n        /\\n\\s{4}at /,\n        `$&${s.input.from}:${s.start.line}:${s.start.column}$&`\n      )\n    }\n    return error\n  }\n\n  markDirty() {\n    if (this[isClean]) {\n      this[isClean] = false\n      let next = this\n      while ((next = next.parent)) {\n        next[isClean] = false\n      }\n    }\n  }\n\n  get proxyOf() {\n    return this\n  }\n}\n\nmodule.exports = Node\nNode.default = Node\n","'use strict'\n\nlet Container = require('./container')\nlet Parser = require('./parser')\nlet Input = require('./input')\n\nfunction parse(css, opts) {\n  let input = new Input(css, opts)\n  let parser = new Parser(input)\n  try {\n    parser.parse()\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (e.name === 'CssSyntaxError' && opts && opts.from) {\n        if (/\\.scss$/i.test(opts.from)) {\n          e.message +=\n            '\\nYou tried to parse SCSS with ' +\n            'the standard CSS parser; ' +\n            'try again with the postcss-scss parser'\n        } else if (/\\.sass/i.test(opts.from)) {\n          e.message +=\n            '\\nYou tried to parse Sass with ' +\n            'the standard CSS parser; ' +\n            'try again with the postcss-sass parser'\n        } else if (/\\.less$/i.test(opts.from)) {\n          e.message +=\n            '\\nYou tried to parse Less with ' +\n            'the standard CSS parser; ' +\n            'try again with the postcss-less parser'\n        }\n      }\n    }\n    throw e\n  }\n\n  return parser.root\n}\n\nmodule.exports = parse\nparse.default = parse\n\nContainer.registerParse(parse)\n","'use strict'\n\nlet Declaration = require('./declaration')\nlet tokenizer = require('./tokenize')\nlet Comment = require('./comment')\nlet AtRule = require('./at-rule')\nlet Root = require('./root')\nlet Rule = require('./rule')\n\nconst SAFE_COMMENT_NEIGHBOR = {\n  empty: true,\n  space: true\n}\n\nfunction findLastWithPosition(tokens) {\n  for (let i = tokens.length - 1; i >= 0; i--) {\n    let token = tokens[i]\n    let pos = token[3] || token[2]\n    if (pos) return pos\n  }\n}\n\nclass Parser {\n  constructor(input) {\n    this.input = input\n\n    this.root = new Root()\n    this.current = this.root\n    this.spaces = ''\n    this.semicolon = false\n    this.customProperty = false\n\n    this.createTokenizer()\n    this.root.source = { input, start: { offset: 0, line: 1, column: 1 } }\n  }\n\n  createTokenizer() {\n    this.tokenizer = tokenizer(this.input)\n  }\n\n  parse() {\n    let token\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken()\n\n      switch (token[0]) {\n        case 'space':\n          this.spaces += token[1]\n          break\n\n        case ';':\n          this.freeSemicolon(token)\n          break\n\n        case '}':\n          this.end(token)\n          break\n\n        case 'comment':\n          this.comment(token)\n          break\n\n        case 'at-word':\n          this.atrule(token)\n          break\n\n        case '{':\n          this.emptyRule(token)\n          break\n\n        default:\n          this.other(token)\n          break\n      }\n    }\n    this.endFile()\n  }\n\n  comment(token) {\n    let node = new Comment()\n    this.init(node, token[2])\n    node.source.end = this.getPosition(token[3] || token[2])\n\n    let text = token[1].slice(2, -2)\n    if (/^\\s*$/.test(text)) {\n      node.text = ''\n      node.raws.left = text\n      node.raws.right = ''\n    } else {\n      let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/)\n      node.text = match[2]\n      node.raws.left = match[1]\n      node.raws.right = match[3]\n    }\n  }\n\n  emptyRule(token) {\n    let node = new Rule()\n    this.init(node, token[2])\n    node.selector = ''\n    node.raws.between = ''\n    this.current = node\n  }\n\n  other(start) {\n    let end = false\n    let type = null\n    let colon = false\n    let bracket = null\n    let brackets = []\n    let customProperty = start[1].startsWith('--')\n\n    let tokens = []\n    let token = start\n    while (token) {\n      type = token[0]\n      tokens.push(token)\n\n      if (type === '(' || type === '[') {\n        if (!bracket) bracket = token\n        brackets.push(type === '(' ? ')' : ']')\n      } else if (customProperty && colon && type === '{') {\n        if (!bracket) bracket = token\n        brackets.push('}')\n      } else if (brackets.length === 0) {\n        if (type === ';') {\n          if (colon) {\n            this.decl(tokens, customProperty)\n            return\n          } else {\n            break\n          }\n        } else if (type === '{') {\n          this.rule(tokens)\n          return\n        } else if (type === '}') {\n          this.tokenizer.back(tokens.pop())\n          end = true\n          break\n        } else if (type === ':') {\n          colon = true\n        }\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop()\n        if (brackets.length === 0) bracket = null\n      }\n\n      token = this.tokenizer.nextToken()\n    }\n\n    if (this.tokenizer.endOfFile()) end = true\n    if (brackets.length > 0) this.unclosedBracket(bracket)\n\n    if (end && colon) {\n      if (!customProperty) {\n        while (tokens.length) {\n          token = tokens[tokens.length - 1][0]\n          if (token !== 'space' && token !== 'comment') break\n          this.tokenizer.back(tokens.pop())\n        }\n      }\n      this.decl(tokens, customProperty)\n    } else {\n      this.unknownWord(tokens)\n    }\n  }\n\n  rule(tokens) {\n    tokens.pop()\n\n    let node = new Rule()\n    this.init(node, tokens[0][2])\n\n    node.raws.between = this.spacesAndCommentsFromEnd(tokens)\n    this.raw(node, 'selector', tokens)\n    this.current = node\n  }\n\n  decl(tokens, customProperty) {\n    let node = new Declaration()\n    this.init(node, tokens[0][2])\n\n    let last = tokens[tokens.length - 1]\n    if (last[0] === ';') {\n      this.semicolon = true\n      tokens.pop()\n    }\n\n    node.source.end = this.getPosition(\n      last[3] || last[2] || findLastWithPosition(tokens)\n    )\n\n    while (tokens[0][0] !== 'word') {\n      if (tokens.length === 1) this.unknownWord(tokens)\n      node.raws.before += tokens.shift()[1]\n    }\n    node.source.start = this.getPosition(tokens[0][2])\n\n    node.prop = ''\n    while (tokens.length) {\n      let type = tokens[0][0]\n      if (type === ':' || type === 'space' || type === 'comment') {\n        break\n      }\n      node.prop += tokens.shift()[1]\n    }\n\n    node.raws.between = ''\n\n    let token\n    while (tokens.length) {\n      token = tokens.shift()\n\n      if (token[0] === ':') {\n        node.raws.between += token[1]\n        break\n      } else {\n        if (token[0] === 'word' && /\\w/.test(token[1])) {\n          this.unknownWord([token])\n        }\n        node.raws.between += token[1]\n      }\n    }\n\n    if (node.prop[0] === '_' || node.prop[0] === '*') {\n      node.raws.before += node.prop[0]\n      node.prop = node.prop.slice(1)\n    }\n\n    let firstSpaces = []\n    let next\n    while (tokens.length) {\n      next = tokens[0][0]\n      if (next !== 'space' && next !== 'comment') break\n      firstSpaces.push(tokens.shift())\n    }\n\n    this.precheckMissedSemicolon(tokens)\n\n    for (let i = tokens.length - 1; i >= 0; i--) {\n      token = tokens[i]\n      if (token[1].toLowerCase() === '!important') {\n        node.important = true\n        let string = this.stringFrom(tokens, i)\n        string = this.spacesFromEnd(tokens) + string\n        if (string !== ' !important') node.raws.important = string\n        break\n      } else if (token[1].toLowerCase() === 'important') {\n        let cache = tokens.slice(0)\n        let str = ''\n        for (let j = i; j > 0; j--) {\n          let type = cache[j][0]\n          if (str.trim().indexOf('!') === 0 && type !== 'space') {\n            break\n          }\n          str = cache.pop()[1] + str\n        }\n        if (str.trim().indexOf('!') === 0) {\n          node.important = true\n          node.raws.important = str\n          tokens = cache\n        }\n      }\n\n      if (token[0] !== 'space' && token[0] !== 'comment') {\n        break\n      }\n    }\n\n    let hasWord = tokens.some(i => i[0] !== 'space' && i[0] !== 'comment')\n\n    if (hasWord) {\n      node.raws.between += firstSpaces.map(i => i[1]).join('')\n      firstSpaces = []\n    }\n    this.raw(node, 'value', firstSpaces.concat(tokens), customProperty)\n\n    if (node.value.includes(':') && !customProperty) {\n      this.checkMissedSemicolon(tokens)\n    }\n  }\n\n  atrule(token) {\n    let node = new AtRule()\n    node.name = token[1].slice(1)\n    if (node.name === '') {\n      this.unnamedAtrule(node, token)\n    }\n    this.init(node, token[2])\n\n    let type\n    let prev\n    let shift\n    let last = false\n    let open = false\n    let params = []\n    let brackets = []\n\n    while (!this.tokenizer.endOfFile()) {\n      token = this.tokenizer.nextToken()\n      type = token[0]\n\n      if (type === '(' || type === '[') {\n        brackets.push(type === '(' ? ')' : ']')\n      } else if (type === '{' && brackets.length > 0) {\n        brackets.push('}')\n      } else if (type === brackets[brackets.length - 1]) {\n        brackets.pop()\n      }\n\n      if (brackets.length === 0) {\n        if (type === ';') {\n          node.source.end = this.getPosition(token[2])\n          this.semicolon = true\n          break\n        } else if (type === '{') {\n          open = true\n          break\n        } else if (type === '}') {\n          if (params.length > 0) {\n            shift = params.length - 1\n            prev = params[shift]\n            while (prev && prev[0] === 'space') {\n              prev = params[--shift]\n            }\n            if (prev) {\n              node.source.end = this.getPosition(prev[3] || prev[2])\n            }\n          }\n          this.end(token)\n          break\n        } else {\n          params.push(token)\n        }\n      } else {\n        params.push(token)\n      }\n\n      if (this.tokenizer.endOfFile()) {\n        last = true\n        break\n      }\n    }\n\n    node.raws.between = this.spacesAndCommentsFromEnd(params)\n    if (params.length) {\n      node.raws.afterName = this.spacesAndCommentsFromStart(params)\n      this.raw(node, 'params', params)\n      if (last) {\n        token = params[params.length - 1]\n        node.source.end = this.getPosition(token[3] || token[2])\n        this.spaces = node.raws.between\n        node.raws.between = ''\n      }\n    } else {\n      node.raws.afterName = ''\n      node.params = ''\n    }\n\n    if (open) {\n      node.nodes = []\n      this.current = node\n    }\n  }\n\n  end(token) {\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon\n    }\n    this.semicolon = false\n\n    this.current.raws.after = (this.current.raws.after || '') + this.spaces\n    this.spaces = ''\n\n    if (this.current.parent) {\n      this.current.source.end = this.getPosition(token[2])\n      this.current = this.current.parent\n    } else {\n      this.unexpectedClose(token)\n    }\n  }\n\n  endFile() {\n    if (this.current.parent) this.unclosedBlock()\n    if (this.current.nodes && this.current.nodes.length) {\n      this.current.raws.semicolon = this.semicolon\n    }\n    this.current.raws.after = (this.current.raws.after || '') + this.spaces\n  }\n\n  freeSemicolon(token) {\n    this.spaces += token[1]\n    if (this.current.nodes) {\n      let prev = this.current.nodes[this.current.nodes.length - 1]\n      if (prev && prev.type === 'rule' && !prev.raws.ownSemicolon) {\n        prev.raws.ownSemicolon = this.spaces\n        this.spaces = ''\n      }\n    }\n  }\n\n  // Helpers\n\n  getPosition(offset) {\n    let pos = this.input.fromOffset(offset)\n    return {\n      offset,\n      line: pos.line,\n      column: pos.col\n    }\n  }\n\n  init(node, offset) {\n    this.current.push(node)\n    node.source = {\n      start: this.getPosition(offset),\n      input: this.input\n    }\n    node.raws.before = this.spaces\n    this.spaces = ''\n    if (node.type !== 'comment') this.semicolon = false\n  }\n\n  raw(node, prop, tokens, customProperty) {\n    let token, type\n    let length = tokens.length\n    let value = ''\n    let clean = true\n    let next, prev\n\n    for (let i = 0; i < length; i += 1) {\n      token = tokens[i]\n      type = token[0]\n      if (type === 'space' && i === length - 1 && !customProperty) {\n        clean = false\n      } else if (type === 'comment') {\n        prev = tokens[i - 1] ? tokens[i - 1][0] : 'empty'\n        next = tokens[i + 1] ? tokens[i + 1][0] : 'empty'\n        if (!SAFE_COMMENT_NEIGHBOR[prev] && !SAFE_COMMENT_NEIGHBOR[next]) {\n          if (value.slice(-1) === ',') {\n            clean = false\n          } else {\n            value += token[1]\n          }\n        } else {\n          clean = false\n        }\n      } else {\n        value += token[1]\n      }\n    }\n    if (!clean) {\n      let raw = tokens.reduce((all, i) => all + i[1], '')\n      node.raws[prop] = { value, raw }\n    }\n    node[prop] = value\n  }\n\n  spacesAndCommentsFromEnd(tokens) {\n    let lastTokenType\n    let spaces = ''\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0]\n      if (lastTokenType !== 'space' && lastTokenType !== 'comment') break\n      spaces = tokens.pop()[1] + spaces\n    }\n    return spaces\n  }\n\n  spacesAndCommentsFromStart(tokens) {\n    let next\n    let spaces = ''\n    while (tokens.length) {\n      next = tokens[0][0]\n      if (next !== 'space' && next !== 'comment') break\n      spaces += tokens.shift()[1]\n    }\n    return spaces\n  }\n\n  spacesFromEnd(tokens) {\n    let lastTokenType\n    let spaces = ''\n    while (tokens.length) {\n      lastTokenType = tokens[tokens.length - 1][0]\n      if (lastTokenType !== 'space') break\n      spaces = tokens.pop()[1] + spaces\n    }\n    return spaces\n  }\n\n  stringFrom(tokens, from) {\n    let result = ''\n    for (let i = from; i < tokens.length; i++) {\n      result += tokens[i][1]\n    }\n    tokens.splice(from, tokens.length - from)\n    return result\n  }\n\n  colon(tokens) {\n    let brackets = 0\n    let token, type, prev\n    for (let [i, element] of tokens.entries()) {\n      token = element\n      type = token[0]\n\n      if (type === '(') {\n        brackets += 1\n      }\n      if (type === ')') {\n        brackets -= 1\n      }\n      if (brackets === 0 && type === ':') {\n        if (!prev) {\n          this.doubleColon(token)\n        } else if (prev[0] === 'word' && prev[1] === 'progid') {\n          continue\n        } else {\n          return i\n        }\n      }\n\n      prev = token\n    }\n    return false\n  }\n\n  // Errors\n\n  unclosedBracket(bracket) {\n    throw this.input.error(\n      'Unclosed bracket',\n      { offset: bracket[2] },\n      { offset: bracket[2] + 1 }\n    )\n  }\n\n  unknownWord(tokens) {\n    throw this.input.error(\n      'Unknown word',\n      { offset: tokens[0][2] },\n      { offset: tokens[0][2] + tokens[0][1].length }\n    )\n  }\n\n  unexpectedClose(token) {\n    throw this.input.error(\n      'Unexpected }',\n      { offset: token[2] },\n      { offset: token[2] + 1 }\n    )\n  }\n\n  unclosedBlock() {\n    let pos = this.current.source.start\n    throw this.input.error('Unclosed block', pos.line, pos.column)\n  }\n\n  doubleColon(token) {\n    throw this.input.error(\n      'Double colon',\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    )\n  }\n\n  unnamedAtrule(node, token) {\n    throw this.input.error(\n      'At-rule without name',\n      { offset: token[2] },\n      { offset: token[2] + token[1].length }\n    )\n  }\n\n  precheckMissedSemicolon(/* tokens */) {\n    // Hook for Safe Parser\n  }\n\n  checkMissedSemicolon(tokens) {\n    let colon = this.colon(tokens)\n    if (colon === false) return\n\n    let founded = 0\n    let token\n    for (let j = colon - 1; j >= 0; j--) {\n      token = tokens[j]\n      if (token[0] !== 'space') {\n        founded += 1\n        if (founded === 2) break\n      }\n    }\n    // If the token is a word, e.g. `!important`, `red` or any other valid property's value.\n    // Then we need to return the colon after that word token. [3] is the \"end\" colon of that word.\n    // And because we need it after that one we do +1 to get the next one.\n    throw this.input.error(\n      'Missed semicolon',\n      token[0] === 'word' ? token[3] + 1 : token[2]\n    )\n  }\n}\n\nmodule.exports = Parser\n","'use strict'\n\nlet CssSyntaxError = require('./css-syntax-error')\nlet Declaration = require('./declaration')\nlet LazyResult = require('./lazy-result')\nlet Container = require('./container')\nlet Processor = require('./processor')\nlet stringify = require('./stringify')\nlet fromJSON = require('./fromJSON')\nlet Document = require('./document')\nlet Warning = require('./warning')\nlet Comment = require('./comment')\nlet AtRule = require('./at-rule')\nlet Result = require('./result.js')\nlet Input = require('./input')\nlet parse = require('./parse')\nlet list = require('./list')\nlet Rule = require('./rule')\nlet Root = require('./root')\nlet Node = require('./node')\n\nfunction postcss(...plugins) {\n  if (plugins.length === 1 && Array.isArray(plugins[0])) {\n    plugins = plugins[0]\n  }\n  return new Processor(plugins)\n}\n\npostcss.plugin = function plugin(name, initializer) {\n  let warningPrinted = false\n  function creator(...args) {\n    // eslint-disable-next-line no-console\n    if (console && console.warn && !warningPrinted) {\n      warningPrinted = true\n      // eslint-disable-next-line no-console\n      console.warn(\n        name +\n          ': postcss.plugin was deprecated. Migration guide:\\n' +\n          'https://evilmartians.com/chronicles/postcss-8-plugin-migration'\n      )\n      if (process.env.LANG && process.env.LANG.startsWith('cn')) {\n        /* c8 ignore next 7 */\n        // eslint-disable-next-line no-console\n        console.warn(\n          name +\n            ': 里面 postcss.plugin 被弃用. 迁移指南:\\n' +\n            'https://www.w3ctech.com/topic/2226'\n        )\n      }\n    }\n    let transformer = initializer(...args)\n    transformer.postcssPlugin = name\n    transformer.postcssVersion = new Processor().version\n    return transformer\n  }\n\n  let cache\n  Object.defineProperty(creator, 'postcss', {\n    get() {\n      if (!cache) cache = creator()\n      return cache\n    }\n  })\n\n  creator.process = function (css, processOpts, pluginOpts) {\n    return postcss([creator(pluginOpts)]).process(css, processOpts)\n  }\n\n  return creator\n}\n\npostcss.stringify = stringify\npostcss.parse = parse\npostcss.fromJSON = fromJSON\npostcss.list = list\n\npostcss.comment = defaults => new Comment(defaults)\npostcss.atRule = defaults => new AtRule(defaults)\npostcss.decl = defaults => new Declaration(defaults)\npostcss.rule = defaults => new Rule(defaults)\npostcss.root = defaults => new Root(defaults)\npostcss.document = defaults => new Document(defaults)\n\npostcss.CssSyntaxError = CssSyntaxError\npostcss.Declaration = Declaration\npostcss.Container = Container\npostcss.Processor = Processor\npostcss.Document = Document\npostcss.Comment = Comment\npostcss.Warning = Warning\npostcss.AtRule = AtRule\npostcss.Result = Result\npostcss.Input = Input\npostcss.Rule = Rule\npostcss.Root = Root\npostcss.Node = Node\n\nLazyResult.registerPostcss(postcss)\n\nmodule.exports = postcss\npostcss.default = postcss\n","'use strict'\n\nlet { SourceMapConsumer, SourceMapGenerator } = require('source-map-js')\nlet { existsSync, readFileSync } = require('fs')\nlet { dirname, join } = require('path')\n\nfunction fromBase64(str) {\n  if (Buffer) {\n    return Buffer.from(str, 'base64').toString()\n  } else {\n    /* c8 ignore next 2 */\n    return window.atob(str)\n  }\n}\n\nclass PreviousMap {\n  constructor(css, opts) {\n    if (opts.map === false) return\n    this.loadAnnotation(css)\n    this.inline = this.startWith(this.annotation, 'data:')\n\n    let prev = opts.map ? opts.map.prev : undefined\n    let text = this.loadMap(opts.from, prev)\n    if (!this.mapFile && opts.from) {\n      this.mapFile = opts.from\n    }\n    if (this.mapFile) this.root = dirname(this.mapFile)\n    if (text) this.text = text\n  }\n\n  consumer() {\n    if (!this.consumerCache) {\n      this.consumerCache = new SourceMapConsumer(this.text)\n    }\n    return this.consumerCache\n  }\n\n  withContent() {\n    return !!(\n      this.consumer().sourcesContent &&\n      this.consumer().sourcesContent.length > 0\n    )\n  }\n\n  startWith(string, start) {\n    if (!string) return false\n    return string.substr(0, start.length) === start\n  }\n\n  getAnnotationURL(sourceMapString) {\n    return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, '').trim()\n  }\n\n  loadAnnotation(css) {\n    let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/gm)\n    if (!comments) return\n\n    // sourceMappingURLs from comments, strings, etc.\n    let start = css.lastIndexOf(comments.pop())\n    let end = css.indexOf('*/', start)\n\n    if (start > -1 && end > -1) {\n      // Locate the last sourceMappingURL to avoid pickin\n      this.annotation = this.getAnnotationURL(css.substring(start, end))\n    }\n  }\n\n  decodeInline(text) {\n    let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/\n    let baseUri = /^data:application\\/json;base64,/\n    let charsetUri = /^data:application\\/json;charset=utf-?8,/\n    let uri = /^data:application\\/json,/\n\n    if (charsetUri.test(text) || uri.test(text)) {\n      return decodeURIComponent(text.substr(RegExp.lastMatch.length))\n    }\n\n    if (baseCharsetUri.test(text) || baseUri.test(text)) {\n      return fromBase64(text.substr(RegExp.lastMatch.length))\n    }\n\n    let encoding = text.match(/data:application\\/json;([^,]+),/)[1]\n    throw new Error('Unsupported source map encoding ' + encoding)\n  }\n\n  loadFile(path) {\n    this.root = dirname(path)\n    if (existsSync(path)) {\n      this.mapFile = path\n      return readFileSync(path, 'utf-8').toString().trim()\n    }\n  }\n\n  loadMap(file, prev) {\n    if (prev === false) return false\n\n    if (prev) {\n      if (typeof prev === 'string') {\n        return prev\n      } else if (typeof prev === 'function') {\n        let prevPath = prev(file)\n        if (prevPath) {\n          let map = this.loadFile(prevPath)\n          if (!map) {\n            throw new Error(\n              'Unable to load previous source map: ' + prevPath.toString()\n            )\n          }\n          return map\n        }\n      } else if (prev instanceof SourceMapConsumer) {\n        return SourceMapGenerator.fromSourceMap(prev).toString()\n      } else if (prev instanceof SourceMapGenerator) {\n        return prev.toString()\n      } else if (this.isMap(prev)) {\n        return JSON.stringify(prev)\n      } else {\n        throw new Error(\n          'Unsupported previous source map format: ' + prev.toString()\n        )\n      }\n    } else if (this.inline) {\n      return this.decodeInline(this.annotation)\n    } else if (this.annotation) {\n      let map = this.annotation\n      if (file) map = join(dirname(file), map)\n      return this.loadFile(map)\n    }\n  }\n\n  isMap(map) {\n    if (typeof map !== 'object') return false\n    return (\n      typeof map.mappings === 'string' ||\n      typeof map._mappings === 'string' ||\n      Array.isArray(map.sections)\n    )\n  }\n}\n\nmodule.exports = PreviousMap\nPreviousMap.default = PreviousMap\n","'use strict'\n\nlet NoWorkResult = require('./no-work-result')\nlet LazyResult = require('./lazy-result')\nlet Document = require('./document')\nlet Root = require('./root')\n\nclass Processor {\n  constructor(plugins = []) {\n    this.version = '8.4.21'\n    this.plugins = this.normalize(plugins)\n  }\n\n  use(plugin) {\n    this.plugins = this.plugins.concat(this.normalize([plugin]))\n    return this\n  }\n\n  process(css, opts = {}) {\n    if (\n      this.plugins.length === 0 &&\n      typeof opts.parser === 'undefined' &&\n      typeof opts.stringifier === 'undefined' &&\n      typeof opts.syntax === 'undefined'\n    ) {\n      return new NoWorkResult(this, css, opts)\n    } else {\n      return new LazyResult(this, css, opts)\n    }\n  }\n\n  normalize(plugins) {\n    let normalized = []\n    for (let i of plugins) {\n      if (i.postcss === true) {\n        i = i()\n      } else if (i.postcss) {\n        i = i.postcss\n      }\n\n      if (typeof i === 'object' && Array.isArray(i.plugins)) {\n        normalized = normalized.concat(i.plugins)\n      } else if (typeof i === 'object' && i.postcssPlugin) {\n        normalized.push(i)\n      } else if (typeof i === 'function') {\n        normalized.push(i)\n      } else if (typeof i === 'object' && (i.parse || i.stringify)) {\n        if (process.env.NODE_ENV !== 'production') {\n          throw new Error(\n            'PostCSS syntaxes cannot be used as plugins. Instead, please use ' +\n              'one of the syntax/parser/stringifier options as outlined ' +\n              'in your PostCSS runner documentation.'\n          )\n        }\n      } else {\n        throw new Error(i + ' is not a PostCSS plugin')\n      }\n    }\n    return normalized\n  }\n}\n\nmodule.exports = Processor\nProcessor.default = Processor\n\nRoot.registerProcessor(Processor)\nDocument.registerProcessor(Processor)\n","'use strict'\n\nlet Warning = require('./warning')\n\nclass Result {\n  constructor(processor, root, opts) {\n    this.processor = processor\n    this.messages = []\n    this.root = root\n    this.opts = opts\n    this.css = undefined\n    this.map = undefined\n  }\n\n  toString() {\n    return this.css\n  }\n\n  warn(text, opts = {}) {\n    if (!opts.plugin) {\n      if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n        opts.plugin = this.lastPlugin.postcssPlugin\n      }\n    }\n\n    let warning = new Warning(text, opts)\n    this.messages.push(warning)\n\n    return warning\n  }\n\n  warnings() {\n    return this.messages.filter(i => i.type === 'warning')\n  }\n\n  get content() {\n    return this.css\n  }\n}\n\nmodule.exports = Result\nResult.default = Result\n","'use strict'\n\nlet Container = require('./container')\n\nlet LazyResult, Processor\n\nclass Root extends Container {\n  constructor(defaults) {\n    super(defaults)\n    this.type = 'root'\n    if (!this.nodes) this.nodes = []\n  }\n\n  removeChild(child, ignore) {\n    let index = this.index(child)\n\n    if (!ignore && index === 0 && this.nodes.length > 1) {\n      this.nodes[1].raws.before = this.nodes[index].raws.before\n    }\n\n    return super.removeChild(child)\n  }\n\n  normalize(child, sample, type) {\n    let nodes = super.normalize(child)\n\n    if (sample) {\n      if (type === 'prepend') {\n        if (this.nodes.length > 1) {\n          sample.raws.before = this.nodes[1].raws.before\n        } else {\n          delete sample.raws.before\n        }\n      } else if (this.first !== sample) {\n        for (let node of nodes) {\n          node.raws.before = sample.raws.before\n        }\n      }\n    }\n\n    return nodes\n  }\n\n  toResult(opts = {}) {\n    let lazy = new LazyResult(new Processor(), this, opts)\n    return lazy.stringify()\n  }\n}\n\nRoot.registerLazyResult = dependant => {\n  LazyResult = dependant\n}\n\nRoot.registerProcessor = dependant => {\n  Processor = dependant\n}\n\nmodule.exports = Root\nRoot.default = Root\n\nContainer.registerRoot(Root)\n","'use strict'\n\nlet Container = require('./container')\nlet list = require('./list')\n\nclass Rule extends Container {\n  constructor(defaults) {\n    super(defaults)\n    this.type = 'rule'\n    if (!this.nodes) this.nodes = []\n  }\n\n  get selectors() {\n    return list.comma(this.selector)\n  }\n\n  set selectors(values) {\n    let match = this.selector ? this.selector.match(/,\\s*/) : null\n    let sep = match ? match[0] : ',' + this.raw('between', 'beforeOpen')\n    this.selector = values.join(sep)\n  }\n}\n\nmodule.exports = Rule\nRule.default = Rule\n\nContainer.registerRule(Rule)\n","'use strict'\n\nconst DEFAULT_RAW = {\n  colon: ': ',\n  indent: '    ',\n  beforeDecl: '\\n',\n  beforeRule: '\\n',\n  beforeOpen: ' ',\n  beforeClose: '\\n',\n  beforeComment: '\\n',\n  after: '\\n',\n  emptyBody: '',\n  commentLeft: ' ',\n  commentRight: ' ',\n  semicolon: false\n}\n\nfunction capitalize(str) {\n  return str[0].toUpperCase() + str.slice(1)\n}\n\nclass Stringifier {\n  constructor(builder) {\n    this.builder = builder\n  }\n\n  stringify(node, semicolon) {\n    /* c8 ignore start */\n    if (!this[node.type]) {\n      throw new Error(\n        'Unknown AST node type ' +\n          node.type +\n          '. ' +\n          'Maybe you need to change PostCSS stringifier.'\n      )\n    }\n    /* c8 ignore stop */\n    this[node.type](node, semicolon)\n  }\n\n  document(node) {\n    this.body(node)\n  }\n\n  root(node) {\n    this.body(node)\n    if (node.raws.after) this.builder(node.raws.after)\n  }\n\n  comment(node) {\n    let left = this.raw(node, 'left', 'commentLeft')\n    let right = this.raw(node, 'right', 'commentRight')\n    this.builder('/*' + left + node.text + right + '*/', node)\n  }\n\n  decl(node, semicolon) {\n    let between = this.raw(node, 'between', 'colon')\n    let string = node.prop + between + this.rawValue(node, 'value')\n\n    if (node.important) {\n      string += node.raws.important || ' !important'\n    }\n\n    if (semicolon) string += ';'\n    this.builder(string, node)\n  }\n\n  rule(node) {\n    this.block(node, this.rawValue(node, 'selector'))\n    if (node.raws.ownSemicolon) {\n      this.builder(node.raws.ownSemicolon, node, 'end')\n    }\n  }\n\n  atrule(node, semicolon) {\n    let name = '@' + node.name\n    let params = node.params ? this.rawValue(node, 'params') : ''\n\n    if (typeof node.raws.afterName !== 'undefined') {\n      name += node.raws.afterName\n    } else if (params) {\n      name += ' '\n    }\n\n    if (node.nodes) {\n      this.block(node, name + params)\n    } else {\n      let end = (node.raws.between || '') + (semicolon ? ';' : '')\n      this.builder(name + params + end, node)\n    }\n  }\n\n  body(node) {\n    let last = node.nodes.length - 1\n    while (last > 0) {\n      if (node.nodes[last].type !== 'comment') break\n      last -= 1\n    }\n\n    let semicolon = this.raw(node, 'semicolon')\n    for (let i = 0; i < node.nodes.length; i++) {\n      let child = node.nodes[i]\n      let before = this.raw(child, 'before')\n      if (before) this.builder(before)\n      this.stringify(child, last !== i || semicolon)\n    }\n  }\n\n  block(node, start) {\n    let between = this.raw(node, 'between', 'beforeOpen')\n    this.builder(start + between + '{', node, 'start')\n\n    let after\n    if (node.nodes && node.nodes.length) {\n      this.body(node)\n      after = this.raw(node, 'after')\n    } else {\n      after = this.raw(node, 'after', 'emptyBody')\n    }\n\n    if (after) this.builder(after)\n    this.builder('}', node, 'end')\n  }\n\n  raw(node, own, detect) {\n    let value\n    if (!detect) detect = own\n\n    // Already had\n    if (own) {\n      value = node.raws[own]\n      if (typeof value !== 'undefined') return value\n    }\n\n    let parent = node.parent\n\n    if (detect === 'before') {\n      // Hack for first rule in CSS\n      if (!parent || (parent.type === 'root' && parent.first === node)) {\n        return ''\n      }\n\n      // `root` nodes in `document` should use only their own raws\n      if (parent && parent.type === 'document') {\n        return ''\n      }\n    }\n\n    // Floating child without parent\n    if (!parent) return DEFAULT_RAW[detect]\n\n    // Detect style by other nodes\n    let root = node.root()\n    if (!root.rawCache) root.rawCache = {}\n    if (typeof root.rawCache[detect] !== 'undefined') {\n      return root.rawCache[detect]\n    }\n\n    if (detect === 'before' || detect === 'after') {\n      return this.beforeAfter(node, detect)\n    } else {\n      let method = 'raw' + capitalize(detect)\n      if (this[method]) {\n        value = this[method](root, node)\n      } else {\n        root.walk(i => {\n          value = i.raws[own]\n          if (typeof value !== 'undefined') return false\n        })\n      }\n    }\n\n    if (typeof value === 'undefined') value = DEFAULT_RAW[detect]\n\n    root.rawCache[detect] = value\n    return value\n  }\n\n  rawSemicolon(root) {\n    let value\n    root.walk(i => {\n      if (i.nodes && i.nodes.length && i.last.type === 'decl') {\n        value = i.raws.semicolon\n        if (typeof value !== 'undefined') return false\n      }\n    })\n    return value\n  }\n\n  rawEmptyBody(root) {\n    let value\n    root.walk(i => {\n      if (i.nodes && i.nodes.length === 0) {\n        value = i.raws.after\n        if (typeof value !== 'undefined') return false\n      }\n    })\n    return value\n  }\n\n  rawIndent(root) {\n    if (root.raws.indent) return root.raws.indent\n    let value\n    root.walk(i => {\n      let p = i.parent\n      if (p && p !== root && p.parent && p.parent === root) {\n        if (typeof i.raws.before !== 'undefined') {\n          let parts = i.raws.before.split('\\n')\n          value = parts[parts.length - 1]\n          value = value.replace(/\\S/g, '')\n          return false\n        }\n      }\n    })\n    return value\n  }\n\n  rawBeforeComment(root, node) {\n    let value\n    root.walkComments(i => {\n      if (typeof i.raws.before !== 'undefined') {\n        value = i.raws.before\n        if (value.includes('\\n')) {\n          value = value.replace(/[^\\n]+$/, '')\n        }\n        return false\n      }\n    })\n    if (typeof value === 'undefined') {\n      value = this.raw(node, null, 'beforeDecl')\n    } else if (value) {\n      value = value.replace(/\\S/g, '')\n    }\n    return value\n  }\n\n  rawBeforeDecl(root, node) {\n    let value\n    root.walkDecls(i => {\n      if (typeof i.raws.before !== 'undefined') {\n        value = i.raws.before\n        if (value.includes('\\n')) {\n          value = value.replace(/[^\\n]+$/, '')\n        }\n        return false\n      }\n    })\n    if (typeof value === 'undefined') {\n      value = this.raw(node, null, 'beforeRule')\n    } else if (value) {\n      value = value.replace(/\\S/g, '')\n    }\n    return value\n  }\n\n  rawBeforeRule(root) {\n    let value\n    root.walk(i => {\n      if (i.nodes && (i.parent !== root || root.first !== i)) {\n        if (typeof i.raws.before !== 'undefined') {\n          value = i.raws.before\n          if (value.includes('\\n')) {\n            value = value.replace(/[^\\n]+$/, '')\n          }\n          return false\n        }\n      }\n    })\n    if (value) value = value.replace(/\\S/g, '')\n    return value\n  }\n\n  rawBeforeClose(root) {\n    let value\n    root.walk(i => {\n      if (i.nodes && i.nodes.length > 0) {\n        if (typeof i.raws.after !== 'undefined') {\n          value = i.raws.after\n          if (value.includes('\\n')) {\n            value = value.replace(/[^\\n]+$/, '')\n          }\n          return false\n        }\n      }\n    })\n    if (value) value = value.replace(/\\S/g, '')\n    return value\n  }\n\n  rawBeforeOpen(root) {\n    let value\n    root.walk(i => {\n      if (i.type !== 'decl') {\n        value = i.raws.between\n        if (typeof value !== 'undefined') return false\n      }\n    })\n    return value\n  }\n\n  rawColon(root) {\n    let value\n    root.walkDecls(i => {\n      if (typeof i.raws.between !== 'undefined') {\n        value = i.raws.between.replace(/[^\\s:]/g, '')\n        return false\n      }\n    })\n    return value\n  }\n\n  beforeAfter(node, detect) {\n    let value\n    if (node.type === 'decl') {\n      value = this.raw(node, null, 'beforeDecl')\n    } else if (node.type === 'comment') {\n      value = this.raw(node, null, 'beforeComment')\n    } else if (detect === 'before') {\n      value = this.raw(node, null, 'beforeRule')\n    } else {\n      value = this.raw(node, null, 'beforeClose')\n    }\n\n    let buf = node.parent\n    let depth = 0\n    while (buf && buf.type !== 'root') {\n      depth += 1\n      buf = buf.parent\n    }\n\n    if (value.includes('\\n')) {\n      let indent = this.raw(node, null, 'indent')\n      if (indent.length) {\n        for (let step = 0; step < depth; step++) value += indent\n      }\n    }\n\n    return value\n  }\n\n  rawValue(node, prop) {\n    let value = node[prop]\n    let raw = node.raws[prop]\n    if (raw && raw.value === value) {\n      return raw.raw\n    }\n\n    return value\n  }\n}\n\nmodule.exports = Stringifier\nStringifier.default = Stringifier\n","'use strict'\n\nlet Stringifier = require('./stringifier')\n\nfunction stringify(node, builder) {\n  let str = new Stringifier(builder)\n  str.stringify(node)\n}\n\nmodule.exports = stringify\nstringify.default = stringify\n","'use strict'\n\nmodule.exports.isClean = Symbol('isClean')\n\nmodule.exports.my = Symbol('my')\n","'use strict'\n\nlet pico = require('picocolors')\n\nlet tokenizer = require('./tokenize')\n\nlet Input\n\nfunction registerInput(dependant) {\n  Input = dependant\n}\n\nconst HIGHLIGHT_THEME = {\n  'brackets': pico.cyan,\n  'at-word': pico.cyan,\n  'comment': pico.gray,\n  'string': pico.green,\n  'class': pico.yellow,\n  'hash': pico.magenta,\n  'call': pico.cyan,\n  '(': pico.cyan,\n  ')': pico.cyan,\n  '{': pico.yellow,\n  '}': pico.yellow,\n  '[': pico.yellow,\n  ']': pico.yellow,\n  ':': pico.yellow,\n  ';': pico.yellow\n}\n\nfunction getTokenType([type, value], processor) {\n  if (type === 'word') {\n    if (value[0] === '.') {\n      return 'class'\n    }\n    if (value[0] === '#') {\n      return 'hash'\n    }\n  }\n\n  if (!processor.endOfFile()) {\n    let next = processor.nextToken()\n    processor.back(next)\n    if (next[0] === 'brackets' || next[0] === '(') return 'call'\n  }\n\n  return type\n}\n\nfunction terminalHighlight(css) {\n  let processor = tokenizer(new Input(css), { ignoreErrors: true })\n  let result = ''\n  while (!processor.endOfFile()) {\n    let token = processor.nextToken()\n    let color = HIGHLIGHT_THEME[getTokenType(token, processor)]\n    if (color) {\n      result += token[1]\n        .split(/\\r?\\n/)\n        .map(i => color(i))\n        .join('\\n')\n    } else {\n      result += token[1]\n    }\n  }\n  return result\n}\n\nterminalHighlight.registerInput = registerInput\n\nmodule.exports = terminalHighlight\n","'use strict'\n\nconst SINGLE_QUOTE = \"'\".charCodeAt(0)\nconst DOUBLE_QUOTE = '\"'.charCodeAt(0)\nconst BACKSLASH = '\\\\'.charCodeAt(0)\nconst SLASH = '/'.charCodeAt(0)\nconst NEWLINE = '\\n'.charCodeAt(0)\nconst SPACE = ' '.charCodeAt(0)\nconst FEED = '\\f'.charCodeAt(0)\nconst TAB = '\\t'.charCodeAt(0)\nconst CR = '\\r'.charCodeAt(0)\nconst OPEN_SQUARE = '['.charCodeAt(0)\nconst CLOSE_SQUARE = ']'.charCodeAt(0)\nconst OPEN_PARENTHESES = '('.charCodeAt(0)\nconst CLOSE_PARENTHESES = ')'.charCodeAt(0)\nconst OPEN_CURLY = '{'.charCodeAt(0)\nconst CLOSE_CURLY = '}'.charCodeAt(0)\nconst SEMICOLON = ';'.charCodeAt(0)\nconst ASTERISK = '*'.charCodeAt(0)\nconst COLON = ':'.charCodeAt(0)\nconst AT = '@'.charCodeAt(0)\n\nconst RE_AT_END = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g\nconst RE_WORD_END = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g\nconst RE_BAD_BRACKET = /.[\\n\"'(/\\\\]/\nconst RE_HEX_ESCAPE = /[\\da-f]/i\n\nmodule.exports = function tokenizer(input, options = {}) {\n  let css = input.css.valueOf()\n  let ignore = options.ignoreErrors\n\n  let code, next, quote, content, escape\n  let escaped, escapePos, prev, n, currentToken\n\n  let length = css.length\n  let pos = 0\n  let buffer = []\n  let returned = []\n\n  function position() {\n    return pos\n  }\n\n  function unclosed(what) {\n    throw input.error('Unclosed ' + what, pos)\n  }\n\n  function endOfFile() {\n    return returned.length === 0 && pos >= length\n  }\n\n  function nextToken(opts) {\n    if (returned.length) return returned.pop()\n    if (pos >= length) return\n\n    let ignoreUnclosed = opts ? opts.ignoreUnclosed : false\n\n    code = css.charCodeAt(pos)\n\n    switch (code) {\n      case NEWLINE:\n      case SPACE:\n      case TAB:\n      case CR:\n      case FEED: {\n        next = pos\n        do {\n          next += 1\n          code = css.charCodeAt(next)\n        } while (\n          code === SPACE ||\n          code === NEWLINE ||\n          code === TAB ||\n          code === CR ||\n          code === FEED\n        )\n\n        currentToken = ['space', css.slice(pos, next)]\n        pos = next - 1\n        break\n      }\n\n      case OPEN_SQUARE:\n      case CLOSE_SQUARE:\n      case OPEN_CURLY:\n      case CLOSE_CURLY:\n      case COLON:\n      case SEMICOLON:\n      case CLOSE_PARENTHESES: {\n        let controlChar = String.fromCharCode(code)\n        currentToken = [controlChar, controlChar, pos]\n        break\n      }\n\n      case OPEN_PARENTHESES: {\n        prev = buffer.length ? buffer.pop()[1] : ''\n        n = css.charCodeAt(pos + 1)\n        if (\n          prev === 'url' &&\n          n !== SINGLE_QUOTE &&\n          n !== DOUBLE_QUOTE &&\n          n !== SPACE &&\n          n !== NEWLINE &&\n          n !== TAB &&\n          n !== FEED &&\n          n !== CR\n        ) {\n          next = pos\n          do {\n            escaped = false\n            next = css.indexOf(')', next + 1)\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos\n                break\n              } else {\n                unclosed('bracket')\n              }\n            }\n            escapePos = next\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n              escapePos -= 1\n              escaped = !escaped\n            }\n          } while (escaped)\n\n          currentToken = ['brackets', css.slice(pos, next + 1), pos, next]\n\n          pos = next\n        } else {\n          next = css.indexOf(')', pos + 1)\n          content = css.slice(pos, next + 1)\n\n          if (next === -1 || RE_BAD_BRACKET.test(content)) {\n            currentToken = ['(', '(', pos]\n          } else {\n            currentToken = ['brackets', content, pos, next]\n            pos = next\n          }\n        }\n\n        break\n      }\n\n      case SINGLE_QUOTE:\n      case DOUBLE_QUOTE: {\n        quote = code === SINGLE_QUOTE ? \"'\" : '\"'\n        next = pos\n        do {\n          escaped = false\n          next = css.indexOf(quote, next + 1)\n          if (next === -1) {\n            if (ignore || ignoreUnclosed) {\n              next = pos + 1\n              break\n            } else {\n              unclosed('string')\n            }\n          }\n          escapePos = next\n          while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n            escapePos -= 1\n            escaped = !escaped\n          }\n        } while (escaped)\n\n        currentToken = ['string', css.slice(pos, next + 1), pos, next]\n        pos = next\n        break\n      }\n\n      case AT: {\n        RE_AT_END.lastIndex = pos + 1\n        RE_AT_END.test(css)\n        if (RE_AT_END.lastIndex === 0) {\n          next = css.length - 1\n        } else {\n          next = RE_AT_END.lastIndex - 2\n        }\n\n        currentToken = ['at-word', css.slice(pos, next + 1), pos, next]\n\n        pos = next\n        break\n      }\n\n      case BACKSLASH: {\n        next = pos\n        escape = true\n        while (css.charCodeAt(next + 1) === BACKSLASH) {\n          next += 1\n          escape = !escape\n        }\n        code = css.charCodeAt(next + 1)\n        if (\n          escape &&\n          code !== SLASH &&\n          code !== SPACE &&\n          code !== NEWLINE &&\n          code !== TAB &&\n          code !== CR &&\n          code !== FEED\n        ) {\n          next += 1\n          if (RE_HEX_ESCAPE.test(css.charAt(next))) {\n            while (RE_HEX_ESCAPE.test(css.charAt(next + 1))) {\n              next += 1\n            }\n            if (css.charCodeAt(next + 1) === SPACE) {\n              next += 1\n            }\n          }\n        }\n\n        currentToken = ['word', css.slice(pos, next + 1), pos, next]\n\n        pos = next\n        break\n      }\n\n      default: {\n        if (code === SLASH && css.charCodeAt(pos + 1) === ASTERISK) {\n          next = css.indexOf('*/', pos + 2) + 1\n          if (next === 0) {\n            if (ignore || ignoreUnclosed) {\n              next = css.length\n            } else {\n              unclosed('comment')\n            }\n          }\n\n          currentToken = ['comment', css.slice(pos, next + 1), pos, next]\n          pos = next\n        } else {\n          RE_WORD_END.lastIndex = pos + 1\n          RE_WORD_END.test(css)\n          if (RE_WORD_END.lastIndex === 0) {\n            next = css.length - 1\n          } else {\n            next = RE_WORD_END.lastIndex - 2\n          }\n\n          currentToken = ['word', css.slice(pos, next + 1), pos, next]\n          buffer.push(currentToken)\n          pos = next\n        }\n\n        break\n      }\n    }\n\n    pos++\n    return currentToken\n  }\n\n  function back(token) {\n    returned.push(token)\n  }\n\n  return {\n    back,\n    nextToken,\n    endOfFile,\n    position\n  }\n}\n","/* eslint-disable no-console */\n'use strict'\n\nlet printed = {}\n\nmodule.exports = function warnOnce(message) {\n  if (printed[message]) return\n  printed[message] = true\n\n  if (typeof console !== 'undefined' && console.warn) {\n    console.warn(message)\n  }\n}\n","'use strict'\n\nclass Warning {\n  constructor(text, opts = {}) {\n    this.type = 'warning'\n    this.text = text\n\n    if (opts.node && opts.node.source) {\n      let range = opts.node.rangeBy(opts)\n      this.line = range.start.line\n      this.column = range.start.column\n      this.endLine = range.end.line\n      this.endColumn = range.end.column\n    }\n\n    for (let opt in opts) this[opt] = opts[opt]\n  }\n\n  toString() {\n    if (this.node) {\n      return this.node.error(this.text, {\n        plugin: this.plugin,\n        index: this.index,\n        word: this.word\n      }).message\n    }\n\n    if (this.plugin) {\n      return this.plugin + ': ' + this.text\n    }\n\n    return this.text\n  }\n}\n\nmodule.exports = Warning\nWarning.default = Warning\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  }\n  else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  }\n  else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\nfunction SortTemplate(comparator) {\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\nfunction randomIntInRange(low, high) {\n  return Math.round(low + (Math.random() * (high - low)));\n}\n\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r];\n\n    // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot, false) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1;\n\n    // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n\n  return doQuickSort;\n}\n\nfunction cloneSort(comparator) {\n  let template = SortTemplate.toString();\n  let templateFn = new Function(`return ${template}`)();\n  return templateFn(comparator);\n}\n\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\n\nlet sortCache = new WeakMap();\nexports.quickSort = function (ary, comparator, start = 0) {\n  let doQuickSort = sortCache.get(comparator);\n  if (doQuickSort === void 0) {\n    doQuickSort = cloneSort(comparator);\n    sortCache.set(comparator, doQuickSort);\n  }\n  doQuickSort(ary, comparator, start, ary.length - 1);\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar binarySearch = require('./binary-search');\nvar ArraySet = require('./array-set').ArraySet;\nvar base64VLQ = require('./base64-vlq');\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  return sourceMap.sections != null\n    ? new IndexedSourceMapConsumer(sourceMap, aSourceMapURL)\n    : new BasicSourceMapConsumer(sourceMap, aSourceMapURL);\n}\n\nSourceMapConsumer.fromSourceMap = function(aSourceMap, aSourceMapURL) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap, aSourceMapURL);\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\n\n// `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\n\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator =\n  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n    var c = aStr.charAt(index);\n    return c === \";\" || c === \",\";\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  };\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\nSourceMapConsumer.prototype.eachMapping =\n  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n    var context = aContext || null;\n    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    var mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    var sourceRoot = this.sourceRoot;\n    var boundCallback = aCallback.bind(context);\n    var names = this._names;\n    var sources = this._sources;\n    var sourceMapURL = this._sourceMapURL;\n\n    for (var i = 0, n = mappings.length; i < n; i++) {\n      var mapping = mappings[i];\n      var source = mapping.source === null ? null : sources.at(mapping.source);\n      source = util.computeSourceURL(sourceRoot, source, sourceMapURL);\n      boundCallback({\n        source: source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : names.at(mapping.name)\n      });\n    }\n  };\n\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number is 1-based.\n *   - column: Optional. the column number in the original source.\n *    The column number is 0-based.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *    line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *    The column number is 0-based.\n */\nSourceMapConsumer.prototype.allGeneratedPositionsFor =\n  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n    var line = util.getArg(aArgs, 'line');\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    var needle = {\n      source: util.getArg(aArgs, 'source'),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, 'column', 0)\n    };\n\n    needle.source = this._findSourceIndex(needle.source);\n    if (needle.source < 0) {\n      return [];\n    }\n\n    var mappings = [];\n\n    var index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        var originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        var originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  };\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The first parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nfunction BasicSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources');\n  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null);\n\n  // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  if (sourceRoot) {\n    sourceRoot = util.normalize(sourceRoot);\n  }\n\n  sources = sources\n    .map(String)\n    // Some source maps produce relative source paths like \"./foo.js\" instead of\n    // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n    // See bugzil.la/1090768.\n    .map(util.normalize)\n    // Always ensure that absolute sources are internally stored relative to\n    // the source root, if the source root is absolute. Not doing this would\n    // be particularly problematic when the source root is a prefix of the\n    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n    .map(function (source) {\n      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n        ? util.relative(sourceRoot, source)\n        : source;\n    });\n\n  // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n\n  this._absoluteSources = this._sources.toArray().map(function (s) {\n    return util.computeSourceURL(sourceRoot, s, aSourceMapURL);\n  });\n\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this._sourceMapURL = aSourceMapURL;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n\n/**\n * Utility function to find the index of a source.  Returns -1 if not\n * found.\n */\nBasicSourceMapConsumer.prototype._findSourceIndex = function(aSource) {\n  var relativeSource = aSource;\n  if (this.sourceRoot != null) {\n    relativeSource = util.relative(this.sourceRoot, relativeSource);\n  }\n\n  if (this._sources.has(relativeSource)) {\n    return this._sources.indexOf(relativeSource);\n  }\n\n  // Maybe aSource is an absolute URL as returned by |sources|.  In\n  // this case we can't simply undo the transform.\n  var i;\n  for (i = 0; i < this._absoluteSources.length; ++i) {\n    if (this._absoluteSources[i] == aSource) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @param String aSourceMapURL\n *        The URL at which the source map can be found (optional)\n * @returns BasicSourceMapConsumer\n */\nBasicSourceMapConsumer.fromSourceMap =\n  function SourceMapConsumer_fromSourceMap(aSourceMap, aSourceMapURL) {\n    var smc = Object.create(BasicSourceMapConsumer.prototype);\n\n    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n    smc.sourceRoot = aSourceMap._sourceRoot;\n    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\n                                                            smc.sourceRoot);\n    smc.file = aSourceMap._file;\n    smc._sourceMapURL = aSourceMapURL;\n    smc._absoluteSources = smc._sources.toArray().map(function (s) {\n      return util.computeSourceURL(smc.sourceRoot, s, aSourceMapURL);\n    });\n\n    // Because we are modifying the entries (by converting string sources and\n    // names to indices into the sources and names ArraySets), we have to make\n    // a copy of the entry or else bad things happen. Shared mutable state\n    // strikes again! See github issue #191.\n\n    var generatedMappings = aSourceMap._mappings.toArray().slice();\n    var destGeneratedMappings = smc.__generatedMappings = [];\n    var destOriginalMappings = smc.__originalMappings = [];\n\n    for (var i = 0, length = generatedMappings.length; i < length; i++) {\n      var srcMapping = generatedMappings[i];\n      var destMapping = new Mapping;\n      destMapping.generatedLine = srcMapping.generatedLine;\n      destMapping.generatedColumn = srcMapping.generatedColumn;\n\n      if (srcMapping.source) {\n        destMapping.source = sources.indexOf(srcMapping.source);\n        destMapping.originalLine = srcMapping.originalLine;\n        destMapping.originalColumn = srcMapping.originalColumn;\n\n        if (srcMapping.name) {\n          destMapping.name = names.indexOf(srcMapping.name);\n        }\n\n        destOriginalMappings.push(destMapping);\n      }\n\n      destGeneratedMappings.push(destMapping);\n    }\n\n    quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n\n    return smc;\n  };\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nBasicSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._absoluteSources.slice();\n  }\n});\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\n\nconst compareGenerated = util.compareByGeneratedPositionsDeflatedNoLine;\nfunction sortGenerated(array, start) {\n  let l = array.length;\n  let n = array.length - start;\n  if (n <= 1) {\n    return;\n  } else if (n == 2) {\n    let a = array[start];\n    let b = array[start + 1];\n    if (compareGenerated(a, b) > 0) {\n      array[start] = b;\n      array[start + 1] = a;\n    }\n  } else if (n < 20) {\n    for (let i = start; i < l; i++) {\n      for (let j = i; j > start; j--) {\n        let a = array[j - 1];\n        let b = array[j];\n        if (compareGenerated(a, b) <= 0) {\n          break;\n        }\n        array[j - 1] = b;\n        array[j] = a;\n      }\n    }\n  } else {\n    quickSort(array, compareGenerated, start);\n  }\n}\nBasicSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    var generatedLine = 1;\n    var previousGeneratedColumn = 0;\n    var previousOriginalLine = 0;\n    var previousOriginalColumn = 0;\n    var previousSource = 0;\n    var previousName = 0;\n    var length = aStr.length;\n    var index = 0;\n    var cachedSegments = {};\n    var temp = {};\n    var originalMappings = [];\n    var generatedMappings = [];\n    var mapping, str, segment, end, value;\n\n    let subarrayStart = 0;\n    while (index < length) {\n      if (aStr.charAt(index) === ';') {\n        generatedLine++;\n        index++;\n        previousGeneratedColumn = 0;\n\n        sortGenerated(generatedMappings, subarrayStart);\n        subarrayStart = generatedMappings.length;\n      }\n      else if (aStr.charAt(index) === ',') {\n        index++;\n      }\n      else {\n        mapping = new Mapping();\n        mapping.generatedLine = generatedLine;\n\n        for (end = index; end < length; end++) {\n          if (this._charIsMappingSeparator(aStr, end)) {\n            break;\n          }\n        }\n        str = aStr.slice(index, end);\n\n        segment = [];\n        while (index < end) {\n          base64VLQ.decode(aStr, index, temp);\n          value = temp.value;\n          index = temp.rest;\n          segment.push(value);\n        }\n\n        if (segment.length === 2) {\n          throw new Error('Found a source, but no line and column');\n        }\n\n        if (segment.length === 3) {\n          throw new Error('Found a source and line, but no column');\n        }\n\n        // Generated column.\n        mapping.generatedColumn = previousGeneratedColumn + segment[0];\n        previousGeneratedColumn = mapping.generatedColumn;\n\n        if (segment.length > 1) {\n          // Original source.\n          mapping.source = previousSource + segment[1];\n          previousSource += segment[1];\n\n          // Original line.\n          mapping.originalLine = previousOriginalLine + segment[2];\n          previousOriginalLine = mapping.originalLine;\n          // Lines are stored 0-based\n          mapping.originalLine += 1;\n\n          // Original column.\n          mapping.originalColumn = previousOriginalColumn + segment[3];\n          previousOriginalColumn = mapping.originalColumn;\n\n          if (segment.length > 4) {\n            // Original name.\n            mapping.name = previousName + segment[4];\n            previousName += segment[4];\n          }\n        }\n\n        generatedMappings.push(mapping);\n        if (typeof mapping.originalLine === 'number') {\n          let currentSource = mapping.source;\n          while (originalMappings.length <= currentSource) {\n            originalMappings.push(null);\n          }\n          if (originalMappings[currentSource] === null) {\n            originalMappings[currentSource] = [];\n          }\n          originalMappings[currentSource].push(mapping);\n        }\n      }\n    }\n\n    sortGenerated(generatedMappings, subarrayStart);\n    this.__generatedMappings = generatedMappings;\n\n    for (var i = 0; i < originalMappings.length; i++) {\n      if (originalMappings[i] != null) {\n        quickSort(originalMappings[i], util.compareByOriginalPositionsNoSource);\n      }\n    }\n    this.__originalMappings = [].concat(...originalMappings);\n  };\n\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\nBasicSourceMapConsumer.prototype._findMapping =\n  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\n                                         aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError('Line must be greater than or equal to 1, got '\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError('Column must be greater than or equal to 0, got '\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  };\n\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\nBasicSourceMapConsumer.prototype.computeColumnSpans =\n  function SourceMapConsumer_computeColumnSpans() {\n    for (var index = 0; index < this._generatedMappings.length; ++index) {\n      var mapping = this._generatedMappings[index];\n\n      // Mappings do not contain a field for the last generated columnt. We\n      // can come up with an optimistic estimate, however, by assuming that\n      // mappings are contiguous (i.e. given two consecutive mappings, the\n      // first mapping ends where the second one starts).\n      if (index + 1 < this._generatedMappings.length) {\n        var nextMapping = this._generatedMappings[index + 1];\n\n        if (mapping.generatedLine === nextMapping.generatedLine) {\n          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n          continue;\n        }\n      }\n\n      // The last mapping for each line spans the entire line.\n      mapping.lastGeneratedColumn = Infinity;\n    }\n  };\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nBasicSourceMapConsumer.prototype.originalPositionFor =\n  function SourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._generatedMappings,\n      \"generatedLine\",\n      \"generatedColumn\",\n      util.compareByGeneratedPositionsDeflated,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._generatedMappings[index];\n\n      if (mapping.generatedLine === needle.generatedLine) {\n        var source = util.getArg(mapping, 'source', null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          source = util.computeSourceURL(this.sourceRoot, source, this._sourceMapURL);\n        }\n        var name = util.getArg(mapping, 'name', null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n        return {\n          source: source,\n          line: util.getArg(mapping, 'originalLine', null),\n          column: util.getArg(mapping, 'originalColumn', null),\n          name: name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function BasicSourceMapConsumer_hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function (sc) { return sc == null; });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nBasicSourceMapConsumer.prototype.sourceContentFor =\n  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    var index = this._findSourceIndex(aSource);\n    if (index >= 0) {\n      return this.sourcesContent[index];\n    }\n\n    var relativeSource = aSource;\n    if (this.sourceRoot != null) {\n      relativeSource = util.relative(this.sourceRoot, relativeSource);\n    }\n\n    var url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      var fileUriAbsPath = relativeSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + relativeSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + relativeSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + relativeSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nBasicSourceMapConsumer.prototype.generatedPositionFor =\n  function SourceMapConsumer_generatedPositionFor(aArgs) {\n    var source = util.getArg(aArgs, 'source');\n    source = this._findSourceIndex(source);\n    if (source < 0) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n\n    var needle = {\n      source: source,\n      originalLine: util.getArg(aArgs, 'line'),\n      originalColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._originalMappings,\n      \"originalLine\",\n      \"originalColumn\",\n      util.compareByOriginalPositions,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (mapping.source === needle.source) {\n        return {\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  };\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The first parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nfunction IndexedSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line ||\n        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n    lastOffset = offset;\n\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'), aSourceMapURL)\n    }\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nIndexedSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n});\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nIndexedSourceMapConsumer.prototype.originalPositionFor =\n  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    var sectionIndex = binarySearch.search(needle, this._sections,\n      function(needle, section) {\n        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (needle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    var section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n    return this._sections.every(function (s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nIndexedSourceMapConsumer.prototype.sourceContentFor =\n  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      var content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based. \n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nIndexedSourceMapConsumer.prototype.generatedPositionFor =\n  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer._findSourceIndex(util.getArg(aArgs, 'source')) === -1) {\n        continue;\n      }\n      var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        var ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nIndexedSourceMapConsumer.prototype._parseMappings =\n  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    this.__generatedMappings = [];\n    this.__originalMappings = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n      var sectionMappings = section.consumer._generatedMappings;\n      for (var j = 0; j < sectionMappings.length; j++) {\n        var mapping = sectionMappings[j];\n\n        var source = section.consumer._sources.at(mapping.source);\n        source = util.computeSourceURL(section.consumer.sourceRoot, source, this._sourceMapURL);\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        var name = null;\n        if (mapping.name) {\n          name = section.consumer._names.at(mapping.name);\n          this._names.add(name);\n          name = this._names.indexOf(name);\n        }\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        var adjustedMapping = {\n          source: source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name: name\n        };\n\n        this.__generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === 'number') {\n          this.__originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n\n    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n    quickSort(this.__originalMappings, util.compareByOriginalPositions);\n  };\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n        throw new Error(\n            'original.line and original.column are not numbers -- you probably meant to omit ' +\n            'the original mapping entirely and only map the generated position. If so, pass ' +\n            'null for the original mapping instead of an object with empty or null values.'\n        );\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      throw new Error('Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;\nvar util = require('./util');\n\n// Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\n// operating systems these days (capturing the result).\nvar REGEX_NEWLINE = /(\\r?\\n)/;\n\n// Newline character code for charCodeAt() comparisons\nvar NEWLINE_CODE = 10;\n\n// Private symbol for identifying `SourceNode`s when multiple versions of\n// the source-map library are loaded. This MUST NOT CHANGE across\n// versions!\nvar isSourceNode = \"$$$isSourceNode$$$\";\n\n/**\n * SourceNodes provide a way to abstract over interpolating/concatenating\n * snippets of generated JavaScript source code while maintaining the line and\n * column information associated with the original source code.\n *\n * @param aLine The original line number.\n * @param aColumn The original column number.\n * @param aSource The original source's filename.\n * @param aChunks Optional. An array of strings which are snippets of\n *        generated JS, or other SourceNodes.\n * @param aName The original identifier.\n */\nfunction SourceNode(aLine, aColumn, aSource, aChunks, aName) {\n  this.children = [];\n  this.sourceContents = {};\n  this.line = aLine == null ? null : aLine;\n  this.column = aColumn == null ? null : aColumn;\n  this.source = aSource == null ? null : aSource;\n  this.name = aName == null ? null : aName;\n  this[isSourceNode] = true;\n  if (aChunks != null) this.add(aChunks);\n}\n\n/**\n * Creates a SourceNode from generated code and a SourceMapConsumer.\n *\n * @param aGeneratedCode The generated code\n * @param aSourceMapConsumer The SourceMap for the generated code\n * @param aRelativePath Optional. The path that relative sources in the\n *        SourceMapConsumer should be relative to.\n */\nSourceNode.fromStringWithSourceMap =\n  function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\n    // The SourceNode we want to fill with the generated code\n    // and the SourceMap\n    var node = new SourceNode();\n\n    // All even indices of this array are one line of the generated code,\n    // while all odd indices are the newlines between two adjacent lines\n    // (since `REGEX_NEWLINE` captures its match).\n    // Processed fragments are accessed by calling `shiftNextLine`.\n    var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\n    var remainingLinesIndex = 0;\n    var shiftNextLine = function() {\n      var lineContents = getNextLine();\n      // The last line of a file might not have a newline.\n      var newLine = getNextLine() || \"\";\n      return lineContents + newLine;\n\n      function getNextLine() {\n        return remainingLinesIndex < remainingLines.length ?\n            remainingLines[remainingLinesIndex++] : undefined;\n      }\n    };\n\n    // We need to remember the position of \"remainingLines\"\n    var lastGeneratedLine = 1, lastGeneratedColumn = 0;\n\n    // The generate SourceNodes we need a code range.\n    // To extract it current and last mapping is used.\n    // Here we store the last mapping.\n    var lastMapping = null;\n\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      if (lastMapping !== null) {\n        // We add the code from \"lastMapping\" to \"mapping\":\n        // First check if there is a new line in between.\n        if (lastGeneratedLine < mapping.generatedLine) {\n          // Associate first line with \"lastMapping\"\n          addMappingWithCode(lastMapping, shiftNextLine());\n          lastGeneratedLine++;\n          lastGeneratedColumn = 0;\n          // The remaining code is added without mapping\n        } else {\n          // There is no new line in between.\n          // Associate the code between \"lastGeneratedColumn\" and\n          // \"mapping.generatedColumn\" with \"lastMapping\"\n          var nextLine = remainingLines[remainingLinesIndex] || '';\n          var code = nextLine.substr(0, mapping.generatedColumn -\n                                        lastGeneratedColumn);\n          remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn -\n                                              lastGeneratedColumn);\n          lastGeneratedColumn = mapping.generatedColumn;\n          addMappingWithCode(lastMapping, code);\n          // No more remaining code, continue\n          lastMapping = mapping;\n          return;\n        }\n      }\n      // We add the generated code until the first mapping\n      // to the SourceNode without any mapping.\n      // Each line is added as separate string.\n      while (lastGeneratedLine < mapping.generatedLine) {\n        node.add(shiftNextLine());\n        lastGeneratedLine++;\n      }\n      if (lastGeneratedColumn < mapping.generatedColumn) {\n        var nextLine = remainingLines[remainingLinesIndex] || '';\n        node.add(nextLine.substr(0, mapping.generatedColumn));\n        remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);\n        lastGeneratedColumn = mapping.generatedColumn;\n      }\n      lastMapping = mapping;\n    }, this);\n    // We have processed all mappings.\n    if (remainingLinesIndex < remainingLines.length) {\n      if (lastMapping) {\n        // Associate the remaining code in the current line with \"lastMapping\"\n        addMappingWithCode(lastMapping, shiftNextLine());\n      }\n      // and add the remaining lines without any mapping\n      node.add(remainingLines.splice(remainingLinesIndex).join(\"\"));\n    }\n\n    // Copy sourcesContent into SourceNode\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aRelativePath != null) {\n          sourceFile = util.join(aRelativePath, sourceFile);\n        }\n        node.setSourceContent(sourceFile, content);\n      }\n    });\n\n    return node;\n\n    function addMappingWithCode(mapping, code) {\n      if (mapping === null || mapping.source === undefined) {\n        node.add(code);\n      } else {\n        var source = aRelativePath\n          ? util.join(aRelativePath, mapping.source)\n          : mapping.source;\n        node.add(new SourceNode(mapping.originalLine,\n                                mapping.originalColumn,\n                                source,\n                                code,\n                                mapping.name));\n      }\n    }\n  };\n\n/**\n * Add a chunk of generated JS to this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.add = function SourceNode_add(aChunk) {\n  if (Array.isArray(aChunk)) {\n    aChunk.forEach(function (chunk) {\n      this.add(chunk);\n    }, this);\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    if (aChunk) {\n      this.children.push(aChunk);\n    }\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Add a chunk of generated JS to the beginning of this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {\n  if (Array.isArray(aChunk)) {\n    for (var i = aChunk.length-1; i >= 0; i--) {\n      this.prepend(aChunk[i]);\n    }\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    this.children.unshift(aChunk);\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Walk over the tree of JS snippets in this node and its children. The\n * walking function is called once for each snippet of JS and is passed that\n * snippet and the its original associated source's line/column location.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walk = function SourceNode_walk(aFn) {\n  var chunk;\n  for (var i = 0, len = this.children.length; i < len; i++) {\n    chunk = this.children[i];\n    if (chunk[isSourceNode]) {\n      chunk.walk(aFn);\n    }\n    else {\n      if (chunk !== '') {\n        aFn(chunk, { source: this.source,\n                     line: this.line,\n                     column: this.column,\n                     name: this.name });\n      }\n    }\n  }\n};\n\n/**\n * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\n * each of `this.children`.\n *\n * @param aSep The separator.\n */\nSourceNode.prototype.join = function SourceNode_join(aSep) {\n  var newChildren;\n  var i;\n  var len = this.children.length;\n  if (len > 0) {\n    newChildren = [];\n    for (i = 0; i < len-1; i++) {\n      newChildren.push(this.children[i]);\n      newChildren.push(aSep);\n    }\n    newChildren.push(this.children[i]);\n    this.children = newChildren;\n  }\n  return this;\n};\n\n/**\n * Call String.prototype.replace on the very right-most source snippet. Useful\n * for trimming whitespace from the end of a source node, etc.\n *\n * @param aPattern The pattern to replace.\n * @param aReplacement The thing to replace the pattern with.\n */\nSourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {\n  var lastChild = this.children[this.children.length - 1];\n  if (lastChild[isSourceNode]) {\n    lastChild.replaceRight(aPattern, aReplacement);\n  }\n  else if (typeof lastChild === 'string') {\n    this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\n  }\n  else {\n    this.children.push(''.replace(aPattern, aReplacement));\n  }\n  return this;\n};\n\n/**\n * Set the source content for a source file. This will be added to the SourceMapGenerator\n * in the sourcesContent field.\n *\n * @param aSourceFile The filename of the source file\n * @param aSourceContent The content of the source file\n */\nSourceNode.prototype.setSourceContent =\n  function SourceNode_setSourceContent(aSourceFile, aSourceContent) {\n    this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\n  };\n\n/**\n * Walk over the tree of SourceNodes. The walking function is called for each\n * source file content and is passed the filename and source content.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walkSourceContents =\n  function SourceNode_walkSourceContents(aFn) {\n    for (var i = 0, len = this.children.length; i < len; i++) {\n      if (this.children[i][isSourceNode]) {\n        this.children[i].walkSourceContents(aFn);\n      }\n    }\n\n    var sources = Object.keys(this.sourceContents);\n    for (var i = 0, len = sources.length; i < len; i++) {\n      aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\n    }\n  };\n\n/**\n * Return the string representation of this source node. Walks over the tree\n * and concatenates all the various snippets together to one string.\n */\nSourceNode.prototype.toString = function SourceNode_toString() {\n  var str = \"\";\n  this.walk(function (chunk) {\n    str += chunk;\n  });\n  return str;\n};\n\n/**\n * Returns the string representation of this source node along with a source\n * map.\n */\nSourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {\n  var generated = {\n    code: \"\",\n    line: 1,\n    column: 0\n  };\n  var map = new SourceMapGenerator(aArgs);\n  var sourceMappingActive = false;\n  var lastOriginalSource = null;\n  var lastOriginalLine = null;\n  var lastOriginalColumn = null;\n  var lastOriginalName = null;\n  this.walk(function (chunk, original) {\n    generated.code += chunk;\n    if (original.source !== null\n        && original.line !== null\n        && original.column !== null) {\n      if(lastOriginalSource !== original.source\n         || lastOriginalLine !== original.line\n         || lastOriginalColumn !== original.column\n         || lastOriginalName !== original.name) {\n        map.addMapping({\n          source: original.source,\n          original: {\n            line: original.line,\n            column: original.column\n          },\n          generated: {\n            line: generated.line,\n            column: generated.column\n          },\n          name: original.name\n        });\n      }\n      lastOriginalSource = original.source;\n      lastOriginalLine = original.line;\n      lastOriginalColumn = original.column;\n      lastOriginalName = original.name;\n      sourceMappingActive = true;\n    } else if (sourceMappingActive) {\n      map.addMapping({\n        generated: {\n          line: generated.line,\n          column: generated.column\n        }\n      });\n      lastOriginalSource = null;\n      sourceMappingActive = false;\n    }\n    for (var idx = 0, length = chunk.length; idx < length; idx++) {\n      if (chunk.charCodeAt(idx) === NEWLINE_CODE) {\n        generated.line++;\n        generated.column = 0;\n        // Mappings end at eol\n        if (idx + 1 === length) {\n          lastOriginalSource = null;\n          sourceMappingActive = false;\n        } else if (sourceMappingActive) {\n          map.addMapping({\n            source: original.source,\n            original: {\n              line: original.line,\n              column: original.column\n            },\n            generated: {\n              line: generated.line,\n              column: generated.column\n            },\n            name: original.name\n          });\n        }\n      } else {\n        generated.column++;\n      }\n    }\n  });\n  this.walkSourceContents(function (sourceFile, sourceContent) {\n    map.setSourceContent(sourceFile, sourceContent);\n  });\n\n  return { code: generated.code, map: map };\n};\n\nexports.SourceNode = SourceNode;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\nvar MAX_CACHED_INPUTS = 32;\n\n/**\n * Takes some function `f(input) -> result` and returns a memoized version of\n * `f`.\n *\n * We keep at most `MAX_CACHED_INPUTS` memoized results of `f` alive. The\n * memoization is a dumb-simple, linear least-recently-used cache.\n */\nfunction lruMemoize(f) {\n  var cache = [];\n\n  return function(input) {\n    for (var i = 0; i < cache.length; i++) {\n      if (cache[i].input === input) {\n        var temp = cache[0];\n        cache[0] = cache[i];\n        cache[i] = temp;\n        return cache[0].result;\n      }\n    }\n\n    var result = f(input);\n\n    cache.unshift({\n      input,\n      result,\n    });\n\n    if (cache.length > MAX_CACHED_INPUTS) {\n      cache.pop();\n    }\n\n    return result;\n  };\n}\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nvar normalize = lruMemoize(function normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n  // Split the path into parts between `/` characters. This is much faster than\n  // using `.split(/\\/+/g)`.\n  var parts = [];\n  var start = 0;\n  var i = 0;\n  while (true) {\n    start = i;\n    i = path.indexOf(\"/\", start);\n    if (i === -1) {\n      parts.push(path.slice(start));\n      break;\n    } else {\n      parts.push(path.slice(start, i));\n      while (i < path.length && path[i] === \"/\") {\n        i++;\n      }\n    }\n  }\n\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n});\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\nfunction compareByOriginalPositionsNoSource(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositionsNoSource = compareByOriginalPositionsNoSource;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction compareByGeneratedPositionsDeflatedNoLine(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflatedNoLine = compareByGeneratedPositionsDeflatedNoLine;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   “sources” entry.  This value is prepended to the individual\n    //   entries in the “source” field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   “sourceRoot”, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n","/*\n * Copyright 2009-2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE.txt or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.SourceMapGenerator = require('./lib/source-map-generator').SourceMapGenerator;\nexports.SourceMapConsumer = require('./lib/source-map-consumer').SourceMapConsumer;\nexports.SourceNode = require('./lib/source-node').SourceNode;\n","import * as vscode from 'vscode';\nimport postcss from 'postcss';\nimport { PluginContainer, pluginContainer, pluginOptions } from './postcss/index';\n\nconst log = vscode.window.createOutputChannel(\"CSSTools Design Tokens\");\n\nfunction getOptions(): pluginOptions {\n\tlet importAtRuleName = vscode.workspace.getConfiguration('designTokens')?.get('importAtRuleName') ?? 'design-tokens';\n\tlet valueFunctionName = vscode.workspace.getConfiguration('designTokens')?.get('valueFunctionName') ?? 'design-token';\n\n\tif (!(typeof importAtRuleName === 'string') || !importAtRuleName) {\n\t\timportAtRuleName = 'design-tokens';\n\t}\n\n\tif (!(typeof valueFunctionName === 'string') || !valueFunctionName) {\n\t\tvalueFunctionName = 'design-token';\n\t}\n\n\treturn {\n\t\timportAtRuleName: importAtRuleName as string,\n\t\tvalueFunctionName: valueFunctionName as string,\n\t};\n}\n\nexport function activate(context: vscode.ExtensionContext) {\n\tconst tokensData: Map<string, PluginContainer> = new Map();\n\n\t{\n\t\tif (vscode.window?.activeTextEditor?.document?.languageId === 'css') {\n\t\t\thandleCSSDocument(tokensData, vscode.window.activeTextEditor.document, getOptions());\n\t\t}\n\t}\n\n\tcontext.subscriptions.push(vscode.workspace.onDidSaveTextDocument(async (document: vscode.TextDocument) => {\n\t\tif (document.languageId !== 'css') {\n\t\t\treturn;\n\t\t}\n\n\t\thandleCSSDocument(tokensData, document, getOptions());\n\t}));\n\n\tcontext.subscriptions.push(vscode.window.onDidChangeActiveTextEditor((editor) => {\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (editor.document.languageId !== 'css') {\n\t\t\treturn;\n\t\t}\n\n\t\thandleCSSDocument(tokensData, editor.document, getOptions());\n\t}));\n\n\tcontext.subscriptions.push(vscode.languages.registerCompletionItemProvider('css', {\n\t\tasync provideCompletionItems(document, position, cancelToken) {\n\t\t\tconst options = getOptions();\n\n\t\t\tconst completionItems: Array<vscode.CompletionItem> = [];\n\n\t\t\tif (position.character === 0 || document.lineAt(position.line).text.startsWith('@' + options.importAtRuleName)) {\n\t\t\t\t{\n\t\t\t\t\tconst completionItem = new vscode.CompletionItem('@' + options.importAtRuleName, vscode.CompletionItemKind.Snippet);\n\t\t\t\t\tcompletionItem.insertText = new vscode.SnippetString(\n\t\t\t\t\t\t\"@\" + options.importAtRuleName + \" url('$1') format('${2:style-dictionary3}');$0\"\n\t\t\t\t\t);\n\t\t\t\t\tcompletionItem.filterText = '@' + options.importAtRuleName;\n\t\t\t\t\tcompletionItem.detail = 'Import design tokens';\n\t\t\t\t\tcompletionItems.push(completionItem);\n\t\t\t\t}\n\n\t\t\t\t{\n\t\t\t\t\tconst completionItem = new vscode.CompletionItem('@' + options.importAtRuleName + ' when', vscode.CompletionItemKind.Snippet);\n\t\t\t\t\tcompletionItem.insertText = new vscode.SnippetString(\n\t\t\t\t\t\t\"@\" + options.importAtRuleName + \" url('$1') format('${2:style-dictionary3}') when('$3');$0\"\n\t\t\t\t\t);\n\t\t\t\t\tcompletionItem.filterText = '@' + options.importAtRuleName + ' when';\n\t\t\t\t\tcompletionItem.detail = 'Import design tokens conditionally';\n\t\t\t\t\tcompletionItems.push(completionItem);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst tokens = tokensData.get(document.uri.fsPath);\n\t\t\tif (!tokens) {\n\t\t\t\treturn completionItems;\n\t\t\t}\n\n\t\t\tfor (const [tokenPath, token] of tokens.tokens().entries()) {\n\t\t\t\tconst completionItem = new vscode.CompletionItem(tokenPath + ` ${token.cssValue()}`, vscode.CompletionItemKind.Variable);\n\t\t\t\tcompletionItem.insertText = `${options.valueFunctionName}('${tokenPath}')`;\n\t\t\t\tcompletionItem.filterText = `${options.valueFunctionName}('${tokenPath}') ${token.cssValue()}`;\n\n\t\t\t\tif (token.comment) {\n\t\t\t\t\tcompletionItem.documentation = new vscode.MarkdownString(token.comment);\n\t\t\t\t}\n\n\t\t\t\tcompletionItems.push(completionItem);\n\t\t\t}\n\n\t\t\treturn completionItems;\n\t\t}\n\t}));\n\n\tcontext.subscriptions.push(vscode.languages.registerHoverProvider('css', {\n\t\tprovideHover(document, position) {\n\t\t\tconst tokens = tokensData.get(document.uri.fsPath);\n\t\t\tif (!tokens) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst line = document.lineAt(position.line).text;\n\t\t\tfor (const [tokenPath, token] of tokens.tokens().entries()) {\n\t\t\t\tconst tokenPathInCSS = `'${tokenPath}'`;\n\t\t\t\tlet index = line.indexOf(tokenPathInCSS);\n\t\t\t\tif (index === -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlet conditionalTokensTable = '';\n\t\t\t\tfor (const [condition, conditionalTokens] of tokens.conditionalTokens().entries()) {\n\t\t\t\t\tconst conditionalToken = conditionalTokens.get(tokenPath);\n\t\t\t\t\tif (conditionalToken && conditionalToken.cssValue() !== token.cssValue()) {\n\t\t\t\t\t\tconditionalTokensTable += `| ${condition} | [${conditionalToken.cssValue()}](${vscode.Uri.file(conditionalToken.metadata?.filePath ?? '')}) |\\n`;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (conditionalTokensTable) {\n\t\t\t\t\tconditionalTokensTable = `| when | |\\n|:--- | ---:|\\n| default | [${token.cssValue()}](${vscode.Uri.file(token.metadata?.filePath ?? '')}) |\\n${conditionalTokensTable}`;\n\t\t\t\t}\n\n\t\t\t\tlet tokenRange = new vscode.Range(position.line, index, position.line, index + tokenPathInCSS.length);\n\t\t\t\tif (tokenRange.contains(position)) {\n\t\t\t\t\treturn new vscode.Hover(new vscode.MarkdownString(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t`Token: ${token.name}`,\n\t\t\t\t\t\t\t`_${tokenPath}_`,\n\t\t\t\t\t\t\ttoken.cssValue(),\n\t\t\t\t\t\t\ttoken.comment,\n\t\t\t\t\t\t\tconditionalTokensTable\n\t\t\t\t\t\t].filter(x => !!x).join('\\n\\n')\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}));\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate() {}\n\nasync function handleCSSDocument(tokensData: Map<string, PluginContainer>, document: vscode.TextDocument, options: pluginOptions) {\n\tconst css = document.getText();\n\tconst documentPlugin = tokensData.has(document.uri.fsPath) ? tokensData.get(document.uri.fsPath)! : (tokensData.set(document.uri.fsPath, pluginContainer(options)), tokensData.get(document.uri.fsPath)!);\n\tdocumentPlugin.reset();\n\n\ttry {\n\t\tawait postcss([documentPlugin.creator]).process(css, { from: document.uri.fsPath }).then((result) => {\n\t\t\tresult.messages.forEach((x) => {\n\t\t\t\tif (x.type === 'dependency') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlog.appendLine(`${x.type}: ${x.plugin} - ${x.text}`);\n\t\t\t});\n\t\t});\n\t} catch (e) {\n\t\tlog.appendLine(`error:\\n\\t` + (e as Error).message);\n\t\treturn;\n\t}\n}\n","import valueParser from 'postcss-value-parser';\nimport { Token } from './base/token';\nimport { extractStyleDictionaryTokens } from './style-dictionary/style-dictionary';\nimport path from 'path';\nimport * as vscode from 'vscode';\n\n// @ts-ignore\nconst requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : require;\n\nfunction parseImport(statement: string): { filePath: string, format: string, conditions: Array<string> } {\n\tconst importAST = valueParser(statement);\n\n\tconst result = {\n\t\tfilePath: '',\n\t\tformat: 'standard',\n\t\tconditions: [] as Array<string>,\n\t};\n\n\timportAST.walk((node) => {\n\t\tif (node.type === 'function' && node.value === 'url') {\n\t\t\tresult.filePath = node.nodes[0].value;\n\t\t}\n\n\t\tif (node.type === 'function' && node.value === 'format') {\n\t\t\tresult.format = node.nodes[0].value;\n\t\t}\n\n\t\tif (node.type === 'function' && node.value === 'when') {\n\t\t\tresult.conditions = node.nodes.filter((child) => {\n\t\t\t\treturn child.type === 'string';\n\t\t\t}).map((child) => child.value);\n\t\t}\n\t});\n\n\treturn result;\n}\n\nexport async function tokensFromImport(sourceFilePath: string, statement: string, alreadyImported: Set<string>): Promise<{ filePath: string, tokens: Map<string, Token>, conditions: Array<string> }|false> {\n\tconst { filePath, format, conditions } = parseImport(statement);\n\n\tlet resolvedPath = '';\n\tif (filePath.startsWith('node_modules://')) {\n\t\ttry {\n\t\t\tresolvedPath = requireFunc.resolve(filePath.slice(15), {\n\t\t\t\tpaths: [\n\t\t\t\t\tpath.dirname(sourceFilePath),\n\t\t\t\t],\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tresolvedPath = path.resolve(path.dirname(sourceFilePath), filePath);\n\t\t}\n\t} else {\n\t\tresolvedPath = path.resolve(path.dirname(sourceFilePath), filePath);\n\t}\n\n\tif (alreadyImported.has(resolvedPath)) {\n\t\treturn false;\n\t}\n\n\talreadyImported.add(resolvedPath);\n\n\tconst fileContents = await vscode.workspace.fs.readFile(vscode.Uri.file(resolvedPath));\n\tconst tokenContents = JSON.parse(fileContents.toString());\n\n\tswitch (format) {\n\t\tcase 'style-dictionary3':\n\t\t\treturn {\n\t\t\t\tfilePath: path.resolve(filePath),\n\t\t\t\ttokens: extractStyleDictionaryTokens('3', tokenContents, resolvedPath),\n\t\t\t\tconditions: conditions,\n\t\t\t};\n\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tthrow new Error('Unsupported format: ' + format);\n}\n","\nimport { Token } from '../base/token';\nimport { extractStyleDictionaryV3Tokens, StyleDictionaryV3TokenGroup } from './v3/group';\n\nexport const latestStyleDictionaryVersion = '3';\n\nexport function extractStyleDictionaryTokens(version: string, node: unknown, filePath: string): Map<string, Token> {\n\tif (version === '3') {\n\t\treturn extractStyleDictionaryV3Tokens(node as StyleDictionaryV3TokenGroup, filePath);\n\t}\n\n\tthrow new Error('Unsupported version: ' + version);\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { TokenTransformOptions } from '../../base/token';\nimport { toposort } from '../../toposort/toposort';\nimport { applyTransformsToValue, StyleDictionaryV3TokenValue } from './value';\n\nexport function dereferenceTokenValues(tokens: Map<string, StyleDictionaryV3TokenValue>): Map<string, StyleDictionaryV3TokenValue> {\n\tconst tainted = new Set<string>();\n\tconst referenceASTs = new Map<string, Array<ValuePart>>();\n\n\t// Gather all references.\n\t{\n\t\tfor (const [id, token] of tokens.entries()) {\n\t\t\tconst referenceAST = parseReferences(token.value);\n\t\t\tif (!referenceAST.length) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\ttainted.add(id);\n\t\t\treferenceASTs.set(id, referenceAST);\n\t\t}\n\t}\n\n\t// Fast dereference.\n\t// Only handles references for which a value can found immediately.\n\t{\n\t\tfor (const [id, referenceAST] of referenceASTs.entries()) {\n\t\t\tfor (let i = 0; i < referenceAST.length; i++) {\n\t\t\t\tconst reference = referenceAST[i];\n\t\t\t\tif (reference.type !== 'value-reference') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (tainted.has(reference.raw)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (!tokens.has(reference.raw)) {\n\t\t\t\t\tthrow new Error('Alias \"' + reference.raw + '\" not found');\n\t\t\t\t}\n\n\t\t\t\tconst sourceToken = tokens.get(reference.raw)!;\n\t\t\t\treferenceAST[i] = {\n\t\t\t\t\ttype: 'value-resolved',\n\t\t\t\t\traw: reference.raw,\n\t\t\t\t\tvalue: sourceToken.cssValue(),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst hasFurtherReferences = referenceAST.some(part => part.type === 'value-reference');\n\t\t\tif (hasFurtherReferences) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst value = (referenceAST as ValuePartsResolved).map(part => part.value).join('');\n\t\t\tconst currentToken = tokens.get(id)!;\n\n\t\t\tcurrentToken.value = value;\n\t\t\tcurrentToken.cssValue = (transformOptions: TokenTransformOptions) => {\n\t\t\t\treturn applyTransformsToValue(value, transformOptions);\n\t\t\t};\n\n\t\t\ttokens.set(id, currentToken);\n\t\t\ttainted.delete(id);\n\t\t\treferenceASTs.delete(id);\n\t\t}\n\n\t\tif (tainted.size === 0) {\n\t\t\treturn tokens;\n\t\t}\n\t}\n\n\t// Topological dereference.\n\t{\n\t\tconst nodes: Array<string> = Array.from(tokens.keys());\n\t\tconst edges: Array<Array<string>> = [];\n\n\t\tfor (const [id, referenceAST] of referenceASTs.entries()) {\n\t\t\tfor (let i = 0; i < referenceAST.length; i++) {\n\t\t\t\tconst reference = referenceAST[i];\n\t\t\t\tif (reference.type !== 'value-reference') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tedges.push([reference.raw, id]);\n\t\t\t}\n\t\t}\n\n\t\tconst sorted = toposort(nodes, edges);\n\t\tif (!sorted) {\n\t\t\tthrow new Error('Circular reference detected');\n\t\t}\n\n\t\tfor (const id of sorted) {\n\t\t\tif (!referenceASTs.has(id)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst referenceAST = referenceASTs.get(id)!;\n\t\t\tfor (let i = 0; i < referenceAST.length; i++) {\n\t\t\t\tconst reference = referenceAST[i];\n\t\t\t\tif (reference.type !== 'value-reference') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (tainted.has(reference.raw)) {\n\t\t\t\t\tthrow new Error('Alias \"' + reference.raw + '\" can not be resolved');\n\t\t\t\t}\n\n\t\t\t\tif (!tokens.has(reference.raw)) {\n\t\t\t\t\tthrow new Error('Alias \"' + reference.raw + '\" not found');\n\t\t\t\t}\n\n\t\t\t\tconst sourceToken = tokens.get(reference.raw)!;\n\t\t\t\treferenceAST[i] = {\n\t\t\t\t\ttype: 'value-resolved',\n\t\t\t\t\traw: reference.raw,\n\t\t\t\t\tvalue: sourceToken.cssValue(),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst hasFurtherReferences = referenceAST.some(part => part.type === 'value-reference');\n\t\t\tif (hasFurtherReferences) {\n\t\t\t\tthrow new Error('Token \"' + id + '\" can not be fully resolved');\n\t\t\t}\n\n\t\t\tconst value = (referenceAST as ValuePartsResolved).map(part => part.value).join('');\n\t\t\tconst currentToken = tokens.get(id)!;\n\n\t\t\tcurrentToken.value = value;\n\t\t\tcurrentToken.cssValue = (transformOptions: TokenTransformOptions) => {\n\t\t\t\treturn applyTransformsToValue(value, transformOptions);\n\t\t\t};\n\n\t\t\ttokens.set(id, currentToken);\n\t\t\ttainted.delete(id);\n\t\t\treferenceASTs.delete(id);\n\t\t}\n\n\t\tif (tainted.size === 0) {\n\t\t\treturn tokens;\n\t\t}\n\t}\n\n\treturn tokens;\n}\n\ntype ValuePartsResolved = Array<ValueNonReference | ValueResolved>;\ntype ValuePart = ValueReference | ValueNonReference | ValueResolved;\n\ntype ValueReference = {\n\ttype: 'value-reference',\n\traw: string,\n};\n\ntype ValueResolved = {\n\ttype: 'value-resolved',\n\traw: string,\n\tvalue: string,\n};\n\ntype ValueNonReference = {\n\ttype: 'value-non-reference',\n\tvalue: string,\n};\n\nfunction parseReferences(valueWithReferences: unknown): Array<ValuePart> {\n\tif (typeof valueWithReferences !== 'string') {\n\t\treturn [];\n\t}\n\n\tif (valueWithReferences.indexOf('{') === -1) {\n\t\treturn [];\n\t}\n\n\tconst result: Array<ValuePart> = [];\n\tlet hasReferences = false;\n\n\tlet inReference = false;\n\tlet buf = '';\n\n\tfor (let index = 0; index < valueWithReferences.length; index++) {\n\t\tconst char = valueWithReferences[index];\n\n\t\tswitch (char) {\n\t\t\tcase '{':\n\t\t\t\tif (inReference) {\n\t\t\t\t\tthrow new Error('Unexpected \"{\" in \"' + valueWithReferences + '\" at ' + index);\n\t\t\t\t}\n\n\t\t\t\tif (buf.length > 0) {\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ttype: 'value-non-reference',\n\t\t\t\t\t\tvalue: buf,\n\t\t\t\t\t});\n\t\t\t\t\tbuf = '';\n\t\t\t\t}\n\n\t\t\t\tinReference = true;\n\t\t\t\tbreak;\n\t\t\tcase '}':\n\t\t\t\tif (!inReference) {\n\t\t\t\t\tthrow new Error('Unexpected \"}\" in \"' + valueWithReferences + '\" at ' + index);\n\t\t\t\t}\n\n\t\t\t\tif (buf.length === 0) {\n\t\t\t\t\tthrow new Error('Empty alias \"{}\" in \"' + valueWithReferences + '\" at ' + index);\n\t\t\t\t}\n\n\t\t\t\t{\n\t\t\t\t\tlet reference = buf.trim();\n\t\t\t\t\tif (reference.slice(-6) === '.value') {\n\t\t\t\t\t\treference = reference.slice(0, -6);\n\t\t\t\t\t}\n\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ttype: 'value-reference',\n\t\t\t\t\t\traw: reference,\n\t\t\t\t\t});\n\t\t\t\t\tbuf = '';\n\t\t\t\t}\n\n\t\t\t\thasReferences = true;\n\t\t\t\tinReference = false;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbuf += char;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (inReference) {\n\t\tthrow new Error('Unexpected end of alias in \"' + valueWithReferences + '\"');\n\t}\n\n\tif (buf.length > 0) {\n\t\tresult.push({\n\t\t\ttype: 'value-non-reference',\n\t\t\tvalue: buf,\n\t\t});\n\t}\n\n\tif (!hasReferences) {\n\t\treturn [];\n\t}\n\n\treturn result;\n}\n","import { Token } from '../../base/token';\nimport { dereferenceTokenValues } from './dereference';\nimport { extractStyleDictionaryV3Token, StyleDictionaryV3TokenValue } from './value';\n\nexport type StyleDictionaryV3TokenGroup = {\n\t[key: string]: StyleDictionaryV3TokenGroup | StyleDictionaryV3TokenValue;\n};\n\nfunction extractTokens(node: StyleDictionaryV3TokenGroup, path: Array<string>, filePath: string): Map<string, StyleDictionaryV3TokenValue> {\n\tconst result: Map<string, StyleDictionaryV3TokenValue> = new Map();\n\tfor (const key in node) {\n\t\tif (Object.hasOwnProperty.call(node, key)) {\n\t\t\tif (\n\t\t\t\tnode[key] === null ||\n\t\t\t\ttypeof node[key] !== 'object' ||\n\t\t\t\tArray.isArray(node[key])\n\t\t\t) {\n\t\t\t\tthrow new Error(`Parsing error at \"${[...path, key].join('.')}\"`);\n\t\t\t}\n\n\t\t\tconst child = Object(node[key]);\n\t\t\tif (!child) {\n\t\t\t\tthrow new Error(`Parsing error at \"${[...path, key].join('.')}\"`);\n\t\t\t}\n\n\t\t\tif (typeof child['value'] !== 'undefined') {\n\t\t\t\tconst token = extractStyleDictionaryV3Token(child, key, path, filePath);\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\tresult.set(token.metadata!.path.join('.'), token);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (const [tokenPath, token] of extractTokens(child, [...path, key], filePath).entries()) {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\tresult.set(tokenPath, token);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport function extractStyleDictionaryV3Tokens(node: StyleDictionaryV3TokenGroup, filePath: string): Map<string, Token> {\n\treturn dereferenceTokenValues(extractTokens(node, [], filePath));\n}\n","import { TokenTransformOptions } from '../../base/token';\nimport valueParser from 'postcss-value-parser';\n\nexport type StyleDictionaryV3TokenValue = {\n\tcssValue(transformOptions?: TokenTransformOptions): string\n\t// The value of the design token. This can be any type of data, a hex string, an integer, a file path to a file, even an object or array.\n\tvalue: unknown\n\t// Usually the name for a design token is generated with a name transform, but you can write your own if you choose. By default Style Dictionary will add a default name which is the key of the design token object.\n\tname?: string\n\t// The comment attribute will show up in a code comment in output files if the format supports it.\n\tcomment?: string\n\t// This is used in formats that support override-able or themeable values like the !default flag in Sass.\n\tthemeable?: boolean\n\t// Extra information about the design token you want to include. Attribute transforms will modify this object so be careful\n\tattributes?: unknown\n\n\t// Set by the token parser\n\tmetadata?: {\n\t\t// A default name of the design token that is set to the key of the design token. This is only added if you do not provide one.\n\t\tname?: string\n\t\t// The object path of the design token.\n\t\tpath: Array<string>\n\t\t// The file path of the file the token is defined in. This file path is derived from the source or include file path arrays defined in the configuration.\n\t\tfilePath: string\n\t\t// If the token is from a file defined in the source array as opposed to include in the configuration.\n\t\tisSource: boolean\n\t}\n};\n\nexport function extractStyleDictionaryV3Token(node: Record<string, unknown>, key: string, path: Array<string>, filePath: string): StyleDictionaryV3TokenValue {\n\tif (typeof node['value'] === 'undefined') {\n\t\tthrow new Error('Token value is undefined for \"' + [...path, key].join('.') + '\"');\n\t}\n\n\tswitch (typeof node['value']) {\n\t\tcase 'string':\n\t\tcase 'number':\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error('Token value is not a string or a number for \"' + [...path, key].join('.') + '\"');\n\t}\n\n\tconst value = String(node['value']);\n\n\treturn {\n\t\tvalue: value,\n\t\tcssValue: (transformOptions?: TokenTransformOptions) => {\n\t\t\treturn applyTransformsToValue(value, transformOptions);\n\t\t},\n\t\tname: String(node['name'] ?? '') || key,\n\t\tcomment: String(node['comment'] ?? '') || undefined,\n\t\tmetadata: {\n\t\t\tname: String(node['name'] ?? '') ? key : undefined,\n\t\t\tpath: [...path, key],\n\t\t\tfilePath: filePath,\n\t\t\tisSource: true,\n\t\t},\n\t};\n}\n\nconst unitValidity: Map<string, boolean> = new Map();\n\nexport function applyTransformsToValue(value: string | undefined | null, transformOptions?: TokenTransformOptions): string {\n\tif (!value) {\n\t\treturn '';\n\t}\n\n\tif (!transformOptions) {\n\t\treturn value;\n\t}\n\n\tif (!transformOptions.toUnit) {\n\t\treturn value;\n\t}\n\n\tconst dimension = valueParser.unit(value ?? '');\n\tif (!dimension || dimension.unit === transformOptions.toUnit) {\n\t\treturn value;\n\t}\n\n\tif (!dimension.unit) {\n\t\tif (unitValidity.has(transformOptions.toUnit)) {\n\t\t\tif (unitValidity.get(transformOptions.toUnit)) {\n\t\t\t\treturn `${value}${transformOptions.toUnit}`;\n\t\t\t} else {\n\t\t\t\tthrow new Error(`Invalid unit \"${transformOptions.toUnit}\" for \"${value}\"`);\n\t\t\t}\n\t\t}\n\n\t\ttry {\n\t\t\t// - concatenate the value and the desired unit.\n\t\t\t// - try to parse the result as a CSS dimension (value + unit)\n\t\t\t// - if the unit is not equal to the original we know that the input was incorrect.\n\t\t\tconst resultingDimension = valueParser.unit(`${value}${transformOptions.toUnit}`);\n\t\t\tif (resultingDimension && resultingDimension.unit === transformOptions.toUnit) {\n\t\t\t\tunitValidity.set(transformOptions.toUnit, true);\n\t\t\t\treturn `${value}${transformOptions.toUnit}`;\n\t\t\t}\n\n\t\t\tunitValidity.set(transformOptions.toUnit, false);\n\t\t} catch (_) {\n\t\t\tunitValidity.set(transformOptions.toUnit, false);\n\t\t}\n\n\t\tthrow new Error(`Invalid unit \"${transformOptions.toUnit}\" for \"${value}\"`);\n\t}\n\n\tif (dimension.unit === 'rem' && transformOptions.toUnit === 'px') {\n\t\treturn remToPx(parseFloat(dimension.number), transformOptions.pluginOptions?.rootFontSize ?? 16);\n\t}\n\n\tif (dimension.unit === 'px' && transformOptions.toUnit === 'rem') {\n\t\treturn pxToRem(parseFloat(dimension.number), transformOptions.pluginOptions?.rootFontSize ?? 16);\n\t}\n\n\treturn value;\n}\n\nfunction remToPx(value: number, rootFontSize: number): string {\n\treturn `${formatFloat(value * rootFontSize)}px`;\n}\n\nfunction pxToRem(value: number, rootFontSize: number): string {\n\treturn `${formatFloat(value / rootFontSize)}rem`;\n}\n\nfunction formatFloat(value: number): string {\n\tif (Number.isInteger(value)) {\n\t\treturn value.toString();\n\t}\n\n\tlet fixedPrecision = value.toFixed(5);\n\tfor (let i = fixedPrecision.length; i > 0; i--) {\n\t\tif (fixedPrecision[i] === '.') {\n\t\t\tbreak;\n\t\t}\n\n\t\tif (fixedPrecision[i] !== '0') {\n\t\t\tfixedPrecision = fixedPrecision.slice(0, i + 1);\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\treturn fixedPrecision;\n}\n","import { Token } from './base/token';\n\nexport function mergeTokens(a: Map<string, Token>, b: Map<string, Token>): Map<string, Token> {\n\tconst result = new Map(a);\n\tfor (const [key, value] of b) {\n\t\tresult.set(key, value);\n\t}\n\treturn result;\n}\n","// Toposort - Topological sorting for node.js\n// Copyright (c) 2012 by Marcel Klehr <mklehr@gmx.net>\n// MIT LICENSE\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport function toposort(nodes: Array<string>, edges: Array<Array<string>>): Array<string> {\n\tlet cursor = nodes.length;\n\tconst sorted: Array<string> = new Array(cursor);\n\tconst visited: Record<number, boolean> = {};\n\tlet i = cursor;\n\t// Better data structures make algorithm much faster.\n\tconst outgoingEdges = makeOutgoingEdges(edges);\n\tconst nodesHash = makeNodesHash(nodes);\n\n\t// check for unknown nodes\n\tedges.forEach(function (edge) {\n\t\tif (!nodesHash.has(edge[0]) || !nodesHash.has(edge[1])) {\n\t\t\tthrow new Error('Unknown token. Make sure to provide all tokens used in aliases.');\n\t\t}\n\t});\n\n\twhile (i--) {\n\t\tif (!visited[i]) {\n\t\t\tvisit(nodes[i], i, new Set());\n\t\t}\n\t}\n\n\treturn sorted;\n\n\tfunction visit(node: string, j: number, predecessors: Set<string>) {\n\t\tif (predecessors.has(node)) {\n\t\t\tlet nodeRep;\n\t\t\ttry {\n\t\t\t\tnodeRep = ', token was: ' + JSON.stringify(node);\n\t\t\t} catch (e) {\n\t\t\t\tnodeRep = '';\n\t\t\t}\n\t\t\tthrow new Error('Cyclic dependency' + nodeRep);\n\t\t}\n\n\t\tif (!nodesHash.has(node)) {\n\t\t\tthrow new Error('Found unknown token. Make sure to provided all involved tokens. Unknown token: ' + JSON.stringify(node));\n\t\t}\n\n\t\tif (visited[j]) {\n\t\t\treturn;\n\t\t}\n\t\tvisited[j] = true;\n\n\t\tlet outgoing = outgoingEdges.get(node) || new Set();\n\t\toutgoing = Array.from(outgoing);\n\n\t\t// eslint-disable-next-line no-cond-assign\n\t\tif (j = outgoing.length) {\n\t\t\tpredecessors.add(node);\n\t\t\tdo {\n\t\t\t\tconst child = outgoing[--j];\n\t\t\t\tvisit(child, nodesHash.get(child), predecessors);\n\t\t\t} while (j);\n\t\t\tpredecessors.delete(node);\n\t\t}\n\n\t\tsorted[--cursor] = node;\n\t}\n}\n\nfunction makeOutgoingEdges(arr: Array<Array<string>>) {\n\tconst edges = new Map();\n\tfor (let i = 0, len = arr.length; i < len; i++) {\n\t\tconst edge = arr[i];\n\t\tif (!edges.has(edge[0])) {\n\t\t\tedges.set(edge[0], new Set());\n\t\t}\n\t\tif (!edges.has(edge[1])) {\n\t\t\tedges.set(edge[1], new Set());\n\t\t}\n\t\tedges.get(edge[0]).add(edge[1]);\n\t}\n\treturn edges;\n}\n\nfunction makeNodesHash(arr: Array<string>) {\n\tconst res = new Map();\n\tfor (let i = 0, len = arr.length; i < len; i++) {\n\t\tres.set(arr[i], i);\n\t}\n\treturn res;\n}\n","import type { Node, PluginCreator, Plugin } from 'postcss';\nimport { Token } from './data-formats/base/token';\nimport { tokensFromImport } from './data-formats/parse-import';\nimport { mergeTokens } from './data-formats/token';\n\nexport interface PluginContainer {\n\tcreator: Plugin;\n\ttokens(): Map<string, Token>;\n\tconditionalTokens(): Map<string, Map<string, Token>>;\n\treset: () => void;\n}\n\nexport type pluginOptions = {\n\timportAtRuleName: string,\n\tvalueFunctionName: string,\n};\n\nexport function pluginContainer(options: pluginOptions): PluginContainer {\n\tconst data: {\n\t\ttokens: Map<string, Token>;\n\t\tconditionalTokens: Map<string, Map<string, Token>>;\n\t\timportedFiles: Set<string>;\n\t} = {\n\t\ttokens: new Map<string, Token>(),\n\t\tconditionalTokens: new Map<string, Map<string, Token>>(),\n\t\timportedFiles: new Set<string>(),\n\t};\n\n\tconst creator: PluginCreator<unknown> = () => {\n\t\treturn {\n\t\t\tpostcssPlugin: 'postcss-design-tokens',\n\t\t\tOnce: async (root, { result }) => {\n\t\t\t\tconst designTokenAtRules: Array<{ filePath: string, params: string, node: Node }> = [];\n\t\t\t\troot.walkAtRules((atRule) => {\n\t\t\t\t\tif (atRule.name.toLocaleLowerCase() !== options.importAtRuleName) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!atRule?.source?.input?.file) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst filePath = atRule.source.input.file;\n\t\t\t\t\tconst params = atRule.params;\n\t\t\t\t\tatRule.remove();\n\n\t\t\t\t\tdesignTokenAtRules.push({\n\t\t\t\t\t\tfilePath: filePath,\n\t\t\t\t\t\tparams: params,\n\t\t\t\t\t\tnode: atRule,\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tfor (const atRule of designTokenAtRules.values()) {\n\t\t\t\t\tlet importResult: { filePath: string, tokens: Map<string, Token>, conditions: Array<string> } | false;\n\t\t\t\t\ttry {\n\t\t\t\t\t\timportResult = await tokensFromImport(atRule.filePath, atRule.params, data.importedFiles);\n\t\t\t\t\t\tif (!importResult) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e: unknown) {\n\t\t\t\t\t\tatRule.node.warn(result, `Failed to import design tokens from \"${atRule.params}\" with error:\\n\\t` + (e as Error).message);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tresult.messages.push({\n\t\t\t\t\t\ttype: 'dependency',\n\t\t\t\t\t\tplugin: 'postcss-design-tokens',\n\t\t\t\t\t\tfile: importResult.filePath,\n\t\t\t\t\t\tparent: atRule.filePath,\n\t\t\t\t\t});\n\n\t\t\t\t\tif (importResult.conditions.length > 0) {\n\t\t\t\t\t\tconst condition = importResult.conditions.join(' ');\n\t\t\t\t\t\tif (!data.conditionalTokens.has(condition)) {\n\t\t\t\t\t\t\tdata.conditionalTokens.set(condition, new Map<string, Token>());\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst conditionalTokens = data.conditionalTokens.get(condition)!;\n\t\t\t\t\t\tdata.conditionalTokens.set(condition, mergeTokens(conditionalTokens, importResult.tokens));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tdata.tokens = mergeTokens(data.tokens, importResult.tokens);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\n\tcreator.postcss = true;\n\n\treturn {\n\t\tcreator: creator() as Plugin,\n\t\ttokens: () => { \n\t\t\treturn data.tokens;\n\t\t},\n\t\tconditionalTokens: () => {\n\t\t\treturn data.conditionalTokens;\n\t\t},\n\t\treset: () => {\n\t\t\tdata.tokens = new Map<string, Token>();\n\t\t\tdata.importedFiles = new Set<string>();\n\t\t\tdata.conditionalTokens = new Map<string, Map<string, Token>>();\n\t\t}\n\t};\n}\n","module.exports = require(\"vscode\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nlet customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nlet nanoid = (size = 21) => {\n  let id = ''\n  let i = size\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\nmodule.exports = { nanoid, customAlphabet }\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(112);\n"],"names":["tty","isColorSupported","process","env","argv","includes","platform","isatty","TERM","formatter","open","close","replace","input","string","index","indexOf","length","replaceClose","start","substring","end","nextIndex","createColors","enabled","reset","s","String","bold","dim","italic","underline","inverse","hidden","strikethrough","black","red","green","yellow","blue","magenta","cyan","white","gray","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","module","exports","parse","walk","stringify","ValueParser","value","this","nodes","prototype","toString","Array","isArray","cb","bubble","unit","openParentheses","charCodeAt","closeParentheses","singleQuote","doubleQuote","backslash","slash","comma","colon","star","uLower","uUpper","plus","isUnicodeRange","next","quote","prev","token","escape","escapePos","whitespacePos","parenthesesOpenPos","parent","tokens","pos","code","max","stack","balanced","name","before","after","slice","type","sourceEndIndex","push","sourceIndex","unclosed","pop","test","stringifyNode","node","custom","buf","customResult","undefined","result","i","minus","dot","exp","EXP","nextCode","nextNextCode","likeNumber","number","Container","AtRule","constructor","defaults","super","append","children","proxyOf","prepend","default","registerAtRule","Node","Comment","Rule","Root","isClean","my","Declaration","cleanSource","map","source","markDirtyUp","child","each","callback","iterator","getIterator","indexes","e","addToError","walkDecls","prop","RegExp","walkRules","selector","walkAtRules","walkComments","normalize","last","markDirty","reverse","first","unshift","id","cleanRaws","keepBetween","insertBefore","exist","add","existIndex","splice","insertAfter","removeChild","removeAll","replaceValues","pattern","opts","decl","props","fast","every","condition","some","sample","Error","text","rebuild","raws","getProxyProcessor","set","get","startsWith","args","toProxy","other","root","lastEach","registerParse","dependant","registerRule","registerRoot","Object","setPrototypeOf","forEach","pico","terminalHighlight","CssSyntaxError","message","line","column","file","plugin","reason","endLine","endColumn","setMessage","captureStackTrace","showSourceCode","color","css","mark","aside","lines","split","Math","min","maxWidth","str","gutter","spacing","join","variable","LazyResult","Processor","Document","toResult","registerLazyResult","registerProcessor","PreviousMap","Input","fromJSON","json","inputs","n","ownInputs","inputHydrated","__proto__","inputId","SourceMapConsumer","SourceMapGenerator","fileURLToPath","pathToFileURL","resolve","isAbsolute","nanoid","fromOffsetCache","Symbol","sourceMapAvailable","Boolean","pathAvailable","hasBOM","from","consumer","mapResolve","fromOffset","offset","lastLine","lineToIndex","prevIndex","l","mid","col","error","origin","url","to","fromUrl","originalPositionFor","URL","sourceRoot","mapFile","protocol","sourceContentFor","toJSON","consumerCache","registerInput","MapGenerator","Result","TYPE_TO_CLASS_NAME","document","atrule","rule","comment","PLUGIN_PROPS","postcssPlugin","prepare","Once","DeclarationExit","RuleExit","AtRuleExit","CommentExit","RootExit","DocumentExit","OnceExit","NOT_VISITORS","CHILDREN","isPromise","obj","then","getEvents","key","toLowerCase","toStack","events","eventIndex","visitors","visitorIndex","cleanMarks","postcss","processor","stringified","processed","inline","parser","syntax","helpers","plugins","toStringTag","content","sync","messages","warnings","onFulfilled","onRejected","async","catch","finally","onFinally","Promise","reject","processing","runAsync","getAsyncError","runOnRoot","prepareVisitors","hasListener","walkSync","listeners","subRoot","visitSync","stringifier","data","generate","event","visitor","promise","lastPlugin","handleError","roots","all","postcssVersion","err","console","visitTick","version","filter","keys","visit","registerPostcss","list","separators","array","current","func","inQuote","prevQuote","letter","trim","space","dirname","relative","sep","cssString","mapOpts","usesFileUrls","absolute","isMap","previous","previousMaps","isInline","annotation","isSourcesContent","sourcesContent","withContent","clearAnnotation","setSourcesContent","already","toFileUrl","toUrl","path","setSourceContent","applyPrevMaps","applySourceMap","isAnnotation","toBase64","Buffer","window","btoa","unescape","encodeURIComponent","addAnnotation","outputFile","eol","generateMap","generateString","fromSourceMap","addMapping","generated","original","encodeURI","sourcePath","noSource","mapping","match","lastIndexOf","p","semicolon","NoWorkResult","_processor","_css","_opts","_map","self","defineProperty","generatedCSS","generatedMap","_root","Stringifier","cloneNode","cloned","hasOwnProperty","call","j","clone","rangeBy","warn","remove","assign","overrides","cloneBefore","cloneAfter","replaceWith","bookmark","foundSelf","raw","defaultType","between","_","fixed","emitInputs","Map","inputsNextIndex","positionInside","positionBy","word","endIndex","proxyCache","Proxy","postcssNode","Parser","tokenizer","SAFE_COMMENT_NEIGHBOR","empty","spaces","customProperty","createTokenizer","endOfFile","nextToken","freeSemicolon","emptyRule","endFile","init","getPosition","left","right","bracket","brackets","back","unclosedBracket","unknownWord","spacesAndCommentsFromEnd","findLastWithPosition","shift","firstSpaces","precheckMissedSemicolon","important","stringFrom","spacesFromEnd","cache","concat","checkMissedSemicolon","unnamedAtrule","params","afterName","spacesAndCommentsFromStart","unexpectedClose","unclosedBlock","ownSemicolon","clean","reduce","lastTokenType","element","entries","doubleColon","founded","Warning","initializer","warningPrinted","creator","LANG","transformer","processOpts","pluginOpts","atRule","existsSync","readFileSync","loadAnnotation","startWith","loadMap","substr","getAnnotationURL","sourceMapString","comments","decodeInline","decodeURIComponent","lastMatch","atob","encoding","loadFile","JSON","prevPath","mappings","_mappings","sections","use","normalized","warning","ignore","selectors","values","DEFAULT_RAW","indent","beforeDecl","beforeRule","beforeOpen","beforeClose","beforeComment","emptyBody","commentLeft","commentRight","builder","body","rawValue","block","own","detect","rawCache","beforeAfter","method","toUpperCase","rawSemicolon","rawEmptyBody","rawIndent","parts","rawBeforeComment","rawBeforeDecl","rawBeforeRule","rawBeforeClose","rawBeforeOpen","rawColon","depth","step","HIGHLIGHT_THEME","getTokenType","ignoreErrors","SINGLE_QUOTE","DOUBLE_QUOTE","BACKSLASH","SLASH","NEWLINE","SPACE","FEED","TAB","CR","OPEN_SQUARE","CLOSE_SQUARE","OPEN_PARENTHESES","CLOSE_PARENTHESES","OPEN_CURLY","CLOSE_CURLY","SEMICOLON","ASTERISK","COLON","AT","RE_AT_END","RE_WORD_END","RE_BAD_BRACKET","RE_HEX_ESCAPE","options","escaped","currentToken","valueOf","buffer","returned","what","ignoreUnclosed","controlChar","fromCharCode","lastIndex","charAt","position","printed","range","opt","util","has","hasNativeMap","ArraySet","_array","_set","create","fromArray","aArray","aAllowDuplicates","len","size","getOwnPropertyNames","aStr","sStr","toSetString","isDuplicate","idx","at","aIdx","toArray","base64","encode","aValue","digit","encoded","vlq","toVLQSigned","VLQ_BASE","decode","aIndex","aOutParam","continuation","shifted","strLen","rest","intToCharMap","TypeError","charCode","recursiveSearch","aLow","aHigh","aNeedle","aHaystack","aCompare","aBias","floor","cmp","LEAST_UPPER_BOUND","GREATEST_LOWER_BOUND","search","MappingList","_sorted","_last","generatedLine","generatedColumn","unsortedForEach","aCallback","aThisArg","aMapping","mappingA","mappingB","lineA","lineB","columnA","columnB","compareByGeneratedPositionsInflated","sort","SortTemplate","comparator","swap","ary","x","y","temp","doQuickSort","r","low","high","round","random","pivot","q","sortCache","WeakMap","template","Function","templateFn","cloneSort","binarySearch","base64VLQ","quickSort","aSourceMap","aSourceMapURL","sourceMap","parseSourceMapInput","IndexedSourceMapConsumer","BasicSourceMapConsumer","getArg","sources","names","_version","_names","_sources","_absoluteSources","computeSourceURL","_sourceMapURL","Mapping","originalLine","originalColumn","__generatedMappings","configurable","enumerable","_parseMappings","__originalMappings","_charIsMappingSeparator","c","aSourceRoot","GENERATED_ORDER","ORIGINAL_ORDER","eachMapping","aContext","aOrder","context","_generatedMappings","_originalMappings","boundCallback","bind","sourceMapURL","allGeneratedPositionsFor","aArgs","needle","_findSourceIndex","_findMapping","compareByOriginalPositions","lastColumn","aSource","relativeSource","smc","_sourceRoot","_generateSourcesContent","_file","generatedMappings","destGeneratedMappings","destOriginalMappings","srcMapping","destMapping","compareGenerated","compareByGeneratedPositionsDeflatedNoLine","sortGenerated","a","b","lastOffset","_sections","offsetLine","offsetColumn","generatedOffset","segment","previousGeneratedColumn","previousOriginalLine","previousOriginalColumn","previousSource","previousName","originalMappings","subarrayStart","currentSource","compareByOriginalPositionsNoSource","aMappings","aLineName","aColumnName","aComparator","computeColumnSpans","nextMapping","lastGeneratedColumn","Infinity","compareByGeneratedPositionsDeflated","hasContentsOfAllSources","sc","nullOnMissing","urlParse","fileUriAbsPath","scheme","generatedPositionFor","sectionIndex","section","bias","generatedPosition","sectionMappings","adjustedMapping","_skipValidation","_sourcesContents","aSourceMapConsumer","generator","newMapping","sourceFile","sourceRelative","_validateMapping","aSourceFile","aSourceContent","aSourceMapPath","newSources","newNames","aGenerated","aOriginal","aName","_serializeMappings","nameIdx","sourceIdx","previousGeneratedLine","aSources","REGEX_NEWLINE","isSourceNode","SourceNode","aLine","aColumn","aChunks","sourceContents","fromStringWithSourceMap","aGeneratedCode","aRelativePath","remainingLines","remainingLinesIndex","shiftNextLine","getNextLine","lastGeneratedLine","lastMapping","nextLine","addMappingWithCode","aChunk","chunk","aFn","aSep","newChildren","replaceRight","aPattern","aReplacement","lastChild","walkSourceContents","fromSetString","toStringWithSourceMap","sourceMappingActive","lastOriginalSource","lastOriginalLine","lastOriginalColumn","lastOriginalName","sourceContent","aDefaultValue","arguments","urlRegexp","dataUrlRegexp","aUrl","auth","host","port","urlGenerate","aParsedUrl","f","aPath","part","up","aRoot","aPathUrl","aRootUrl","joined","level","supportsNullProto","identity","isProtoString","strcmp","aStr1","aStr2","onlyCompareOriginal","onlyCompareGenerated","sourceURL","parsed","log","vscode","createOutputChannel","getOptions","importAtRuleName","workspace","getConfiguration","valueFunctionName","handleCSSDocument","tokensData","getText","documentPlugin","uri","fsPath","pluginContainer","appendLine","activeTextEditor","languageId","subscriptions","onDidSaveTextDocument","onDidChangeActiveTextEditor","editor","languages","registerCompletionItemProvider","cancelToken","completionItems","character","lineAt","completionItem","CompletionItem","CompletionItemKind","Snippet","insertText","SnippetString","filterText","detail","tokenPath","cssValue","Variable","documentation","MarkdownString","registerHoverProvider","provideHover","tokenPathInCSS","conditionalTokensTable","conditionalTokens","conditionalToken","Uri","metadata","filePath","Range","contains","Hover","requireFunc","sourceFilePath","statement","alreadyImported","format","conditions","importAST","parseImport","resolvedPath","paths","fileContents","fs","readFile","tokenContents","extractStyleDictionaryTokens","latestStyleDictionaryVersion","extractStyleDictionaryV3Tokens","parseReferences","valueWithReferences","hasReferences","inReference","char","reference","tainted","Set","referenceASTs","referenceAST","sourceToken","transformOptions","applyTransformsToValue","delete","edges","sorted","toposort","extractTokens","extractStyleDictionaryV3Token","dereferenceTokenValues","isSource","unitValidity","toUnit","dimension","resultingDimension","rootFontSize","formatFloat","remToPx","parseFloat","pluginOptions","pxToRem","Number","isInteger","fixedPrecision","toFixed","cursor","visited","outgoingEdges","arr","edge","makeOutgoingEdges","nodesHash","res","makeNodesHash","predecessors","nodeRep","outgoing","importedFiles","designTokenAtRules","toLocaleLowerCase","importResult","tokensFromImport","mergeTokens","require","customAlphabet","alphabet","defaultSize","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}